parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Sjre":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const{element:{createElement:e,Fragment:t,useState:s},i18n:{__:i},components:{Placeholder:l,Disabled:o,SandBox:r,Button:a,ExternalLink:n,Spinner:d,ToolbarGroup:c,ToolbarButton:p},compose:{compose:u},data:{withSelect:b},blockEditor:{RichText:m,BlockControls:y}}=wp,{blockData:{embedScriptURL:v}}=bp,h=u=>{let{attributes:b,setAttributes:h,isSelected:g,preview:_,fetching:w}=u;const{url:f,caption:k}=b,E=i("BuddyPress Activity URL","buddypress"),[x,P]=s(f),[L,N]=s(!f),R=e=>{e&&e.preventDefault(),N(!1),h({url:x})},S=e(y,null,e(c,null,e(p,{icon:"edit",title:i("Edit URL","buddypress"),onClick:e=>{e&&e.preventDefault(),N(!0)}})));return L?e(l,{icon:"buddicons-activity",label:E,className:"wp-block-embed",instructions:i("Paste the link to the activity content you want to display on your site.","buddypress")},e("form",{onSubmit:R},e("input",{type:"url",value:x||"",className:"components-placeholder__input","aria-label":E,placeholder:i("Enter URL to embed here…","buddypress"),onChange:e=>P(e.target.value)}),e(a,{isPrimary:!0,type:"submit"},i("Embed","buddypress"))),e("div",{className:"components-placeholder__learn-more"},e(n,{href:i("https://codex.buddypress.org/activity-embeds/")},i("Learn more about activity embeds","buddypress")))):w?e("div",{className:"wp-block-embed is-loading"},e(d,null),e("p",null,i("Embedding…","buddypress"))):_&&_.x_buddypress&&"activity"===_.x_buddypress?e(t,null,!L&&S,e("figure",{className:"wp-block-embed is-type-bp-activity"},e("div",{className:"wp-block-embed__wrapper"},e(o,null,e(r,{html:_&&_.html?_.html:"",scripts:[v]}))),(!m.isEmpty(k)||g)&&e(m,{tagName:"figcaption",placeholder:i("Write caption…","buddypress"),value:k,onChange:e=>h({caption:e}),inlineToolbar:!0}))):e(t,null,S,e(l,{icon:"buddicons-activity",label:E},e("p",{className:"components-placeholder__error"},i("The URL you provided is not a permalink to a public BuddyPress Activity. Please use another URL.","buddypress"))))},g=u([b((e,t)=>{const{url:s}=t.attributes,{getEmbedPreview:i,isRequestingEmbedPreview:l}=e("core");return{preview:!!s&&i(s),fetching:!!s&&l(s)}})])(h);var _=g;exports.default=_;
},{}],"zmBI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const{blockEditor:{RichText:e},element:{createElement:t}}=wp,a=a=>{let{attributes:l}=a;const{url:r,caption:i}=l;return r?t("figure",{className:"wp-block-embed is-type-bp-activity"},t("div",{className:"wp-block-embed__wrapper"},`\n${r}\n`),!e.isEmpty(i)&&t(e.Content,{tagName:"figcaption",value:i})):null};var l=a;exports.default=l;
},{}],"hBDw":[function(require,module,exports) {
"use strict";var t=i(require("./embed-activity/edit")),e=i(require("./embed-activity/save"));function i(t){return t&&t.__esModule?t:{default:t}}const{i18n:{__:r},blocks:{registerBlockType:s}}=wp;s("bp/embed-activity",{title:r("Embed an activity","buddypress"),description:r("Add a block that displays the activity content pulled from this or other community sites.","buddypress"),icon:{background:"#fff",foreground:"#d84800",src:"buddicons-activity"},category:"buddypress",attributes:{url:{type:"string"},caption:{type:"string",source:"html",selector:"figcaption"}},supports:{align:!0},edit:t.default,save:e.default});
},{"./embed-activity/edit":"Sjre","./embed-activity/save":"zmBI"}]},{},["hBDw"], null)
//# sourceMappingURL=/bp-activity/js/blocks/embed-activity.js.map