{"version":3,"sources":["bp-groups/js/blocks/groups/constants.js","bp-groups/js/blocks/groups/edit.js","bp-groups/js/blocks/groups.js"],"names":["i18n","__","wp","AVATAR_SIZES","label","value","GROUP_STATI","public","private","hidden","EXTRA_INFO","editGroupsBlock","blockEditor","InspectorControls","BlockControls","components","Placeholder","PanelBody","SelectControl","ToggleControl","Button","Dashicon","Tooltip","ToolbarGroup","RangeControl","element","createElement","Fragment","useState","sprintf","_n","apiFetch","url","addQueryArgs","blockComponents","AutoCompleter","blockData","isActive","bp","reject","remove","sortBy","lodash","getSlugValue","item","status","attributes","setAttributes","isSelected","isAvatarEnabled","itemIDs","avatarSize","displayGroupName","extraInfo","layoutPreference","columns","hasGroups","length","groups","setGroups","layoutControls","icon","title","onClick","groupsList","containerClasses","extraInfoOptions","filter","extra","path","populate_extras","include","then","items","indexOf","id","map","group","hasDescription","groupItemClasses","description","rendered","itemID","onRemoveGroup","link","name","avatar_urls","__html","last_activity","last_activity_diff","total_member_count","option","exclude","parseInt","blocks","registerBlockType","background","foreground","src","category","type","default","edit"],"mappings":"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","file":"groups.js","sourceRoot":"../src/js","sourcesContent":["/**\n * WordPress dependencies.\n */\nconst {\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Avatar sizes.\n *\n * @type {Array}\n */\nexport const AVATAR_SIZES = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Thumb', 'buddypress' ),\n\t\tvalue: 'thumb',\n\t},\n\t{\n\t\tlabel: __( 'Full', 'buddypress' ),\n\t\tvalue: 'full',\n\t},\n];\n\n/**\n * Group stati.\n *\n * @type {Object}\n */\nexport const GROUP_STATI = {\n\tpublic: __( 'Public', 'buddypress' ),\n\tprivate: __( 'Private', 'buddypress' ),\n\thidden: __( 'Hidden', 'buddypress' ),\n};\n\n/**\n * Group Extra data.\n *\n * @type {Array}\n */\nexport const EXTRA_INFO = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Group\\'s description', 'buddypress' ),\n\t\tvalue: 'description',\n\t},\n\t{\n\t\tlabel: __( 'Last time the group was active', 'buddypress' ),\n\t\tvalue: 'active',\n\t},\n\t{\n\t\tlabel: __( 'Amount of group members', 'buddypress' ),\n\t\tvalue: 'popular',\n\t},\n];\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblockEditor: {\n\t\tInspectorControls,\n\t\tBlockControls,\n\t},\n\tcomponents: {\n\t\tPlaceholder,\n\t\tPanelBody,\n\t\tSelectControl,\n\t\tToggleControl,\n\t\tButton,\n\t\tDashicon,\n\t\tTooltip,\n\t\tToolbarGroup,\n\t\tRangeControl,\n\t},\n\telement: {\n\t\tcreateElement,\n\t\tFragment,\n\t\tuseState,\n\t},\n\ti18n: {\n\t\t__,\n\t\tsprintf,\n\t\t_n,\n\t},\n\tapiFetch,\n\turl: {\n\t\taddQueryArgs,\n\t},\n} = wp;\n\n/**\n * BuddyPress dependencies.\n */\nconst {\n\tblockComponents: {\n\t\tAutoCompleter,\n\t},\n\tblockData: {\n\t\tisActive,\n\t}\n} = bp;\n\n/**\n * Internal dependencies.\n */\nimport { AVATAR_SIZES, EXTRA_INFO, GROUP_STATI } from './constants';\n\n/**\n * External dependencies.\n */\nconst {\n\treject,\n\tremove,\n\tsortBy,\n} = lodash;\n\nconst getSlugValue = ( item ) => {\n\tif ( item && item.status && GROUP_STATI[ item.status ] ) {\n\t\treturn GROUP_STATI[ item.status ];\n\t}\n\n\treturn null;\n}\n\nconst editGroupsBlock = ( { attributes, setAttributes, isSelected } ) => {\n\tconst isAvatarEnabled = isActive( 'groups', 'avatar' );\n\tconst {\n\t\titemIDs,\n\t\tavatarSize,\n\t\tdisplayGroupName,\n\t\textraInfo,\n\t\tlayoutPreference,\n\t\tcolumns,\n\t} = attributes;\n\tconst hasGroups = 0 !== itemIDs.length;\n\tconst [ groups, setGroups ] = useState( [] );\n\tconst layoutControls = [\n\t\t{\n\t\t\ticon: 'text',\n\t\t\ttitle: __( 'List view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'list' } ),\n\t\t\tisActive: layoutPreference === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: 'screenoptions',\n\t\t\ttitle: __( 'Grid view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'grid' } ),\n\t\t\tisActive: layoutPreference === 'grid',\n\t\t},\n\t];\n\tlet groupsList;\n\tlet containerClasses = 'bp-block-groups avatar-' + avatarSize;\n\tlet extraInfoOptions = EXTRA_INFO;\n\n\tif ( layoutPreference === 'grid' ) {\n\t\tcontainerClasses += ' is-grid columns-' + columns;\n\t\textraInfoOptions = EXTRA_INFO.filter( ( extra ) => {\n\t\t\treturn 'description' !== extra.value;\n\t\t} );\n\t}\n\n\tconst onSelectedGroup = ( { itemID } ) => {\n\t\tif ( itemID && -1 === itemIDs.indexOf( itemID ) ) {\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: [...itemIDs, parseInt( itemID, 10 ) ]\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst onRemoveGroup = ( ( itemID ) => {\n\t\tif ( itemID && -1 !== itemIDs.indexOf( itemID ) ) {\n\t\t\tsetGroups( reject( groups, ['id', itemID ] ) );\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: remove( itemIDs, ( value ) => { return value !== itemID } )\n\t\t\t} );\n\t\t}\n\t} );\n\n\tif ( hasGroups && itemIDs.length !== groups.length ) {\n\t\tapiFetch( {\n\t\t\tpath: addQueryArgs( `/buddypress/v1/groups`, { populate_extras: true, include: itemIDs } ),\n\t\t} ).then( items => {\n\t\t\tsetGroups(\n\t\t\t\tsortBy( items, [ ( item ) => {\n\t\t\t\t\treturn itemIDs.indexOf( item.id );\n\t\t\t\t} ] )\n\t\t\t);\n\t\t} )\n\t}\n\n\tif ( groups.length ) {\n\t\tgroupsList = groups.map( ( group ) => {\n\t\t\tlet hasDescription = false;\n\t\t\tlet groupItemClasses = 'group-content';\n\n\t\t\tif ( layoutPreference === 'list' && 'description' === extraInfo && group.description && group.description.rendered ) {\n\t\t\t\thasDescription = true;\n\t\t\t\tgroupItemClasses = 'group-content has-description';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={ 'bp-group-' + group.id } className={ groupItemClasses }>\n\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t<Tooltip text={ __( 'Remove group', 'buddypress' ) }>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"is-right\"\n\t\t\t\t\t\t\t\tonClick={ () => onRemoveGroup( group.id ) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove group', 'buddypress' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Dashicon icon=\"no\"/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isAvatarEnabled && 'none' !== avatarSize && (\n\t\t\t\t\t\t<div className=\"item-header-avatar\">\n\t\t\t\t\t\t\t<a href={ group.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tkey={ 'avatar-' + group.id }\n\t\t\t\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t\t\t\t\talt={ sprintf( __( 'Profile photo of %s', 'buddypress' ), group.name ) }\n\t\t\t\t\t\t\t\t\tsrc={ group.avatar_urls[ avatarSize ] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<div className=\"group-description\">\n\t\t\t\t\t\t{ displayGroupName && (\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<a href={ group.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{ group.name }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ hasDescription && (\n\t\t\t\t\t\t\t<div className=\"group-description-content\" dangerouslySetInnerHTML={ { __html: group.description.rendered } } />\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ 'active' === extraInfo && group.last_activity && group.last_activity_diff && (\n\t\t\t\t\t\t\t<time dateTime={ group.last_activity }>\n\t\t\t\t\t\t\t\t{ sprintf( __( 'Active %s', 'buddypress' ), group.last_activity_diff ) }\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ 'popular' === extraInfo && group.total_member_count && (\n\t\t\t\t\t\t\t<div className=\"group-meta\">\n\t\t\t\t\t\t\t\t{  sprintf(\n\t\t\t\t\t\t\t\t\t/* translators: 1: number of group memberss. */\n\t\t\t\t\t\t\t\t\t_n(\n\t\t\t\t\t\t\t\t\t\t'%1$d member',\n\t\t\t\t\t\t\t\t\t\t'%1$d members',\n\t\t\t\t\t\t\t\t\t\tgroup.total_member_count,\n\t\t\t\t\t\t\t\t\t\t'buddypress'\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tgroup.total_member_count\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings', 'buddypress' ) } initialOpen={ true }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display the group\\'s name', 'buddypress' ) }\n\t\t\t\t\t\tchecked={ !! displayGroupName }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tsetAttributes( { displayGroupName: ! displayGroupName } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tdisplayGroupName\n\t\t\t\t\t\t\t\t? __( 'Include the group\\'s name.', 'buddypress' )\n\t\t\t\t\t\t\t\t: __( 'Toggle to include group\\'s name.', 'buddypress' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ isAvatarEnabled && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Avatar size', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ avatarSize }\n\t\t\t\t\t\t\toptions={ AVATAR_SIZES }\n\t\t\t\t\t\t\thelp={ __( 'Select \"None\" to disable the avatar.', 'buddypress' ) }\n\t\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { avatarSize: option } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'Group extra information', 'buddypress' ) }\n\t\t\t\t\t\tvalue={ extraInfo }\n\t\t\t\t\t\toptions={ extraInfoOptions }\n\t\t\t\t\t\thelp={ __( 'Select \"None\" to show no extra information.', 'buddypress' ) }\n\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\tsetAttributes( { extraInfo: option } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ layoutPreference === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ layoutControls } />\n\t\t\t</BlockControls>\n\n\t\t\t{ hasGroups && (\n\t\t\t\t<div className={ containerClasses }>\n\t\t\t\t\t{ groupsList }\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ( isSelected || 0 === itemIDs.length ) && (\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ hasGroups ? '' : 'groups' }\n\t\t\t\t\tlabel={ hasGroups ? '' : __( 'BuddyPress Groups', 'buddypress' ) }\n\t\t\t\t\tinstructions={ __( 'Start typing the name of the group you want to add to the groups list.', 'buddypress' ) }\n\t\t\t\t\tclassName={ 0 !== itemIDs.length ? 'is-appender' : 'is-large' }\n\t\t\t\t>\n\t\t\t\t\t<AutoCompleter\n\t\t\t\t\t\tcomponent=\"groups\"\n\t\t\t\t\t\tobjectQueryArgs={ { 'show_hidden': false, exclude: itemIDs } }\n\t\t\t\t\t\tslugValue={ getSlugValue }\n\t\t\t\t\t\tariaLabel={ __( 'Group\\'s name', 'buddypress' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Enter Group\\'s name hereâ€¦', 'buddypress' ) }\n\t\t\t\t\t\tonSelectItem={ onSelectedGroup }\n\t\t\t\t\t\tuseAvatar={ isAvatarEnabled }\n\t\t\t\t\t/>\n\t\t\t\t</Placeholder>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default editGroupsBlock;\n","/**\n * WordPress dependencies.\n */\nconst {\n  blocks: {\n    registerBlockType,\n  },\n  i18n: {\n    __,\n  },\n} = wp;\n\n/**\n * Internal dependencies.\n */\nimport editGroupsBlock from './groups/edit';\n\nregisterBlockType( 'bp/groups', {\n\ttitle: __( 'Groups', 'buddypress' ),\n\tdescription: __( 'BuddyPress Groups.', 'buddypress' ),\n\ticon: {\n\t\tbackground: '#fff',\n\t\tforeground: '#d84800',\n\t\tsrc: 'buddicons-groups',\n\t},\n\tcategory: 'buddypress',\n\tattributes: {\n\t\titemIDs: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'integer',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tavatarSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'full',\n\t\t},\n\t\tdisplayGroupName: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\textraInfo: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tlayoutPreference: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'list',\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2\n\t\t},\n\t},\n\tedit: editGroupsBlock,\n} );\n"]}