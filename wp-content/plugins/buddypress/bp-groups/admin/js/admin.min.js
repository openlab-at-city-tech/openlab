!function(o){var e="undefined"!=typeof group_id?"&group_id="+group_id:"";o(document).ready(function(){window.warn_on_leave=!1,o(".bp-suggest-user").autocomplete({source:ajaxurl+"?action=bp_group_admin_member_autocomplete"+e,delay:500,minLength:2,position:"undefined"!=typeof isRtl&&isRtl?{my:"right top",at:"right bottom",offset:"0, -1"}:{offset:"0, -1"},open:function(){o(this).addClass("open")},close:function(){o(this).removeClass("open"),o(this).val("")},select:function(e,n){n=n,o("#bp-groups-new-members-list").append('<li data-login="'+n.item.value+'"><a href="#" class="bp-groups-remove-new-member">x</a> '+n.item.label+"</li>")}}),o("#bp-groups-new-members.bp-suggest-user").prop("placeholder",BP_Group_Admin.add_member_placeholder),o("#bp_group_add_members").on("click",".bp-groups-remove-new-member",function(e){e.preventDefault(),o(e.target.parentNode).remove()}),o(document).on("change",'input#bp-groups-name, input#bp-groups-description, select.bp-groups-role, #bp-groups-settings-section-status input[type="radio"]',function(){window.warn_on_leave=!0}),o("input#save").on("click",function(){var e=[];o("#bp-groups-new-members-list li").each(function(){e.push(o(this).data("login"))}),e.length&&o("#bp-groups-new-members").val("").val(e.join(", ")),window.warn_on_leave=!1}),window.onbeforeunload=function(){if(window.warn_on_leave)return BP_Group_Admin.warn_on_leave}})}(jQuery);