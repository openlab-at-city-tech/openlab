parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"gr8I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EXTRA_DATA=exports.AVATAR_SIZES=void 0;const{i18n:{__:e}}=wp,s=[{label:e("None","buddypress"),value:"none"},{label:e("Thumb","buddypress"),value:"thumb"},{label:e("Full","buddypress"),value:"full"}];exports.AVATAR_SIZES=s;const t=[{label:e("None","buddypress"),value:"none"},{label:e("Last time the user was active","buddypress"),value:"last_activity"},{label:e("Latest activity the user posted","buddypress"),value:"latest_update"}];exports.EXTRA_DATA=t;
},{}],"PZSE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./constants");const{blockEditor:{InspectorControls:t,BlockControls:a},components:{Placeholder:s,PanelBody:n,SelectControl:l,ToggleControl:r,Button:i,Dashicon:o,Tooltip:d,ToolbarGroup:m,RangeControl:u},element:{createElement:c,Fragment:p,useState:b},i18n:{__:y,sprintf:h},apiFetch:g,url:{addQueryArgs:v}}=wp,{blockComponents:{AutoCompleter:_},blockData:{isActive:f}}=bp,{reject:k,remove:A,sortBy:C}=lodash,x=e=>e&&e.mention_name?e.mention_name:null,S=({attributes:S,setAttributes:N,isSelected:D})=>{const T=f("members","avatar"),I=f("activity","mentions"),{itemIDs:P,avatarSize:M,displayMentionSlug:w,displayUserName:B,extraData:E,layoutPreference:R,columns:O}=S,q=0!==P.length,[j,z]=b([]),L=[{icon:"text",title:y("List view","buddypress"),onClick:()=>N({layoutPreference:"list"}),isActive:"list"===R},{icon:"screenoptions",title:y("Grid view","buddypress"),onClick:()=>N({layoutPreference:"grid"}),isActive:"grid"===R}];let F,G="bp-block-members avatar-"+M,Q=e.EXTRA_DATA;"grid"===R&&(G+=" is-grid columns-"+O,Q=e.EXTRA_DATA.filter(e=>"latest_update"!==e.value));return q&&P.length!==j.length&&g({path:v("/buddypress/v1/members",{populate_extras:!0,include:P})}).then(e=>{z(C(e,[e=>P.indexOf(e.id)]))}),j.length&&(F=j.map(e=>{let t=!1,a="member-content";return"list"===R&&"latest_update"===E&&e.latest_update&&e.latest_update.rendered&&(t=!0,a="member-content has-activity"),c("div",{key:"bp-member-"+e.id,className:a},D&&c(d,{text:y("Remove member","buddypress")},c(i,{className:"is-right",onClick:()=>(e=>{e&&-1!==P.indexOf(e)&&(z(k(j,["id",e])),N({itemIDs:A(P,t=>t!==e)}))})(e.id),label:y("Remove member","buddypress")},c(o,{icon:"no"}))),T&&"none"!==M&&c("div",{className:"item-header-avatar"},c("a",{href:e.link,target:"_blank"},c("img",{key:"avatar-"+e.id,className:"avatar",alt:h(y("Profile photo of %s","buddypress"),e.name),src:e.avatar_urls[M]}))),c("div",{className:"member-description"},t&&c("blockquote",{className:"wp-block-quote"},c("div",{dangerouslySetInnerHTML:{__html:e.latest_update.rendered}}),c("cite",null,B&&c("span",null,e.name)," ",I&&w&&c("a",{href:e.link,target:"_blank"},"(@",e.mention_name,")"))),!t&&B&&c("strong",null,c("a",{href:e.link,target:"_blank"},e.name)),!t&&I&&w&&c("span",{className:"user-nicename"},"@",e.mention_name),"last_activity"===E&&e.last_activity&&e.last_activity.date&&c("time",{dateTime:e.last_activity.date},h(y("Active %s","buddypress"),e.last_activity.timediff))))})),c(p,null,c(t,null,c(n,{title:y("Settings","buddypress"),initialOpen:!0},c(r,{label:y("Display the user name","buddypress"),checked:!!B,onChange:()=>{N({displayUserName:!B})},help:y(B?"Include the user's display name.":"Toggle to include user's display name.","buddypress")}),I&&c(r,{label:y("Display Mention slug","buddypress"),checked:!!w,onChange:()=>{N({displayMentionSlug:!w})},help:y(w?"Include the user's mention name under their display name.":"Toggle to display the user's mention name under their display name.","buddypress")}),T&&c(l,{label:y("Avatar size","buddypress"),value:M,options:e.AVATAR_SIZES,help:y('Select "None" to disable the avatar.',"buddypress"),onChange:e=>{N({avatarSize:e})}}),c(l,{label:y("BuddyPress extra information","buddypress"),value:E,options:Q,help:y('Select "None" to show no extra information.',"buddypress"),onChange:e=>{N({extraData:e})}}),"grid"===R&&c(u,{label:y("Columns","buddypress"),value:O,onChange:e=>N({columns:e}),min:2,max:4,required:!0}))),c(a,null,c(m,{controls:L})),q&&c("div",{className:G},F),(D||0===P.length)&&c(s,{icon:q?"":"groups",label:q?"":y("BuddyPress Members","buddypress"),instructions:y("Start typing the name of the member you want to add to the members list.","buddypress"),className:0!==P.length?"is-appender":"is-large"},c(_,{component:"members",objectQueryArgs:{exclude:P},slugValue:x,ariaLabel:y("Member's username","buddypress"),placeholder:y("Enter Member's username here…","buddypress"),onSelectItem:({itemID:e})=>{e&&-1===P.indexOf(e)&&N({itemIDs:[...P,parseInt(e,10)]})},useAvatar:T})))};var N=S;exports.default=N;
},{"./constants":"gr8I"}],"XEHU":[function(require,module,exports) {
"use strict";var e=t(require("./members/edit"));function t(e){return e&&e.__esModule?e:{default:e}}const{blocks:{registerBlockType:r},i18n:{__:s}}=wp;r("bp/members",{title:s("Members","buddypress"),description:s("BuddyPress Members.","buddypress"),icon:{background:"#fff",foreground:"#d84800",src:"groups"},category:"buddypress",attributes:{itemIDs:{type:"array",items:{type:"integer"},default:[]},avatarSize:{type:"string",default:"full"},displayMentionSlug:{type:"boolean",default:!0},displayUserName:{type:"boolean",default:!0},extraData:{type:"string",default:"none"},layoutPreference:{type:"string",default:"list"},columns:{type:"number",default:2}},edit:e.default});
},{"./members/edit":"PZSE"}]},{},["XEHU"], null)
//# sourceMappingURL=/bp-members/js/blocks/members.js.map