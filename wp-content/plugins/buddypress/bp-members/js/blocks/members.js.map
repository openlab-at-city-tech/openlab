{"version":3,"sources":["bp-members/js/blocks/members/constants.js","bp-members/js/blocks/members/edit.js","bp-members/js/blocks/members.js"],"names":["i18n","__","wp","AVATAR_SIZES","label","value","EXTRA_DATA","editMembersBlock","blockEditor","InspectorControls","BlockControls","components","Placeholder","PanelBody","SelectControl","ToggleControl","Button","Dashicon","Tooltip","ToolbarGroup","RangeControl","element","createElement","Fragment","useState","sprintf","apiFetch","url","addQueryArgs","blockComponents","AutoCompleter","blockData","isActive","bp","reject","remove","sortBy","lodash","getSlugValue","item","mention_name","attributes","setAttributes","isSelected","isAvatarEnabled","isMentionEnabled","itemIDs","avatarSize","displayMentionSlug","displayUserName","extraData","layoutPreference","columns","hasMembers","length","members","setMembers","layoutControls","icon","title","onClick","membersList","containerClasses","extraDataOptions","filter","extra","path","populate_extras","include","then","items","indexOf","id","map","member","hasActivity","memberItemClasses","latest_update","rendered","itemID","onRemoveMember","link","name","avatar_urls","__html","last_activity","date","timediff","option","exclude","parseInt","blocks","registerBlockType","description","background","foreground","src","category","type","default","edit"],"mappings":"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","file":"members.js","sourceRoot":"../src/js","sourcesContent":["/**\n * WordPress dependencies.\n */\nconst {\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Avatar sizes.\n *\n * @type {Array}\n */\nexport const AVATAR_SIZES = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Thumb', 'buddypress' ),\n\t\tvalue: 'thumb',\n\t},\n\t{\n\t\tlabel: __( 'Full', 'buddypress' ),\n\t\tvalue: 'full',\n\t},\n];\n\n/**\n * BuddyPress Extra data.\n *\n * @type {Array}\n */\nexport const EXTRA_DATA = [\n\t{\n\t\tlabel: __( 'None', 'buddypress' ),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __( 'Last time the user was active', 'buddypress' ),\n\t\tvalue: 'last_activity',\n\t},\n\t{\n\t\tlabel: __( 'Latest activity the user posted', 'buddypress' ),\n\t\tvalue: 'latest_update',\n\t},\n];\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblockEditor: {\n\t\tInspectorControls,\n\t\tBlockControls,\n\t},\n\tcomponents: {\n\t\tPlaceholder,\n\t\tPanelBody,\n\t\tSelectControl,\n\t\tToggleControl,\n\t\tButton,\n\t\tDashicon,\n\t\tTooltip,\n\t\tToolbarGroup,\n\t\tRangeControl,\n\t},\n\telement: {\n\t\tcreateElement,\n\t\tFragment,\n\t\tuseState,\n\t},\n\ti18n: {\n\t\t__,\n\t\tsprintf,\n\t},\n\tapiFetch,\n\turl: {\n\t\taddQueryArgs,\n\t},\n} = wp;\n\n/**\n * BuddyPress dependencies.\n */\nconst {\n\tblockComponents: {\n\t\tAutoCompleter,\n\t},\n\tblockData: {\n\t\tisActive,\n\t}\n} = bp;\n\n/**\n * Internal dependencies.\n */\nimport { AVATAR_SIZES, EXTRA_DATA } from './constants';\n\n/**\n * External dependencies.\n */\nconst {\n\treject,\n\tremove,\n\tsortBy,\n} = lodash;\n\nconst getSlugValue = ( item ) => {\n\tif ( item && item.mention_name ) {\n\t\treturn item.mention_name;\n\t}\n\n\treturn null;\n}\n\nconst editMembersBlock = ( { attributes, setAttributes, isSelected } ) => {\n\tconst isAvatarEnabled = isActive( 'members', 'avatar' );\n\tconst isMentionEnabled = isActive( 'activity', 'mentions' );\n\tconst {\n\t\titemIDs,\n\t\tavatarSize,\n\t\tdisplayMentionSlug,\n\t\tdisplayUserName,\n\t\textraData,\n\t\tlayoutPreference,\n\t\tcolumns,\n\t} = attributes;\n\tconst hasMembers = 0 !== itemIDs.length;\n\tconst [ members, setMembers ] = useState( [] );\n\tconst layoutControls = [\n\t\t{\n\t\t\ticon: 'text',\n\t\t\ttitle: __( 'List view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'list' } ),\n\t\t\tisActive: layoutPreference === 'list',\n\t\t},\n\t\t{\n\t\t\ticon: 'screenoptions',\n\t\t\ttitle: __( 'Grid view', 'buddypress' ),\n\t\t\tonClick: () => setAttributes( { layoutPreference: 'grid' } ),\n\t\t\tisActive: layoutPreference === 'grid',\n\t\t},\n\t];\n\tlet membersList;\n\tlet containerClasses = 'bp-block-members avatar-' + avatarSize;\n\tlet extraDataOptions = EXTRA_DATA;\n\n\tif ( layoutPreference === 'grid' ) {\n\t\tcontainerClasses += ' is-grid columns-' + columns;\n\t\textraDataOptions = EXTRA_DATA.filter( ( extra ) => {\n\t\t\treturn 'latest_update' !== extra.value;\n\t\t} );\n\t}\n\n\tconst onSelectedMember = ( { itemID } ) => {\n\t\tif ( itemID && -1 === itemIDs.indexOf( itemID ) ) {\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: [...itemIDs, parseInt( itemID, 10 ) ]\n\t\t\t} );\n\t\t}\n\t};\n\n\tconst onRemoveMember = ( ( itemID ) => {\n\t\tif ( itemID && -1 !== itemIDs.indexOf( itemID ) ) {\n\t\t\tsetMembers( reject( members, ['id', itemID ] ) );\n\t\t\tsetAttributes( {\n\t\t\t\titemIDs: remove( itemIDs, ( value ) => { return value !== itemID } )\n\t\t\t} );\n\t\t}\n\t} );\n\n\tif ( hasMembers && itemIDs.length !== members.length ) {\n\t\tapiFetch( {\n\t\t\tpath: addQueryArgs( `/buddypress/v1/members`, { populate_extras: true, include: itemIDs } ),\n\t\t} ).then( items => {\n\t\t\tsetMembers(\n\t\t\t\tsortBy( items, [ ( item ) => {\n\t\t\t\t\treturn itemIDs.indexOf( item.id );\n\t\t\t\t} ] )\n\t\t\t);\n\t\t} )\n\t}\n\n\tif ( members.length ) {\n\t\tmembersList = members.map( ( member ) => {\n\t\t\tlet hasActivity = false;\n\t\t\tlet memberItemClasses = 'member-content';\n\n\t\t\tif ( layoutPreference === 'list' && 'latest_update' === extraData && member.latest_update && member.latest_update.rendered ) {\n\t\t\t\thasActivity = true;\n\t\t\t\tmemberItemClasses = 'member-content has-activity';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<div key={ 'bp-member-' + member.id } className={ memberItemClasses }>\n\t\t\t\t\t{ isSelected && (\n\t\t\t\t\t\t<Tooltip text={ __( 'Remove member', 'buddypress' ) }>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"is-right\"\n\t\t\t\t\t\t\t\tonClick={ () => onRemoveMember( member.id ) }\n\t\t\t\t\t\t\t\tlabel={ __( 'Remove member', 'buddypress' ) }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Dashicon icon=\"no\"/>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t) }\n\t\t\t\t\t{ isAvatarEnabled && 'none' !== avatarSize && (\n\t\t\t\t\t\t<div className=\"item-header-avatar\">\n\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\tkey={ 'avatar-' + member.id }\n\t\t\t\t\t\t\t\t\tclassName=\"avatar\"\n\t\t\t\t\t\t\t\t\talt={ sprintf( __( 'Profile photo of %s', 'buddypress' ), member.name ) }\n\t\t\t\t\t\t\t\t\tsrc={ member.avatar_urls[ avatarSize ] }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t\t<div className=\"member-description\">\n\t\t\t\t\t\t{ hasActivity && (\n\t\t\t\t\t\t\t<blockquote className=\"wp-block-quote\">\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={ { __html: member.latest_update.rendered } } />\n\t\t\t\t\t\t\t\t<cite>\n\t\t\t\t\t\t\t\t\t{ displayUserName && (\n\t\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t\t{ member.name }\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t{ isMentionEnabled && displayMentionSlug && (\n\t\t\t\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t\t\t\t(@{ member.mention_name })\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t</cite>\n\t\t\t\t\t\t\t</blockquote>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ ! hasActivity && displayUserName && (\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<a href={ member.link } target=\"_blank\">\n\t\t\t\t\t\t\t\t\t{ member.name }\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ ! hasActivity && isMentionEnabled && displayMentionSlug && (\n\t\t\t\t\t\t\t<span className=\"user-nicename\">@{ member.mention_name }</span>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ 'last_activity' === extraData && member.last_activity && member.last_activity.date && (\n\t\t\t\t\t\t\t<time dateTime={ member.last_activity.date }>\n\t\t\t\t\t\t\t\t{ sprintf( __( 'Active %s', 'buddypress' ), member.last_activity.timediff ) }\n\t\t\t\t\t\t\t</time>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t);\n\t\t} );\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Settings', 'buddypress' ) } initialOpen={ true }>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={ __( 'Display the user name', 'buddypress' ) }\n\t\t\t\t\t\tchecked={ !! displayUserName }\n\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\tsetAttributes( { displayUserName: ! displayUserName } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\tdisplayUserName\n\t\t\t\t\t\t\t\t? __( 'Include the user\\'s display name.', 'buddypress' )\n\t\t\t\t\t\t\t\t: __( 'Toggle to include user\\'s display name.', 'buddypress' )\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ isMentionEnabled && (\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ __( 'Display Mention slug', 'buddypress' ) }\n\t\t\t\t\t\t\tchecked={ !! displayMentionSlug }\n\t\t\t\t\t\t\tonChange={ () => {\n\t\t\t\t\t\t\t\tsetAttributes( { displayMentionSlug: ! displayMentionSlug } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\tdisplayMentionSlug\n\t\t\t\t\t\t\t\t\t? __( 'Include the user\\'s mention name under their display name.', 'buddypress' )\n\t\t\t\t\t\t\t\t\t: __( 'Toggle to display the user\\'s mention name under their display name.', 'buddypress' )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t{ isAvatarEnabled && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={ __( 'Avatar size', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ avatarSize }\n\t\t\t\t\t\t\toptions={ AVATAR_SIZES }\n\t\t\t\t\t\t\thelp={ __( 'Select \"None\" to disable the avatar.', 'buddypress' ) }\n\t\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\t\tsetAttributes( { avatarSize: option } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={ __( 'BuddyPress extra information', 'buddypress' ) }\n\t\t\t\t\t\tvalue={ extraData }\n\t\t\t\t\t\toptions={ extraDataOptions }\n\t\t\t\t\t\thelp={ __( 'Select \"None\" to show no extra information.', 'buddypress' ) }\n\t\t\t\t\t\tonChange={ ( option ) => {\n\t\t\t\t\t\t\tsetAttributes( { extraData: option } );\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ layoutPreference === 'grid' && (\n\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\tlabel={ __( 'Columns', 'buddypress' ) }\n\t\t\t\t\t\t\tvalue={ columns }\n\t\t\t\t\t\t\tonChange={ ( value ) =>\n\t\t\t\t\t\t\t\tsetAttributes( { columns: value } )\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmin={ 2 }\n\t\t\t\t\t\t\tmax={ 4 }\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup controls={ layoutControls } />\n\t\t\t</BlockControls>\n\n\t\t\t{ hasMembers && (\n\t\t\t\t<div className={ containerClasses }>\n\t\t\t\t\t{ membersList }\n\t\t\t\t</div>\n\t\t\t) }\n\n\t\t\t{ ( isSelected || 0 === itemIDs.length ) && (\n\t\t\t\t<Placeholder\n\t\t\t\t\ticon={ hasMembers ? '' : 'groups' }\n\t\t\t\t\tlabel={ hasMembers ? '' : __( 'BuddyPress Members', 'buddypress' ) }\n\t\t\t\t\tinstructions={ __( 'Start typing the name of the member you want to add to the members list.', 'buddypress' ) }\n\t\t\t\t\tclassName={ 0 !== itemIDs.length ? 'is-appender' : 'is-large' }\n\t\t\t\t>\n\t\t\t\t\t<AutoCompleter\n\t\t\t\t\t\tcomponent=\"members\"\n\t\t\t\t\t\tobjectQueryArgs={ { exclude: itemIDs } }\n\t\t\t\t\t\tslugValue={ getSlugValue }\n\t\t\t\t\t\tariaLabel={ __( 'Member\\'s username', 'buddypress' ) }\n\t\t\t\t\t\tplaceholder={ __( 'Enter Member\\'s username here…', 'buddypress' ) }\n\t\t\t\t\t\tonSelectItem={ onSelectedMember }\n\t\t\t\t\t\tuseAvatar={ isAvatarEnabled }\n\t\t\t\t\t/>\n\t\t\t\t</Placeholder>\n\t\t\t) }\n\t\t</Fragment>\n\t);\n};\n\nexport default editMembersBlock;\n","/**\n * WordPress dependencies.\n */\nconst {\n\tblocks: {\n\t\tregisterBlockType,\n\t},\n\ti18n: {\n\t\t__,\n\t},\n} = wp;\n\n/**\n * Internal dependencies.\n */\nimport editMembersBlock from './members/edit';\n\nregisterBlockType( 'bp/members', {\n\ttitle: __( 'Members', 'buddypress' ),\n\tdescription: __( 'BuddyPress Members.', 'buddypress' ),\n\ticon: {\n\t\tbackground: '#fff',\n\t\tforeground: '#d84800',\n\t\tsrc: 'groups',\n\t},\n\tcategory: 'buddypress',\n\tattributes: {\n\t\titemIDs: {\n\t\t\ttype: 'array',\n\t\t\titems: {\n\t\t\t\ttype: 'integer',\n\t\t\t},\n\t\t\tdefault: [],\n\t\t},\n\t\tavatarSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'full',\n\t\t},\n\t\tdisplayMentionSlug: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tdisplayUserName: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\textraData: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'none',\n\t\t},\n\t\tlayoutPreference: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'list',\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: 'number',\n\t\t\tdefault: 2\n\t\t},\n\t},\n\tedit: editMembersBlock,\n} );\n"]}