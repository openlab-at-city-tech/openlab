window.bp=window.bp||{},function(a,n){"undefined"!=typeof BP_Nouveau&&(a.Nouveau=a.Nouveau||{},a.Nouveau.Notifications={start:function(){this.setupGlobals(),this.addListeners()},setupGlobals:function(){a.Nouveau.setStorage("bp-notifications","extras","DESC")},addListeners:function(){n('#buddypress [data-bp-list="notifications"]').on("bp_ajax_request",this.prepareDocument),n('#buddypress [data-bp-list="notifications"]').on("click","[data-bp-notifications-order]",a.Nouveau,this.sortNotifications),n('#buddypress [data-bp-list="notifications"]').on("change","#notification-select",this.enableBulkSubmit),n('#buddypress [data-bp-list="notifications"]').on("click","#select-all-notifications",this.selectAll),n(window).on("unload",this.resetFilter)},prepareDocument:function(){("ASC"===a.Nouveau.getStorage("bp-notifications").extras?(n('[data-bp-notifications-order="DESC"]').show(),n('[data-bp-notifications-order="ASC"]')):(n('[data-bp-notifications-order="ASC"]').show(),n('[data-bp-notifications-order="DESC"]'))).hide(),n("#notification-bulk-manage").prop("disabled","disabled")},sortNotifications:function(t){var i=t.data.getStorage("bp-notifications"),e=i.scope||null,o=i.filter||null,i=(i.extra,"");t.preventDefault(),t=n(t.currentTarget).data("bp-notifications-order"),a.Nouveau.setStorage("bp-notifications","extras",t),n('#buddypress [data-bp-search="notifications"] input[type=search]').length&&(i=n('#buddypress [data-bp-search="notifications"] input[type=search]').val()),a.Nouveau.objectRequest({object:"notifications",scope:e,filter:o,search_terms:i,extras:t,page:1})},enableBulkSubmit:function(t){n("#notification-bulk-manage").prop("disabled",n(t.currentTarget).val().length<=0)},selectAll:function(e){n.each(n(".notification-check"),function(t,i){n(i).prop("checked",n(e.currentTarget).prop("checked"))})},resetFilter:function(){a.Nouveau.setStorage("bp-notifications","filter",0)}},a.Nouveau.Notifications.start())}(window.bp,jQuery);