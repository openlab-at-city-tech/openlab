window.bp=window.bp||{},function(n,s){"undefined"!=typeof BP_Nouveau&&(n.Nouveau=n.Nouveau||{},n.Nouveau.Notifications={start:function(){this.setupGlobals(),this.addListeners()},setupGlobals:function(){n.Nouveau.setStorage("bp-notifications","extras","DESC")},addListeners:function(){s('#buddypress [data-bp-list="notifications"]').on("bp_ajax_request",this.prepareDocument),s('#buddypress [data-bp-list="notifications"]').on("click","[data-bp-notifications-order]",n.Nouveau,this.sortNotifications),s('#buddypress [data-bp-list="notifications"]').on("change","#notification-select",this.enableBulkSubmit),s('#buddypress [data-bp-list="notifications"]').on("click","#select-all-notifications",this.selectAll),s(window).on("unload",this.resetFilter)},prepareDocument:function(){"ASC"===n.Nouveau.getStorage("bp-notifications").extras?(s('[data-bp-notifications-order="DESC"]').show(),s('[data-bp-notifications-order="ASC"]').hide()):(s('[data-bp-notifications-order="ASC"]').show(),s('[data-bp-notifications-order="DESC"]').hide()),s("#notification-bulk-manage").prop("disabled","disabled")},sortNotifications:function(t){var i,e=t.data.getStorage("bp-notifications"),o=e.scope||null,a=e.filter||null,e=(e.extra,"");t.preventDefault(),i=s(t.currentTarget).data("bp-notifications-order"),n.Nouveau.setStorage("bp-notifications","extras",i),s('#buddypress [data-bp-search="notifications"] input[type=search]').length&&(e=s('#buddypress [data-bp-search="notifications"] input[type=search]').val()),n.Nouveau.objectRequest({object:"notifications",scope:o,filter:a,search_terms:e,extras:i,page:1})},enableBulkSubmit:function(t){s("#notification-bulk-manage").prop("disabled",s(t.currentTarget).val().length<=0)},selectAll:function(e){s.each(s(".notification-check"),function(t,i){s(i).prop("checked",s(e.currentTarget).prop("checked"))})},resetFilter:function(){n.Nouveau.setStorage("bp-notifications","filter",0)}},n.Nouveau.Notifications.start())}(window.bp,jQuery);