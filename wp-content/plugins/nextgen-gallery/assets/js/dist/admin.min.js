"use strict";var _sweetalert=_interopRequireDefault(require("sweetalert2"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}!function(n,t,i){var e;t.nextgen_notifications=e={init:function(){var t=this;t.$drawer=n("#nextgen-notifications-drawer"),t.find_elements(),t.init_open(),t.init_close(),t.init_dismiss(),t.init_view_switch(),t.update_count(t.active_count)},should_init:function(){return 0<this.$drawer.length},find_elements:function(){var t=this;t.$open_button=n("#nextgen-notifications-button"),t.$count=t.$drawer.find("#nextgen-notifications-count"),t.$dismissed_count=t.$drawer.find("#nextgen-notifications-dismissed-count"),t.active_count=t.$open_button.data("count")?t.$open_button.data("count"):0,t.dismissed_count=t.$open_button.data("dismissed"),t.$body=n("body"),t.$dismissed_button=n("#nextgen-notifications-show-dismissed"),t.$active_button=n("#nextgen-notifications-show-active"),t.$active_list=n(".nextgen-notifications-list .nextgen-notifications-active"),t.$dismissed_list=n(".nextgen-notifications-list .nextgen-notifications-dismissed"),t.$dismiss_all=n("#nextgen-dismiss-all")},update_count:function(t){var i=this;i.$open_button.data("count",t).attr("data-count",t),0===t&&i.$open_button.removeAttr("data-count"),i.$count.text(t),i.dismissed_count+=Math.abs(t-i.active_count),i.active_count=t,i.$dismissed_count.text(i.dismissed_count),0===i.active_count&&i.$dismiss_all.hide()},init_open:function(){var i=this;i.$open_button.on("click",function(t){t.preventDefault(),i.$body.addClass("nextgen-notifications-open")})},init_close:function(){var i=this;i.$body.on("click",".nextgen-notifications-close, .nextgen-notifications-overlay",function(t){t.preventDefault(),i.$body.removeClass("nextgen-notifications-open")})},init_dismiss:function(){var i=this;i.$drawer.on("click",".nextgen-notification-dismiss",function(t){t.preventDefault();t=n(this).data("id");i.dismiss_notification(t),"all"===t?(i.move_to_dismissed(i.$active_list.find("li")),i.update_count(0)):(i.move_to_dismissed(n(this).closest("li")),i.update_count(i.active_count-1))})},move_to_dismissed:function(t){var i=this;t.slideUp(function(){n(this).prependTo(i.$dismissed_list).show()})},dismiss_notification:function(t){return n.post(ajaxurl,{action:"nextgen_notification_dismiss",nonce:i.dismiss_notification_nonce,id:t})},init_view_switch:function(){var i=this;i.$dismissed_button.on("click",function(t){t.preventDefault(),i.$drawer.addClass("show-dismissed")}),i.$active_button.on("click",function(t){t.preventDefault(),i.$drawer.removeClass("show-dismissed")})}},n(function(){e.init()})}(jQuery,window,(document,nextgen_gallery_admin));