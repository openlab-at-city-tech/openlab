"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):self.shave=e()}(function(){return function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t||isNaN(t))throw Error("maxHeight is required");var o="string"==typeof e?document.querySelectorAll(e):e;if(o){var e=n.character||"â€¦",i=n.classname||"js-shave",r="boolean"!=typeof n.spaces||n.spaces,s='<span class="js-shave-char">'.concat(e,"</span>");"length"in o||(o=[o]);for(var a=0;a<o.length;a+=1){var c=o[a],f=c.style,l=c.querySelector(".".concat(i)),d=void 0===c.textContent?"innerText":"textContent",l=(l&&(c.removeChild(c.querySelector(".js-shave-char")),c[d]=c[d]),c[d]),u=r?l.split(" "):l;if(!(u.length<2)){var l=f.height,h=(f.height="auto",f.maxHeight);if(f.maxHeight="none",!(c.offsetHeight<=t)){for(var p,y=u.length-1,m=0;m<y;)p=m+y+1>>1,c[d]=r?u.slice(0,p).join(" "):u.slice(0,p),c.insertAdjacentHTML("beforeend",s),c.offsetHeight>t?y=p-1:m=p;c[d]=r?u.slice(0,y).join(" "):u.slice(0,y),c.insertAdjacentHTML("beforeend",s);var v=r?" ".concat(u.slice(y).join(" ")):u.slice(y),v=document.createTextNode(v),g=document.createElement("span");g.classList.add(i),g.style.display="none",g.appendChild(v),c.insertAdjacentElement("beforeend",g)}f.height=l,f.maxHeight=h}}}}});