"use strict";!function(r){window.NggPaginatedGallery=function(t,n){this.displayed_gallery_id=t,this.container=r(n),this.container_name=n,this.get_displayed_gallery_obj=function(){var t="gallery_"+this.displayed_gallery_id;return void 0!==window.galleries[t]&&window.galleries[t]},this.enable_ajax_pagination=function(){var a=this;r("body").on("click","a.ngg-browser-prev, a.ngg-browser-next",function(t){var e=!0;r(this).parents(n).each(function(){if(r(this).data("nextgen-gallery-id")!=a.displayed_gallery_id)return!0;e=!1}),e||(t.preventDefault(),window.ngg_ajax_operaton_count++,r("body, a").css("cursor","wait"),r.get({url:r(this).attr("href"),headers:{"X-NGG-Pagination-Request":!0},success:function(t){var i;window.ngg_ajax_operaton_count--,window.ngg_ajax_operaton_count<=0&&(window.ngg_ajax_operaton_count=0,r("body, a").css("cursor","auto")),t&&(t=r(t),i=!1,t.find(a.container_name).each(function(){return!!i||r(this).data("nextgen-gallery-id")!=a.displayed_gallery_id||void(i=r(this))}),i)&&a.container.each(function(){var e,t,n=r(this);return n.data("nextgen-gallery-id")==a.displayed_gallery_id&&(t=(e=r(i.html())).find("img").toArray().map(function(i){return new Promise(function(t,e){var n=new Image;n.src=i.src,r(n).on("load",t)})}),Promise.all(t).then(function(){n.html(e),r(document).trigger("refreshed");var t=new Event("nextgen_page_refreshed");document.dispatchEvent(t)})),!0})}}))})};t=this.get_displayed_gallery_obj();t&&void 0!==t.display_settings.ajax_pagination&&parseInt(t.display_settings.ajax_pagination)&&this.enable_ajax_pagination(),void 0===window.ngg_ajax_operation_count&&(window.ngg_ajax_operaton_count=0)},Object.setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},void 0!==window.galleries&&Object.setPrototypeOf(window.galleries,{get_api_version:function(){return"0.1"},get_from_id:function(t){for(var e=null,n=Object.keys(this),i=1;i<=n.length;i++){var a=this[n[i-1]];if(a.ID===t||a.ID==="gallery_"+t||a.ID===parseInt(t)){e=a;break}}return e},get_from_slug:function(t){for(var e=null,n=Object.keys(this),i=1;i<=n.length;i++){var a=this[n[i-1]];if(a.slug===t){e=a;break}}return e},get_setting:function(t,e,n){var i="",t=this.get_from_id(t);return i="true"===(i="false"===(i="0"===(i="1"===(i=0===(i=1===(i=t&&void 0!==t[e]?t[e]:n)?!0:i)?!1:i)?!0:i)?!1:i)?!1:i)?!0:i},get_display_setting:function(t,e,n){var i="",t=this.get_from_id(t);return i="true"===(i="false"===(i="0"===(i="1"===(i=0===(i=1===(i=t&&void 0!==t.display_settings[e]?t.display_settings[e]:n)?!0:i)?!1:i)?!0:i)?!1:i)?!1:i)?!0:i},is_widget:function(t){t=this.get_from_id(t).slug;return!!t&&-1!==t.indexOf("widget-ngg-images")}})}(jQuery);