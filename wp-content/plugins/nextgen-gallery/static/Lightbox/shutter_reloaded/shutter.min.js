"use strict";shutterReloaded={L10n:["Previous","Next","Close","Full Size","Fit to Screen","Image","of","Loading..."],imageCount:!0,textBtns:!1,shImgDir:nextgen_lightbox_settings.static_path.replace("/{placeholder}","")+"/shutter_reloaded/images/",I:function(t){return document.getElementById(t)},Init:function(t){for(var e,i,s,h,n,o,l=0;l<document.links.length;l++)".jpg"!=(h=(-1==(e=document.links[l]).href.indexOf("?")?e.href:e.href.substring(0,e.href.indexOf("?"))).slice(-4).toLowerCase())&&".png"!=h&&".gif"!=h&&"jpeg"!=h&&"webp"!=h||"sh"==t&&-1==e.className.toLowerCase().indexOf("shutter")||"lb"==t&&-1==e.rel.toLowerCase().indexOf("lightbox")||(-1!=e.className.toLowerCase().indexOf("shutterset")?i=-1!=e.className.indexOf(" ")?e.className.slice(0,e.className.indexOf(" ")):e.className:-1!=e.rel.toLowerCase().indexOf("lightbox[")?i=e.rel:(i=0,s=-1),i&&(shutterSets[i]||(shutterSets[i]=[]),s=shutterSets[i].push(l)),h=e.href.slice(e.href.lastIndexOf("/")+1),h=e.title&&e.title!=h?e.title:"",shutterLinks[l]={link:e.href,num:s,set:i,title:h},e.onclick=new Function('shutterReloaded.Make("'+l+'");return false;'));if(!this.textBtns)for(n=["close.gif","prev.gif","next.gif","resize1.gif","resize2.gif","loading.gif"],o=0;o<n.length;o++)(new Image).src=this.shImgDir+n[o]},Make:function(t,e){var i,s,h,n,o="",l="",d="",e=(this.Top||(void 0!==window.pageYOffset?this.Top=window.pageYOffset:this.Top=(0<document.documentElement.scrollTop?document.documentElement:document.body).scrollTop),void 0===this.pgHeight&&(this.pgHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)),this.FS=!!e||null,this.resizing&&(this.resizing=null),window.onresize=new Function('shutterReloaded.Resize("'+t+'");'),document.documentElement.style.overflowX="hidden",this.VP||(this._viewPort(),this.VP=!0),(e=this.I("shShutter"))||((e=document.createElement("div")).setAttribute("id","shShutter"),document.getElementsByTagName("body")[0].appendChild(e),this.fixTags()),(i=this.I("shDisplay"))||((i=document.createElement("div")).setAttribute("id","shDisplay"),i.style.top=this.Top+"px",document.getElementsByTagName("body")[0].appendChild(i)),e.style.height=this.pgHeight+"px",this.textBtns?" | ":"");1<shutterLinks[t].num&&(o='<a href="#" onclick="shutterReloaded.Make('+(h=shutterSets[shutterLinks[t].set][shutterLinks[t].num-2])+');return false">'+(this.textBtns?this.L10n[0]:'<img src="'+this.shImgDir+'prev.gif" title="'+this.L10n[0]+'" />')+"</a>"+e,(new Image).src=shutterLinks[h].link),-1!=shutterLinks[t].num&&shutterLinks[t].num<shutterSets[shutterLinks[t].set].length&&(l='<a href="#" onclick="shutterReloaded.Make('+(h=shutterSets[shutterLinks[t].set][shutterLinks[t].num])+');return false">'+(this.textBtns?this.L10n[1]:'<img src="'+this.shImgDir+'next.gif" title="'+this.L10n[1]+'" />')+"</a>"+e,(new Image).src=shutterLinks[h].link),h=this.textBtns?this.L10n[2]:'<img src="'+this.shImgDir+'close.gif" title="'+this.L10n[2]+'" />',(s=0<shutterLinks[t].num&&this.imageCount?" "+this.L10n[5]+"&nbsp;"+shutterLinks[t].num+"&nbsp;"+this.L10n[6]+"&nbsp;"+shutterSets[shutterLinks[t].set].length:"")&&this.textBtns&&(s+=" |"),this.FS?n=this.textBtns?this.L10n[4]:'<img src="'+this.shImgDir+'resize2.gif" title="'+this.L10n[4]+'" />':(n=this.textBtns?this.L10n[3]:'<img src="'+this.shImgDir+'resize1.gif" title="'+this.L10n[3]+'" />',d=",1"),d='<span id="fullSize"><a href="#" onclick="shutterReloaded.Make('+t+d+');return false">'+n+"</a>"+e+"</span>",(n=this.I("shNavBar"))||((n=document.createElement("div")).setAttribute("id","shNavBar"),document.getElementsByTagName("body")[0].appendChild(n)),n.innerHTML=e+o+'<a href="#" onclick="shutterReloaded.hideShutter();return false">'+h+"</a>"+e+d+l+s,i.innerHTML='<div id="shWrap"><img src="'+shutterLinks[t].link+'" id="shTopImg" onload="shutterReloaded.ShowImg();" onclick="shutterReloaded.hideShutter();" /><div id="shTitle">'+shutterLinks[t].title+"</div></div>",window.setTimeout(function(){shutterReloaded.loading()},2e3)},loading:function(){var t,e;(e=this.I("shWrap"))&&"visible"==e.style.visibility||!(e=this.I("shShutter"))||this.I("shWaitBar")||((t=document.createElement("div")).setAttribute("id","shWaitBar"),t.style.top=this.Top+"px",t.innerHTML='<img src="'+this.shImgDir+'loading.gif" title="'+this.L10n[7]+'" />',e.appendChild(t))},hideShutter:function(){var t;(t=this.I("shDisplay"))&&t.parentNode.removeChild(t),(t=this.I("shShutter"))&&t.parentNode.removeChild(t),(t=this.I("shNavBar"))&&t.parentNode.removeChild(t),this.fixTags(!0),window.scrollTo(0,this.Top),window.onresize=this.FS=this.Top=this.VP=null,document.documentElement.style.overflowX=""},Resize:function(t){var e;this.resizing||this.I("shShutter")&&((e=this.I("shWrap"))&&(e.style.visibility="hidden"),window.setTimeout(function(){shutterReloaded.resizing=null},500),window.setTimeout(new Function('shutterReloaded.VP = null;shutterReloaded.Make("'+t+'");'),100),this.resizing=!0)},_viewPort:function(){var t=window.innerHeight||0,e=document.body.clientHeight||0,i=document.documentElement?document.documentElement.clientHeight:0,t=(0<t?(this.wHeight=1<t-e&&t-e<30?e:t,this.wHeight=1<this.wHeight-i&&this.wHeight-i<30?i:this.wHeight):this.wHeight=0<i?i:e,document.documentElement?document.documentElement.clientWidth:0),i=window.innerWidth||document.body.clientWidth;this.wWidth=1<t?t:i},ShowImg:function(){var t,e,i,s,h,n,o,l,d=0;!(l=this.I("shShutter"))||(t=this.I("shWrap"))&&"visible"==t.style.visibility||((e=this.I("shWaitBar"))&&e.parentNode.removeChild(e),e=this.I("shDisplay"),i=this.I("shTopImg"),n=this.I("shTitle"),s=this.I("shNavBar"),l.style.width=e.style.width="",n.style.width=i.width-4+"px",o=s.offsetHeight?n.offsetHeight+s.offsetHeight:30,h=this.wHeight-7-o,this.FS?(i.width>this.wWidth-10&&(l.style.width=e.style.width=i.width+10+"px"),document.documentElement.style.overflowX=""):(window.scrollTo(0,this.Top),i.height>h&&(i.width=i.width*(h/i.height),i.height=h,d=1),i.width>this.wWidth-16&&(i.height=i.height*((this.wWidth-16)/i.width),i.width=this.wWidth-16,d=1),n.style.width=i.width-4+"px",s.style.bottom="0px"),(n=this.Top+i.height+o+10)>this.pgHeight&&(l.style.height=n+"px"),window.scrollTo(0,this.Top),(this.FS&&(i.height>h||i.width>this.wWidth)||d)&&(this.I("fullSize").style.display="inline"),l=3<(o=.45*(h-i.height))?Math.floor(o):3,e.style.top=this.Top+l+"px",s.style.bottom="0",t.style.visibility="visible")},fixTags:function(t){var e,s=document.getElementsByTagName("select"),h=document.getElementsByTagName("object"),n=document.getElementsByTagName("embed");for(e=t?"visible":"hidden",i=0;i<s.length;i++)s[i].style.visibility=e;for(i=0;i<h.length;i++)h[i].style.visibility=e;for(i=0;i<n.length;i++)n[i].style.visibility=e}};var shutterLinks={},shutterSets={};"function"==typeof shutterOnload&&(oldonload=window.onload,"function"!=typeof window.onload?window.onload=shutterOnload:window.onload=function(){shutterOnload(),oldonload&&oldonload()});