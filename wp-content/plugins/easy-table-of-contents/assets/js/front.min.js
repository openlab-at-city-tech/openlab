jQuery(function($){if("undefined"!=typeof ezTOC){function a(){if(0!==$(".ez-toc-widget-container.ez-toc-affix").length){var c=30;void 0!==ezTOC.scroll_offset&&(c=parseInt(ezTOC.scroll_offset)),$(ezTOC.affixSelector).stick_in_parent({inner_scrolling:!1,offset_top:c})}if($.fn.shrinkTOCWidth=function(){$(this).css({width:"auto",display:"table"}),/MSIE 7\./.test(navigator.userAgent)&&$(this).css("width","")},1===parseInt(ezTOC.smooth_scroll)&&$("a.ez-toc-link").on("click",function(){var c=$(this),a="",g=c.prop("hostname"),b=c.prop("pathname"),h=c.prop("search"),d=c.prop("hash");if(b.length>0&&"/"!==b.charAt(0)&&(b="/"+b),window.location.hostname===g&&window.location.pathname===b&&window.location.search===h&&""!==d){if(0===$(a='[id="'+d.replace("#","")+'"]').length&&(console.log("ezTOC scrollTarget Not Found: "+a),a=""),void 0!==ezTOC.scroll_offset)var e=-1*ezTOC.scroll_offset;else{var f=$("#wpadminbar");e=f.length>0&&f.is(":visible")?-30:0}a&&$.smoothScroll({scrollTarget:a,offset:e,beforeScroll:n,afterScroll:function(){m(),j()}})}}),void 0!==ezTOC.visibility_hide_by_default){var e=$("ul.ez-toc-list"),a=$("a.ez-toc-toggle"),f=ezTOC.visibility_hide_by_default;a.css("display","inline"),Cookies?(1==Cookies.get("ezTOC_hidetoc")?a.data("visible",!1):a.data("visible",!0),Cookies.remove("ezTOC_hidetoc")):(a.data("visible",!0),Cookies.remove("ezTOC_hidetoc")),f&&a.data("visible",!1),a.data("visible")||e.hide(),a.on("click",function(b){b.preventDefault();let a=document.querySelector("#ez-toc-container");if(a)a.classList.toggle("toc_close");else{let c=document.querySelector(".ez-toc-widget-container");c.classList.toggle("toc_close")}$(this).data("visible")?($(this).data("visible",!1),Cookies&&(f?Cookies.set("ezTOC_hidetoc",null,{path:"/"}):Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"})),e.hide("fast")):($(this).data("visible",!0),Cookies&&(f?Cookies.set("ezTOC_hidetoc","1",{expires:30,path:"/"}):Cookies.set("ezTOC_hidetoc",null,{path:"/"})),e.show("fast"))})}var g,b,d,h=$("span.ez-toc-section").toArray(),i=(g=h).reduce(function(a,b){var c;return a[b.id]=$('.ez-toc-widget-container .ez-toc-list a[href="#'+$(b).attr("id")+'"]'),a},{}),k=$.map(i,function(a,b){return a}),l=(b=5,void 0!==ezTOC.smooth_scroll&&1===parseInt(ezTOC.smooth_scroll)&&(b=void 0!==ezTOC.scroll_offset?parseInt(ezTOC.scroll_offset):30),(d=$("#wpadminbar")).length&&(b+=d.height()),b);function m(){var a=o(l,h);if(a){var b=i[a.id];p(b,k),q(b)}}function j(){h.length>0&&$(".ez-toc-widget-container").length&&$(window).on("load resize scroll",m)}function n(){$(window).off("load resize scroll",m)}function o(c,a){var d=$(window).scrollTop()+c+1,b=a[0],e=d-$(b).offset().top;return a.forEach(function(c){var a=d-$(c).offset().top;a>0&&a<e&&(e=a,b=c)}),b}function p(b,a){a.forEach(function(a){b!==a&&a.parent().hasClass("active")&&a.parent().removeClass("active")})}function q(g){var i,h,a,d,b,e,f,c=g.parent();c.hasClass("active")||c.addClass("active"),f=(d=(a=$(h=c)).html(),a.parent().append('<li id="ez-toc-height-test" class="active">'+d+"</li>"),b=$("#ez-toc-height-test"),e=b.height(),b.remove(),e-a.children("ul").first().height()),$("#ez-toc-active-height").remove(),$('<style id="ez-toc-active-height">.ez-toc-widget-container ul.ez-toc-list li.active {height:'+f+"px;} </style>").appendTo("head")}j()}ezTOC.init=function(){a()},a()}})