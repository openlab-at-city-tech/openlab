!function(s){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.social_profiles=redux.field_objects.social_profiles||{},redux.field_objects.social_profiles.fieldID="",redux.field_objects.social_profiles.optName="",redux.field_objects.social_profiles.init=function(e){e=e||s(document).find(".redux-group-tab:visible").find(".redux-container-social_profiles:visible"),s(e).each(function(){var e=s(this),i=e;(i=e.hasClass("redux-field-container")?i:e.parents(".redux-field-container:first")).is(":hidden")||i.hasClass("redux-field-init")&&(i.removeClass("redux-field-init"),redux.field_objects.social_profiles.modInit(e),redux.field_objects.social_profiles.sortListByOrder(e),redux.field_objects.social_profiles.sortEnableListByOrder(e),redux.field_objects.social_profiles.initializeResetButtons(e),redux.field_objects.social_profiles.showEnabledDetails(e))})},redux.field_objects.social_profiles.modInit=function(o){redux.field_objects.social_profiles.fieldID=o.find(".redux-social-profiles-container").data("id"),redux.field_objects.social_profiles.optName=o.find(".redux-social-profiles-container").data("opt-name"),o.find("#redux-social-profiles-list").sortable({revert:"invalid",cursor:"move",helper:"clone",handle:".redux-icon-preview",placeholder:"sortable-placeholder",stop:function(){redux.field_objects.social_profiles.reorderSocialItems(o),redux_change(o.find(".redux-social-profiles-container"))}}),o.find("#redux-social-profiles-selector-list").sortable({revert:"invalid",cursor:"move",helper:"clone",placeholder:"sortable-placeholder",stop:function(){redux.field_objects.social_profiles.reorderSocialEnable(o),redux_change(o.find(".redux-social-profiles-container"))}}),o.find(".redux-social-profiles-url-text").on("blur",function(){var e=s(this).data("key"),i=s(this).val();redux.field_objects.social_profiles.updateDataString(o,e,"url",i)}),o.find(".redux-social-profiles-item-enable").on("click",function(){var e=s(this).data("key");redux.field_objects.social_profiles.toggleEnabled(o,e)}),o.find(".redux-social-profiles-item-enabled input").on("click",function(e){e.preventDefault(),e=s(this).data("key"),redux.field_objects.social_profiles.toggleEnabled(o,e)})},redux.field_objects.social_profiles.valueFromDataString=function(e,i){e=e.find(".redux-social-profiles-hidden-data-"+i).val(),e=decodeURIComponent(e);return JSON.parse(e).name},redux.field_objects.social_profiles.updateDataString=function(e,i,o,l){e=e.find(".redux-social-profiles-hidden-data-"+i),i=e.val(),i=decodeURIComponent(i);(i=JSON.parse(i))[o]=l,i=JSON.stringify(i),i=encodeURIComponent(i),e.val(i)},redux.field_objects.social_profiles.sortListByOrder=function(e){var e=e.find("ul#redux-social-profiles-list "),i=e.children("li");i.detach().sort(function(e,i){return s(e).find(".redux-social-profiles-item-order input").val()-s(i).find(".redux-social-profiles-item-order input").val()}),e.append(i)},redux.field_objects.social_profiles.sortEnableListByOrder=function(e){var e=e.find("ul#redux-social-profiles-selector-list"),i=e.children("li");i.detach().sort(function(e,i){return s(e).data("order")-s(i).data("order")}),e.append(i)},redux.field_objects.social_profiles.initializeResetButtons=function(i){i.find(".redux-social-profiles-item-reset a").on("click",function(){var e=s(this);0<e.length&&(e=e.data("value"),redux.field_objects.social_profiles.resetItem(i,e))})},redux.field_objects.social_profiles.resetItem=function(e,i){var o=reduxSocialDefaults[i].color,l=reduxSocialDefaults[i].background;e.find(".redux-social-profiles-color-picker-"+i+".text").spectrum("set",o),e.find(".redux-social-profiles-color-picker-"+i+".background").spectrum("set",l),redux.field_objects.social_profiles.updateDataString(e,i,"color",o),redux.field_objects.social_profiles.updateDataString(e,i,"background",l),redux.field_objects.social_profiles.updatePreview(e,i)},redux.field_objects.social_profiles.updatePreview=function(e,i){var o=redux.field_objects.social_profiles.valueFromDataString(e,i,"color"),l=redux.field_objects.social_profiles.valueFromDataString(e,i,"background"),r=reduxSocialDefaults[i].icon,e=e.find("#redux-social-item-"+i+" i."+r);e.css("background-color",l),e.css("color",o)},redux.field_objects.social_profiles.toggleEnabled=function(e,i){var o=e.find("#redux-social-profiles-item-enable-"+i),o=o.hasClass("enabled")?(o.removeClass("enabled"),!1):(o.addClass("enabled"),!0);redux.field_objects.social_profiles.updateDataString(e,i,"enabled",o),redux_change(e.find(".redux-social-profiles-container")),redux.field_objects.social_profiles.showEnabledDetails(e)},redux.field_objects.social_profiles.showEnabledDetails=function(r){var d,e=r.find("li.redux-social-profiles-item-enable");0<e.length&&(d=[["#000000","#434343","#666666","#999999","#b7b7b7","#cccccc","#d9d9d9","#efefef","#f3f3f3","#ffffff"],["#980000","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#4a86e8","#0000ff","#9900ff","#ff00ff"],["#e6b8af","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d9ead3","#c9daf8","#cfe2f3","#d9d2e9","#ead1dc"],["#dd7e6b","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#a4c2f4","#9fc5e8","#b4a7d6","#d5a6bd"],["#cc4125","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6d9eeb","#6fa8dc","#8e7cc3","#c27ba0"],["#a61c00","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3c78d8","#3d85c6","#674ea7","#a64d79"],["#85200c","#990000","#b45f06","#bf9000","#38761d","#134f5c","#1155cc","#0b5394","#351c75","#741b47"],["#5b0f00","#660000","#783f04","#7f6000","#274e13","#0c343d","#1c4587","#073763","#20124d","#4c1130"]],e.each(function(){var e,i,o=s(this),l=o.data("key");o.hasClass("enabled")?(r.find(".redux-social-profiles-color-picker-"+l).spectrum({showAlpha:!0,showInput:!0,allowEmpty:!0,className:"redux-full-spectrum",showInitial:!0,showPalette:!0,showSelectionPalette:!0,clickoutFiresChange:!0,preferredFormat:"rgb",localStorageKey:"redux.social-profiles.spectrum",palette:d,change:function(e){var i=s(this).hasClass("text")?"color":"background";e=null===e?"":e.toRgbString(),redux.field_objects.social_profiles.updateDataString(r,l,i,e),redux.field_objects.social_profiles.updatePreview(r,l)}}),r.find("li#redux-social-item-"+l).slideDown(),e=r.find("input.checkbox-"+l),i=s(e).parent().find(".checkbox-check-"+l),e.prop("checked",!0),i.val(1)):(o=r.find("li#redux-social-item-"+l)).is(":hidden")||(o.slideUp("medium"),e=r.find("input.checkbox-"+l),i=s(e).parent().find(".checkbox-check-"+l),e.prop("checked",!1),i.val(0))}))},redux.field_objects.social_profiles.reorderSocialItems=function(l){var e=l.find("ul#redux-social-profiles-list li");0<e.length&&(e.each(function(e){var i=s(this),o=i.data("key");i.find(".redux-social-profiles-item-order input").val(e),redux.field_objects.social_profiles.updateDataString(l,o,"order",e),l.find("#redux-social-profiles-item-enable-"+o).data("order",e)}),redux.field_objects.social_profiles.sortEnableListByOrder(l))},redux.field_objects.social_profiles.reorderSocialEnable=function(r){var e=r.find("ul#redux-social-profiles-selector-list li");0<e.length&&e.each(function(e){var i=s(this),o=i.data("key"),l=r.find("li#redux-social-item-"+o).find(".redux-social-profiles-item-order input");i.data("order",e),l.val(e),redux.field_objects.social_profiles.updateDataString(r,o,"order",e)}),redux.field_objects.social_profiles.sortListByOrder(r)}}(jQuery);