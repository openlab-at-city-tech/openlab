!function(i){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.color=redux.field_objects.color||{},redux.field_objects.color.init=function(t){t=i.redux.getSelector(t,"color"),i(t).each(function(){const a=i(this);let t=a;(t=a.hasClass("redux-field-container")?t:a.parents(".redux-field-container:first")).is(":hidden")||t.hasClass("redux-field-init")&&(t.removeClass("redux-field-init"),a.find("input.redux-color").hasClass("alpha-enabled")&&a.addClass("alpha-enabled"),a.find(".redux-color-init").wpColorPicker({change:function(t,r){i(this).val(r.color.toString()),redux_change(i(this)),a.find("#"+t.target.getAttribute("data-id")+"-transparency").prop("checked",!1)},clear:function(){i(this).val(""),redux_change(i(this).parent().find(".redux-color-init"))}}),a.find(".redux-color").on("focus",function(){i(this).data("oldcolor",i(this).val())}),a.find(".redux-color").on("keyup",function(){var t=i(this).val(),r=colorValidate(this),e="#"+i(this).attr("id");"transparent"===t?(i(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),a.find(e+"-transparency").prop("checked",!0)):(a.find(e+"-transparency").prop("checked",!1),r&&r!==i(this).val()&&i(this).val(r))}),a.find(".redux-color").on("blur",function(){var t=i(this).val(),r="#"+i(this).attr("id");"transparent"===t?(i(this).parent().parent().find(".wp-color-result").css("background-color","transparent"),a.find(r+"-transparency").attr("checked","checked")):(colorValidate(this)===t&&0!==t.indexOf("#")&&i(this).val(i(this).data("oldcolor")),a.find(r+"-transparency").prop("checked",!1))}),a.find(".redux-color").on("keydown",function(){i(this).data("oldkeypress",i(this).val())}),a.find(".color-transparency").on("click",function(){let t;i(this).is(":checked")?(a.find(".redux-saved-color").val(i("#"+i(this).data("id")).val()),a.find("#"+i(this).data("id")).val("transparent"),a.find("#"+i(this).data("id")).parents(".redux-field-container").find(".wp-color-result").css("background-color","transparent")):(""===(t=i(this).parents(".redux-field-container").find(".redux-saved-color").val())&&(t=i("#"+i(this).data("id")).data("default-color")),a.find("#"+i(this).data("id")).parents(".redux-field-container").find(".wp-color-result").css("background-color",t),a.find("#"+i(this).data("id")).val(t)),redux_change(i(this))}))})}}(jQuery);