!function(d){"use strict";redux.field_objects=redux.field_objects||{},redux.field_objects.border=redux.field_objects.border||{},redux.field_objects.border.init=function(e){e=d.redux.getSelector(e,"border"),d(e).each(function(){var i=d(this),e=i;(e=i.hasClass("redux-field-container")?e:i.parents(".redux-field-container:first")).is(":hidden")||e.hasClass("redux-field-init")&&(e.removeClass("redux-field-init"),i.find(".redux-border-top, .redux-border-right, .redux-border-bottom, .redux-border-left, .redux-border-all").numeric({allowMinus:!1}),i.find(".redux-border-style").select2(),i.find(".redux-border-input").on("change",function(){var e,r=d(this).parents(".redux-field:first").find(".field-units").val();0!==d(this).parents(".redux-field:first").find(".redux-border-units").length&&(r=d(this).parents(".redux-field:first").find(".redux-border-units option:selected").val()),e=d(this).val(),void 0!==r&&e&&(e+=r),d(this).hasClass("redux-border-all")?d(this).parents(".redux-field:first").find(".redux-border-value").each(function(){d(this).val(e)}):d("#"+d(this).attr("rel")).val(e)}),i.find(".redux-border-units").on("change",function(){d(this).parents(".redux-field:first").find(".redux-border-input").change()}),i.find(".redux-color-init").wpColorPicker({change:function(e,r){d(this).val(r.color.toString()),redux_change(d(this)),i.find("#"+e.target.getAttribute("data-id")+"-transparency").prop("checked",!1)},clear:function(e,r){d(this).val(r.color.toString()),redux_change(d(this).parent().find(".redux-color-init"))}}),i.find(".redux-color").on("keyup",function(){var e=colorValidate(this);e&&e!==d(this).val()&&d(this).val(e)}),i.find(".redux-color").on("blur",function(){var e=d(this).val();colorValidate(this)===e&&0!==e.indexOf("#")&&d(this).val(d(this).data("oldcolor"))}),i.find(".redux-color").on("keydown",function(){d(this).data("oldkeypress",d(this).val())}))})}}(jQuery);