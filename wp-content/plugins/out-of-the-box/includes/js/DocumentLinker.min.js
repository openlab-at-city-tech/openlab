jQuery(document).ready(function(t){"use strict";function e(e){var a=t("form").data("callback");window.parent[a](e)}function a(){var a=t(".OutoftheBox.files").attr("data-token"),o=t(".OutoftheBox[data-token='"+a+"']").attr("data-path"),i=n(".OutoftheBox[data-token='"+a+"'] input[name='selected-files[]']"),l=t(".OutoftheBox.files").attr("data-account-id");return 0===i.length&&e(""),t.ajax({type:"POST",url:OutoftheBox_vars.ajax_url,data:{action:"outofthebox-create-link",account_id:l,listtoken:a,lastpath:o,entries:i,_ajax_nonce:OutoftheBox_vars.createlink_nonce},beforeSend:function(){t(".OutoftheBox .loading").height(t(".OutoftheBox .ajax-filelist").height()),t(".OutoftheBox .loading").fadeTo(400,.8),t(".OutoftheBox .insert_links").attr("disabled","disabled")},complete:function(){t(".OutoftheBox .loading").fadeOut(400),t(".OutoftheBox .insert_links").removeAttr("disabled")},success:function(a){if(null!==a&&null!==a.links&&a.links.length>0){var n="";t.each(a.links,function(t,e){!1===e.link?n+='<a class="OutoftheBox-directlink" href="#">Plugin does not have permission to create shared link for: '+e.name+"</a><br/>":n+='<a class="OutoftheBox-directlink" href="'+e.link+'" target="_blank">'+e.name+"</a><br/>"}),e(n)}},dataType:"json"}),!1}function n(e){var a=t(e+":checked").map(function(){return this.value}).get();return a}t("#do_link").click(a)});