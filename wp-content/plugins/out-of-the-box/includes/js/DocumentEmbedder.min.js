jQuery(document).ready(function(t){"use strict";function e(e){var n=t("form").data("callback");window.parent[n](e)}function n(){var n=t(".OutoftheBox.files").attr("data-token"),a=t(".OutoftheBox[data-token='"+n+"']").attr("data-path"),i=o(".OutoftheBox[data-token='"+n+"'] input[name='selected-files[]']"),d=t(".OutoftheBox.files").attr("data-account-id");return 0===i.length&&e(""),t.ajax({type:"POST",url:OutoftheBox_vars.ajax_url,data:{action:"outofthebox-embedded",account_id:d,listtoken:n,lastpath:a,entries:i,_ajax_nonce:OutoftheBox_vars.createlink_nonce},beforeSend:function(){t(".OutoftheBox .loading").height(t(".OutoftheBox .ajax-filelist").height()),t(".OutoftheBox .loading").fadeTo(400,.8),t(".OutoftheBox .insert_links").attr("disabled","disabled")},complete:function(){t(".OutoftheBox .loading").fadeOut(400),t(".OutoftheBox .insert_links").removeAttr("disabled")},success:function(n){if(null!==n&&null!==n.links&&n.links.length>0){var o="";t.each(n.links,function(e,n){t.inArray(n.extension,["jpg","jpeg","png","gif"])>-1?o+='<img src="'+n.embeddedlink+'" />':o+='<iframe src="'+n.embeddedlink+'" height="480" style="width:100%;" frameborder="0" scrolling="no" class="oftb-embedded" allowfullscreen></iframe>'}),e(o)}},dataType:"json"}),!1}function o(e){var n=t(e+":checked").map(function(){return this.value}).get();return n}t("#do_embed").on("click",n)});