(()=>{(function(t){let d=document.querySelectorAll("input[name=_wpt_post_this]"),i=document.querySelector(".wpt-options-metabox");d.forEach(e=>{e&&e.checked&&e.value==="no"&&(i.style.display="none"),e.addEventListener("change",function(){e.checked&&e.value=="yes"?i.style.display="grid":i.style.display="none"})});let w=document.querySelectorAll("input[name=_wpt_image]"),l=document.querySelector(".wpt_custom_image");w.forEach(e=>{e&&e.checked&&e.value==="1"&&(l.style.display="none"),e.addEventListener("change",function(){e.checked&&e.value=="0"?l.style.display="block":l.style.display="none"})}),t("#wpt_custom_tweet, #wpt_custom_update, #wpt_retweet_0, #wpt_retweet_1, #wpt_retweet_3").charCount({allowed:wptSettings.allowed,counterText:wptSettings.text});let h=t(".service-selection-variants .service-selector input"),o=t("#wpt_custom_tweet").val();o===""&&(o=t("pre.wpt-template").text()),h.each(function(){t(this).on("change",function(){let e=t(this).is(":checked"),s=t(this).val();e===!0?(t("#wpt_custom_tweet_"+s).parent("p").removeClass("hidden"),t("#wpt_custom_tweet_"+s).val(o)):t("#wpt_custom_tweet_"+s).parent("p").addClass("hidden")})}),t("button.toggle-debug").on("click",function(){var e=t(this).next("pre");e.is(":visible")?(e.hide(),t(this).attr("aria-expanded","false")):(e.show(),t(this).attr("aria-expanded","true"))}),t("#wp2t .history").hide(),t("#wp2t .history-toggle").on("click",function(e){let s=t("#wp2t .history-toggle span ");t("#wp2t .history").is(":visible")?(s.addClass("dashicons-plus"),s.removeClass("dashicons-minus"),s.parent("button").attr("aria-expanded","false")):(s.removeClass("dashicons-plus"),s.addClass("dashicons-minus"),s.parent("button").attr("aria-expanded","true")),t("#wp2t .history").toggle(300)});let m=document.querySelectorAll("#wp2t .inline-list button"),n=document.getElementById("wpt_custom_tweet"),p=document.querySelector("#wp2t pre.wpt-template"),r=n!==null?n.value:"",a=p!==null?p.innerText:"";m.forEach(e=>{e.addEventListener("click",function(s){r=n!==null?n.value:"";let _=e.getAttribute("aria-pressed"),u=e.innerText;if(a=r||a,_==="true"){let c=a.replace(u,"").trim();a=c,n.value=c,e.setAttribute("aria-pressed","false")}else a=a+" "+u,n.value=a,e.setAttribute("aria-pressed","true");wp.a11y.speak(wptSettings.updated)})})})(jQuery);})();
