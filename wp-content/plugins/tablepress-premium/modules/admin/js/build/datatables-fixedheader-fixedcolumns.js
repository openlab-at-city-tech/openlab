(()=>{"use strict";const e=window.wp.i18n,t=window.wp.hooks,a=e=>"#"===e[0]?document.getElementById(e.slice(1)):document.querySelectorAll(e);a("#tablepress_edit-datatables-fixedheader-fixedcolumns").addEventListener("change",(e=>{if(!(e.target&&e.target instanceof HTMLInputElement&&"checkbox"===e.target.type&&e.target.classList.contains("control-input")))return;const t=e.target.closest(".input-field-box-wrapper"),s=t.querySelectorAll(":scope input:checked"),l=t.dataset.optionName,o=[...s].map((e=>e.value));tp.table.options[l]=o.join(","),tp.table.options.datatables_fixedcolumns.includes("left")&&0===tp.table.options.datatables_fixedcolumns_left_columns?tp.table.options.datatables_fixedcolumns_left_columns=1:tp.table.options.datatables_fixedcolumns.includes("left")||0===tp.table.options.datatables_fixedcolumns_left_columns||(tp.table.options.datatables_fixedcolumns_left_columns=0),a("#option-datatables_fixedcolumns_left_columns").value=tp.table.options.datatables_fixedcolumns_left_columns,tp.table.options.datatables_fixedcolumns.includes("right")&&0===tp.table.options.datatables_fixedcolumns_right_columns?tp.table.options.datatables_fixedcolumns_right_columns=1:tp.table.options.datatables_fixedcolumns.includes("right")||0===tp.table.options.datatables_fixedcolumns_right_columns||(tp.table.options.datatables_fixedcolumns_right_columns=0),a("#option-datatables_fixedcolumns_right_columns").value=tp.table.options.datatables_fixedcolumns_right_columns,tp.helpers.options.check_dependencies(),tp.helpers.unsaved_changes.set()})),(0,t.addFilter)("tablepress.optionsLoad","tp/datatables-fixedheader-fixedcolumns/load-option-value",(e=>"datatables_fixedheader"!==e&&"datatables_fixedcolumns"!==e?e:(""!==tp.table.options[e]&&tp.table.options[e].split(",").forEach((t=>a(`#option-${e}-${t}`).checked=!0)),tp.table.options.datatables_fixedheader.includes("top")&&tp.table.options.datatables_fixedheader_offsettop>0&&(a("#tablepress-datatables_fixedheader-advanced-settings").open=!0),(tp.table.options.datatables_fixedcolumns_left_columns>1||tp.table.options.datatables_fixedcolumns_right_columns>1||tp.table.options.datatables_scrollx_buttons)&&(a("#tablepress-datatables_fixedcolumns-advanced-settings").open=!0),""))),(0,t.addAction)("tablepress.optionsCheckDependencies","tp/datatables-fixedheader-fixedcolumns/handle-options-check-dependencies",(()=>{const t=tp.table.options.use_datatables&&tp.table.options.table_head;a("#tablepress_edit-datatables-fixedheader-fixedcolumns").querySelectorAll(":scope input").forEach((e=>e.disabled=!t));const s=t&&tp.table.options.table_foot,l=a("#option-datatables_fixedheader-bottom");l.disabled=!s,l.nextElementSibling.title=t&&!s?(0,e.sprintf)((0,e.__)("This feature is only available when the “%1$s” checkbox in the “%2$s” section is checked.","tablepress"),(0,e.__)("Table Foot Row","tablepress"),(0,e.__)("Table Options","tablepress")):"";const o=a("#option-datatables_fixedheader_offsettop");o.disabled=!t||!tp.table.options.datatables_fixedheader.includes("top"),o.parentNode.title=o.disabled?(0,e.sprintf)((0,e.__)("This feature is only available when the “%1$s” checkbox is checked.","tablepress"),(0,e.__)("Head Row","tablepress")):"";const i=a("#option-datatables_fixedcolumns_left_columns");i.disabled=!t||!tp.table.options.datatables_fixedcolumns.includes("left"),i.parentNode.title=i.disabled?(0,e.sprintf)((0,e.__)("This feature is only available when the “%1$s” checkbox is checked.","tablepress"),(0,e.__)("First column","tablepress")):"";const n=a("#option-datatables_fixedcolumns_right_columns");n.disabled=!t||!tp.table.options.datatables_fixedcolumns.includes("right"),n.parentNode.title=n.disabled?(0,e.sprintf)((0,e.__)("This feature is only available when the “%1$s” checkbox is checked.","tablepress"),(0,e.__)("Last column","tablepress")):"",a("#option-datatables_scrollx_buttons").disabled=!t||!(tp.table.options.datatables_fixedcolumns.includes("left")||tp.table.options.datatables_fixedcolumns.includes("right")||tp.table.options.datatables_scrollx),a("#notice-datatables-fixedheader-fixedcolumns-requirements").style.display=t?"none":"block"})),(0,t.addFilter)("tablepress.optionsMetaBoxes","tp/datatables-fixedheader-fixedcolumns/add-meta-box",(e=>(e.push("#tablepress_edit-datatables-fixedheader-fixedcolumns"),e))),(0,t.addFilter)("tablepress.optionsValidateFields","tp/datatables-advanced-loading/validate-fields",(t=>{if(""===tp.table.options.datatables_fixedheader_offsettop||isNaN(tp.table.options.datatables_fixedheader_offsettop)||tp.table.options.datatables_fixedheader_offsettop<0){window.alert((0,e.sprintf)((0,e.__)("The entered value in the “%1$s” field is invalid.","tablepress"),(0,e.__)("Fixed Header Top Offset","tablepress")));const s=a("#option-datatables_fixedheader_offsettop");s.closest("details").open=!0,s.focus(),s.select(),t=!1}if(""===tp.table.options.datatables_fixedcolumns_left_columns||isNaN(tp.table.options.datatables_fixedcolumns_left_columns)||tp.table.options.datatables_fixedcolumns_left_columns<0){window.alert((0,e.sprintf)((0,e.__)("The entered value in the “%1$s” field is invalid.","tablepress"),(0,e.__)("Fixed Columns on the left","tablepress")));const s=a("#option-datatables_fixedcolumns_left_columns");s.closest("details").open=!0,s.focus(),s.select(),t=!1}if(""===tp.table.options.datatables_fixedcolumns_right_columns||isNaN(tp.table.options.datatables_fixedcolumns_right_columns)||tp.table.options.datatables_fixedcolumns_right_columns<0){window.alert((0,e.sprintf)((0,e.__)("The entered value in the “%1$s” field is invalid.","tablepress"),(0,e.__)("Fixed Columns on the right","tablepress")));const s=a("#option-datatables_fixedcolumns_right_columns");s.closest("details").open=!0,s.focus(),s.select(),t=!1}return t}))})();