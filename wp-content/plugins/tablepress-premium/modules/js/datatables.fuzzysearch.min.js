!function(t,e,a){function o(t,e,a){const o=t.length,r=e.length,n=[];a=(a||(r>o?r:o))+1;for(let t=0;t<a;t++)n[t]=[t],n[t].length=a;for(let t=0;t<a;t++)n[0][t]=t;if(Math.abs(o-r)>(a||100))return h(a||100);if(0===o)return h(r);if(0===r)return h(o);let s,i,c,l,u;for(let a=1;a<=o;++a){s=t[a-1];for(let f=1;f<=r;++f){if(a===f&&n[a][f]>4)return h(o);i=e[f-1],c=s===i?0:1,l=n[a-1][f]+1,(u=n[a][f-1]+1)<l&&(l=u),(u=n[a-1][f-1]+c)<l&&(l=u),n[a][f]=a>1&&f>1&&s===e[f-2]&&t[a-2]===i&&(u=n[a-2][f-2]+c)<l?u:l}}return h(n[o][r]);function h(t){const e=Math.max(o,r),a=0===e?0:t/e;return{steps:t,relative:a,similarity:1-a}}}function r(t,e,a){var r;if(void 0===t||0===t.length)return{pass:!0,score:""};const n=null!==(r=a.threshold)&&void 0!==r?r:.5,s=t.split(/ /g),i=[];for(let t=0;t<s.length;t++)0===s[t].length||" "===s[t]?(s.splice(t,1),t--):i.length<s.length&&i.push({pass:!1,score:0});for(let t=0;t<e.length;t++){e[t]=e[t].toLowerCase();const a=e[t].split(/ /g);for(let t=0;t<a.length;t++)0!==a[t].length&&" "!==a[t]||(a.splice(t,1),t--);for(let t=0;t<s.length;t++){let e={pass:void 0,score:0};for(let r=0;r<a.length;r++){if(0===a[r].indexOf(s[t])){const o=s[t].length/a[r].length;e={pass:!0,score:e.score<o?o:e.score}}const n=o(s[t],a[r]).similarity;n>e.score&&(e.score=n)}(i[t].score<e.score||e.pass)&&(i[t]={pass:!(!e.pass&&!i[t].pass)||e.score>n,score:e.score})}}for(let t=0;t<i.length;t++)if(!i[t].pass)return{pass:!1,score:Math.round(i.reduce(((t,e)=>t+e.score),0)/i.length*100)+"%"};return{pass:!0,score:Math.round(i.reduce(((t,e)=>t+e.score),0)/i.length*100)+"%"}}DataTable.ext.search.push((function(t,e,a){const o=t.oInit.fuzzySearch;if(!o)return!0;if(t.aoData[a]){if(void 0!==t.aoData[a]._fuzzySearch){const e=t.aoData[a]._fuzzySearch.score;return void 0!==o.rankColumn&&(t.aoData[a].anCells[o.rankColumn].innerHTML=e,t.aoData[a]._aSortData||(t.aoData[a]._aSortData={}),t.aoData[a]._aSortData[o.rankColumn]=+e.substring(0,e.length-1)),t.aoData[a]._fuzzySearch.pass}void 0!==o.rankColumn&&(t.aoData[a].anCells[o.rankColumn].innerHTML="",t.aoData[a]._aSortData||(t.aoData[a]._aSortData={}),t.aoData[a]._aSortData[o.rankColumn]="")}return!0})),a(e).on("init.dt",(function(t,e){const o=new DataTable.Api(e),n=o.init(),s=n.fuzzySearch;if(!s)return;let i=!1;const c=a("div.dataTables_filter input",o.table().container()),l={"font-weight":"600","background-color":"rgba(0,0,0,0.05)"},u={"font-weight":"500","background-color":"transparent"},h={border:"1px solid #16232a","border-radius":"4px",background:"none","font-size":"80%",width:"calc(50% - 0.5em)",display:"inline-block",cursor:"pointer",padding:"0.5em",margin:"0 0.25em"};let f,d,g,p,b;if(!0===s||s.toggleSmart){c.closest(".dataTables_filter").css({position:"relative"}),c.css({"padding-right":"30px"}),f=a('<button class="dt-toggleSearch">Abc</button>').insertAfter(c).css({border:"none",background:"none",position:"absolute",top:c.position().top,right:0,height:c.outerHeight(),"margin-top":parseInt(c.css("marginTop"),10),cursor:"pointer",color:"#3b5e99",padding:"1px 4px","font-size":"14px","font-family":"sans-serif","font-weight":"normal","vertical-align":"middle"});const t=e.oLanguage.fuzzySearch?.searchType||"Search Type";b=a("<div>"+t+"</div>").css({"padding-bottom":"0.5em","font-size":"0.8em"});const o=e.oLanguage.fuzzySearch?.exact||"Exact";g=a('<button class="dt-toggleSearch">'+o+"</button>").css(h).css(l).attr("highlighted",!0);const r=e.oLanguage.fuzzySearch?.fuzzy||"Fuzzy";p=a('<button class="dt-toggleSearch">'+r+"</button>").css(h),d=a('<div class="dt-fuzzyToolTip"></div>').css({position:"absolute",top:c.outerHeight()+10,background:"white","border-radius":"4px","text-align":"center",padding:"0.5em","box-shadow":"4px 4px 4px rgba(0, 0, 0, 0.5)",border:"1px solid #16232a",transition:"opacity 0.25s","z-index":"30001",width:c.outerWidth()-8,"box-sizing":"border-box"}).append(b).append(g).append(p)}function z(t){f.attr("blurred")?(f.css({filter:"blur(0px)"}).removeAttr("blurred"),p.removeAttr("highlighted").css(u),g.attr("highlighted",!0).css(l)):(f.css({filter:"blur(1px)"}).attr("blurred",!0),g.removeAttr("highlighted").css(u),p.attr("highlighted",!0).css(l)),y(t)}a(e.nTable).off("search.dt.DT");let m="",v="";const y=function(t){("input"!==t.type||void 0!==n.search&&n.search.return)&&"Enter"!==t.key&&"click"!==t.type||(f&&!f.attr("blurred")?(o.rows().iterator("row",(function(t,e){t.aoData[e]._fuzzySearch=void 0}),!1),v=c.val(),m=v,i=!0,o.search(v),i=!1,v=""):(m=c.val(),v="",void 0!==m&&0!==m.length&&(m=m.toLowerCase()),o.rows().iterator("row",(function(t,e){t.aoData[e]._fuzzySearch=r(m,t.aoData[e]._aFilterData,s)}),!1),i=!0,o.search(""),c.val(m),i=!1),i=!0,o.draw(),i=!1)};if(DataTable.Api.register("search.fuzzy()",(function(t){return void 0===t?m:(m=t.toLowerCase(),v=o.search(),c.val(m),o.rows().iterator("row",(function(t,e){t.aoData[e]._fuzzySearch=r(m,t.aoData[e]._aFilterData,s)}),!1),this)})),c.off(),f){const t=(t,e)=>{t.attr("highlighted")||z(e)},e=()=>{d.remove()};f.on("click",z).on("mouseenter",(function(){const o=a(this.previousElementSibling);d.insertAfter(this).on("mouseleave",e),d.css("left",o.position().left+parseInt(o.css("marginLeft"),10)+4),g.on("click",(e=>t(g,e))),p.on("click",(e=>t(p,e)))})).on("mouseleave",e).click(),c.on("mouseenter",(function(){const o=this.nextElementSibling,r=a(this);d.insertAfter(o).on("mouseleave",e),d.css("left",r.position().left+parseInt(r.css("marginLeft"),10)+4),g.on("click",(e=>t(g,e))),p.on("click",(e=>t(p,e)))})).on("mouseleave",(function(){let t=!1;d.on("mouseenter",(()=>t=!0)),f.on("mouseenter",(()=>t=!0)),setTimeout((function(){t||e()}),250)}));const r=o.state.loaded();o.on("stateSaveParams",(function(t,e,a){a._fuzzySearch={active:f.attr("blurred"),val:c.val()}})),null!==r&&void 0!==r._fuzzySearch&&(c.val(r._fuzzySearch.val),"true"===r._fuzzySearch.active&&(f.click(),o.page(r.start/r.length).draw("page")))}o.on("search",(function(){i||c.val(o.search()!==v?o.search():m)})),c.on("input keydown",y),f||y({key:"Enter"})}))}(window,document,jQuery);