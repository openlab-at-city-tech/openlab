jQuery(function(o){jQuery("body").on("click","a.dlm_insert_download",function(){return tb_show(dlm_id_strings.insert_download,"media-upload.php?type=add_download&amp;from=wpdlm01&amp;TB_iframe=true&amp;height=200"),!1}),jQuery("body").on("click","p.dlm-extension-filtering a",function(t){t.preventDefault();const e=jQuery(this).attr("id"),i=jQuery(".dlm_extensions .feature-list > .feature-block").not(".free-extension"),n=jQuery(".dlm_extensions .feature-list > .feature-block.free-extension");"free-extensions"===e?(n.show(),i.hide()):("pro-extensions"===e?n.hide():n.show(),i.show())}),o(document).on("click","#dlm-protect-file",function(t){t.preventDefault();const i=o(this).data(),n=o(this),a=n.text(),e={action:"protect_file"===i.action?"dlm_protect_file":"dlm_unprotect_file",_ajax_nonce:i.nonce,user_id:i.user_id,file:i.file,attachment_id:i.post_id};n.attr("disabled","disabled"),n.text("Please wait..."),o.post(ajaxurl,e,function(t){if(t.success){n.text(t.data.text),t.data.url&&(n.parents(".attachment-info").find("#attachment-details-two-column-copy-link").val(t.data.url),jQuery("#attachment_url").val(t.data.url));const e="protect_file"===i.action?"unprotect_file":"protect_file";n.data("action",e),setTimeout(function(){var t="protect_file"==e?"Protect File":"Unprotect File";n.text(t),n.removeAttr("disabled")},3e3)}else n.text(t.data),setTimeout(function(){n.text(a),n.removeAttr("disabled")},3e3)})})}),jQuery(document).ready(function(){void 0!==wp.media&&(wp.media.view.Attachment.Library=wp.media.view.Attachment.Library.extend({className:function(){let t="attachment";return"undefined"!==this.model.get("dlmCustomClass")&&(t+=" "+this.model.get("dlmCustomClass")),"undefined"!==this.model.get("customClass")&&(t+=" "+this.model.get("customClass")),jQuery(document).trigger("dlm_custom_attachment_class",[this.model,t]),t}}))});