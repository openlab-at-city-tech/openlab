jQuery(function(n){jQuery("body").on("click","a.dlm_insert_download",function(){return tb_show(dlm_id_strings.insert_download,"media-upload.php?type=add_download&amp;from=wpdlm01&amp;TB_iframe=true&amp;height=200"),!1}),n(document).on("click","#dlm-protect-file",function(t){t.preventDefault();const a=n(this).data(),i=n(this),o=i.text(),e={action:"protect_file"===a.action?"dlm_protect_file":"dlm_unprotect_file",_ajax_nonce:a.nonce,user_id:a.user_id,file:a.file,attachment_id:a.post_id};i.attr("disabled","disabled"),i.text("Please wait..."),n.post(ajaxurl,e,function(t){if(t.success){i.text(t.data.text),t.data.url&&(i.parents(".attachment-info").find("#attachment-details-two-column-copy-link").val(t.data.url),jQuery("#attachment_url").val(t.data.url));const e="protect_file"===a.action?"unprotect_file":"protect_file";i.data("action",e),setTimeout(function(){var t="protect_file"==e?"Protect File":"Unprotect File";i.text(t),i.removeAttr("disabled")},3e3)}else i.text(t.data),setTimeout(function(){i.text(o),i.removeAttr("disabled")},3e3)})})}),jQuery(document).ready(function(){void 0!==wp.media&&(wp.media.view.Attachment.Library=wp.media.view.Attachment.Library.extend({className:function(){let t="attachment";return"undefined"!==this.model.get("dlmCustomClass")&&(t+=" "+this.model.get("dlmCustomClass")),"undefined"!==this.model.get("customClass")&&(t+=" "+this.model.get("customClass")),jQuery(document).trigger("dlm_custom_attachment_class",[this.model,t]),t}}))});