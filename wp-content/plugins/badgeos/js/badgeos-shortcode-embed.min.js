!function(e){function t(){e(".ui-autocomplete-input").val("");var t=a(),n=function(t,a){var n="[";if(n+=t,a){for(i=0;i<a.length;i++)n+=" "+a[i];e.trim(n)}return n+="]"}(t,function(t){var a=[],n=function(t){return e(".text, .select","#"+t+"_wrapper")}(t);return e.each(n,function(t,n){if(""!==n.value&&void 0!==n.value){if(e(this).hasClass("select2-hidden-accessible")){var s=e(n).select2("data"),i=[];return e.each(s,function(e,t){i.push(t.id)}),a.push(n.name+'="'+i+'"'),a}return a.push(n.name+'="'+n.value+'"'),a}}),a}(t));window.send_to_editor(n)}function a(){return e("#select_shortcode").val()}e("#select_shortcode").on("change",function(){var t;e(".shortcode-section").hide(),t=a(),e("#"+t+"_wrapper").show()}).change(),e("#badgeos_insert").on("click",function(e){e.preventDefault(),t()}),e("#badgeos_cancel").on("click",function(e){e.preventDefault(),tb_remove()}),e("#insert_badgeos_shortcodes").on("click",function(t){var a=e(".select2-container");e.each(a,function(t,a){e(a).val("")})});var n={language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.id_placeholder,allowClear:!0},s=e.extend(!0,{},n,{});function o(e){return(t=e,t.split(/,\s*/)).pop();var t}function r(t){setTimeout(function(){var a=t.attr("data-width");e(".badgeos-shortcode-thickbox").width(a);var n=e(".badgeos-shortcode-thickbox").height();e(".badgeos-shortcode-thickbox #TB_ajaxContent").width(a-30).height(n-50),e(".badgeos-shortcode-thickbox .wrap").width(a-50).height(n-50)},0)}e("#badgeos_achievement_id,#badgeos_rank_id, #badgeos_nomination_achievement_id, #badgeos_submission_achievement_id, #badgeos_user_earned_points_point_type, #badgeos_evidence_achievement").select2(n),e("#badgeos_achievements_list_include, #badgeos_achievements_list_exclude, #badgeos_user_earned_achievements_include, #badgeos_user_earned_achievements_exclude,#badgeos_user_earned_ranks_rank_type").attr("multiple",!0).select2(s),e("#badgeos_achievements_list_type, #badgeos_user_earned_achievements_type").html(badgeos_shortcode_embed_messages.achievements_select_options).attr("multiple",!0).select2({language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.id_multiple_placeholder,allowClear:!0}),e("#badgeos_ranks_list_types").attr("multiple",!0).select2({language:{noResults:function(){return"No Results"},errorLoading:function(){return"Searching..."}},escapeMarkup:function(e){return e},placeholder:badgeos_shortcode_embed_messages.id_multiple_placeholder,allowClear:!0}),e("#badgeos_achievements_list_user_id1, #badgeos_user_earned_achievements_user_id1, #badgeos_user_earned_ranks_user_id1, #badgeos_user_earned_points_user_id1, #badgeos_ranks_list_user_id1, #badgeos_evidence_user_id1").autocomplete({source:function(t,a){e.getJSON(ajaxurl,{q:o(t.term),action:"badgeos-get-users-list"},a)},multiselect:!1,search:function(){if(o(this.value).length<3)return!1},focus:function(){return!1},change:function(e,t){var a=jQuery(this);if(""==a.val()){var n=a.data("fieldname");"autocomplete"==a.data("type")&&jQuery("#"+n).val("")}},select:function(e,t){var a=jQuery(this),n=a.data("fieldname");return"autocomplete"==a.data("type")&&(""!=t.item.value?jQuery("#"+n).val(t.item.value):jQuery("#"+n).val(t.item.id)),this.value=t.item.label,!1}}),e("#badgeos_evidence_award_id1").autocomplete({source:function(t,a){e.getJSON(ajaxurl,{q:o(t.term),action:"get-achievements-award-list",achievement_id:e("#badgeos_evidence_achievement").val(),user_id:e("#badgeos_evidence_user_id").val()},a)},multiselect:!1,search:function(){if(o(this.value).length<3)return!1},focus:function(){return!1},change:function(e,t){var a=jQuery(this);if(""==a.val()){var n=a.data("fieldname");"autocomplete"==a.data("type")&&jQuery("#"+n).val("")}},select:function(e,t){var a=jQuery(this),n=a.data("fieldname");return"autocomplete"==a.data("type")&&(""!=t.item.value?jQuery("#"+n).val(t.item.value):jQuery("#"+n).val(t.item.id)),this.value=t.item.label,!1}}),e("body").on("click","#insert_badgeos_shortcodes",function(t){var a;t.preventDefault(),a=e(this),setTimeout(function(){e("#TB_window").addClass("badgeos-shortcode-thickbox"),r(a)},0),e(".ui-autocomplete-multiselect").css("width","90%")}),e(window).resize(function(){r(e("#insert_badgeos_shortcodes"))})}(jQuery);