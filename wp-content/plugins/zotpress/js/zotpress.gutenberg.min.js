jQuery(document).ready((function(){var e;(e=window.wp).richText.registerFormatType("zotpress-gutenberg/bib",{title:"Insert Zotpress Shortcode",tagName:"span",className:"zp-InText-Citation-Container",edit:function(t){return e.element.createElement(e.blockEditor.RichTextToolbarButton,{icon:"shortcode",title:"Zotpress Shortcode",onClick:function(){console.log("zp: Zotpress bib shortcode"),jQuery(".zp-ZotpressMetaBox-Insert-Button").off("click"),window.zpRefItems=[],jQuery("#zp-ZotpressMetaBox-List .item").remove(),jQuery("#zp-ZotpressMetaBox").addClass("zp-ShortcodeBuilder").appendTo(".interface-interface-skeleton__body").find(".zp-ZotpressMetaBox-Insert-Button").text(zpTranslate.txt_insertsc),jQuery("#zp-ZotpressMetaBox").find("#zp-ZotpressMetaBox-Search-Input").focus(),jQuery(".zp-ZotpressMetaBox-Insert-Button").click((function(){!function(t,o){var r=window.zpGenerateShortcodeString(t.data("sctype"));let s=e.richText.create({html:r});o.onChange(e.richText.insert(o.value,s,o.value.start,o.value.end)),jQuery("#zp-ZotpressMetaBox").removeClass("zp-ShortcodeBuilder").appendTo("#ZotpressMetaBox .inside").find(".zp-ZotpressMetaBox-Insert-Button").text(zpTranslate.txt_insertsc)}(jQuery(this),t)}))},isActive:t.isActive})}}),jQuery("#zp-ShortcodeBuilder-Close").click((function(){jQuery("#zp-ZotpressMetaBox").removeClass("zp-ShortcodeBuilder").appendTo("#ZotpressMetaBox .inside")}))}));