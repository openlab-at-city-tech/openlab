!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=4)}([function(e,n){e.exports=window.React},function(e,n,t){var r;!function(){"use strict";var t={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===a)for(var l in r)t.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(n,[]))||(e.exports=r)}()},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n),t(2);var r=t(1),o=t.n(r);function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var c=wp.editor.RichText,l=function(e){return React.createElement(c,a({keepPlaceholderOnFocus:!0,style:{textAlign:e.textAlignment,color:e.textColorControl,backgroundColor:e.backgroundColorControl,fontSize:e.fontSize?e.fontSize+"px":void 0}},e))};function i(){return(i=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var __=wp.i18n.__,u=function(e){return React.createElement("div",null,React.createElement("h4",{className:"bulb-editor-section-label"},__("Question","bu-learning-blocks")),React.createElement("h5",{className:"bulb-editor-field-label"},__("Question Header","bu-learning-blocks")),React.createElement(l,i({className:"question-header",placeholder:__("Enter Question Header","bu-learning-blocks")},e)))};function s(){return(s=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var b=wp.i18n.__,f=function(e){return React.createElement("div",null,React.createElement("h5",{className:"bulb-editor-field-label"},b("Question Body","bu-learning-blocks")),React.createElement(l,s({className:"question-body",placeholder:b("Enter Question Body","bu-learning-blocks")},e)))};function d(){return(d=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function g(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var y=wp.i18n.__,h=function(e){var n=function(n){var t=m(m({},e.feedback),n);e.onChangeFeedback(t)};return e.singleFeedback?React.createElement("div",null,React.createElement("h5",null,y("Feedback:","bu-learning-blocks")),React.createElement(l,d({className:"question-feedback",placeholder:y("Enter Feedback","bu-learning-blocks"),value:e.feedback.correct,onChange:function(e){return n({correct:e,incorrect:e})}},e))):React.createElement("div",null,React.createElement("h4",{className:"bulb-editor-section-label"},y("Feedback","bu-learning-blocks")),React.createElement("h5",{className:"bulb-editor-field-label"}," ",y("Correct Feedback","bu-learning-blocks")),React.createElement(l,d({className:"question-feedback",placeholder:y("Enter Correct Feedback","bu-learning-blocks"),value:e.feedback.correct,onChange:function(e){return n({correct:e})}},e)),React.createElement("h5",{className:"bulb-editor-field-label"},y("Incorrect Feedback","bu-learning-blocks")),React.createElement(l,d({className:"question-feedback",placeholder:y("Enter Incorrect Feedback","bu-learning-blocks"),value:e.feedback.incorrect,onChange:function(e){return n({incorrect:e})}},e)))};function v(){return(v=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var w=function(e){var n=e.classes,t=e.header,r=e.onChangeHeader,a=e.body,c=e.onChangeBody,l=e.singleFeedback,i=e.feedback,s=e.onChangeFeedback,b=e.textAlignment,d=e.textColorControl,p=e.backgroundColorControl,m=e.fontSize,g=e.children,y={textAlignment:b,textColorControl:d,backgroundColorControl:p,fontSize:m};return React.createElement("div",{className:o()("bulb-question",n)},React.createElement(u,v({value:t,onChange:r},y)),React.createElement(f,v({value:a,onChange:c},y)),g,React.createElement(h,v({singleFeedback:l,feedback:i,onChangeFeedback:s},y)))};function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function R(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,n){return(E=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function O(e,n){return!n||"object"!==k(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j=wp.element.Component,P=wp.editor,x=P.AlignmentToolbar,S=P.BlockControls,F=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&E(e,n)}(c,e);var n,t,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=A(r);if(o){var t=A(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return O(this,e)});function c(){return C(this,c),a.apply(this,arguments)}return n=c,(t=[{key:"render",value:function(){var e=this.props,n=e.attributes.textAlignment,t=e.setAttributes;return React.createElement(S,null,React.createElement(x,{value:n,onChange:function(e){return t({textAlignment:e})}}))}}])&&R(n.prototype,t),c}(j),_=t(0),B=t.n(_);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,n){return(T=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function z(e,n){return!n||"object"!==N(n)&&"function"!=typeof n?M(e):n}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&T(e,n)}(c,e);var n,t,r,o,a=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,n=I(r);if(o){var t=I(this).constructor;e=Reflect.construct(n,arguments,t)}else e=n.apply(this,arguments);return z(this,e)});function c(e){var n;return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,e)).state={error:""},n.onChange=n.onChange.bind(M(n)),n}return n=c,(t=[{key:"onChange",value:function(e){var n=e.target.value,t=isNaN(parseFloat(n))?"Invalid number":"";this.props.onChange(n),this.setState({error:t})}},{key:"render",value:function(){return B.a.createElement(B.a.Fragment,null,B.a.createElement("input",{type:"number",step:"any",value:this.props.value,onChange:this.onChange.bind(this)}),this.state.error&&B.a.createElement("div",null,this.state.error))}}])&&q(n.prototype,t),c}(B.a.Component),U=wp.element.Fragment,L=function(e){var n,t,r,o,a,c,l=e.answer,i=e.answerRange,u=e.decimalPlaces,s=e.onChangeAnswer,b=e.onChangeAnswerRange,f=e.onChangeDecimalPlaces;return React.createElement("div",null,React.createElement("h5",null,"Answer:"),React.createElement(D,{value:l,onChange:s}),React.createElement("h5",null,"Accepted Range:"),React.createElement(D,{value:i,onChange:b}),React.createElement("h5",null,"Decimal Places:"),React.createElement("input",{type:"number",step:"1",min:"0",max:"100",value:u,onChange:function(e){return f(e.target.value)}}),"0"!==i&&(r=((n=parseFloat(l))-(t=parseFloat(i))).toFixed(u),o=(n+t).toFixed(u),c=[n-(a=1/Math.pow(10,u)),n,n+a].map((function(e){return parseFloat(e).toFixed(u)})).map((function(e,n){return React.createElement("li",{key:n},e)})),React.createElement("div",null,React.createElement("h5",null,"Examples of the nearest acceptable answers:"),c.length?React.createElement(U,null,React.createElement("ul",{className:"possible-answers-list"},c),React.createElement("div",null," Minimum: ",r,", Maximum: ",o)):"No possible answers found")))};t(3);var Q=wp.i18n.__,H=wp.blocks.registerBlockType,V=wp.element.Fragment,X=(H("bulb/question-cn",{title:Q("BULB - Calculated Numeric","bu-learning-blocks"),description:Q("Add a Calculated Numeric question to your learning module."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[Q("bu-learning-block","bu-learning-blocks"),Q("BULB","bu-learning-blocks"),Q("Calculated Numeric Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answer,l=n.answerRange,i=n.decimalPlaces,u=n.feedback,s=n.fontSize,b=n.textAlignment,f=n.textColorControl,d=n.backgroundColorControl,p=e.setAttributes,m=e.clientId;t||p({id:"bulb_question_"+m.replace(/-/g,"")});var g=function(e){return function(n){p(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement("div",{className:"bulb-question-cn"},React.createElement(V,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:g("header"),body:a,onChangeBody:g("body"),singleFeedback:!0,feedback:u,onChangeFeedback:g("feedback"),textAlignment:b,textColorControl:f,backgroundColorControl:d,fontSize:s},React.createElement(L,{answer:c,answerRange:l,decimalPlaces:i,onChangeAnswer:g("answer"),onChangeAnswerRange:g("answerRange"),onChangeDecimalPlaces:g("decimalPlaces")}))))},save:function(){return null}}),wp.i18n.__),$=wp.editor.RichText,G=wp.element.Fragment;function J(e){var n=e.index,t=e.answer,r=void 0===t?"":t,a=e.feedback,c=void 0===a?"":a,l=e.correct,i=void 0!==l&&l,u=e.feedbackPerAnswer,s=e.onChangeAnswerValue,b=e.onChangeFeedback,f=e.onChangeCorrect,d=e.onRemoveAnswer,p=e.multipleCorrectAllowed?"checkbox":"radio";return React.createElement("div",{className:"bulb-editor-answer"},React.createElement("div",{className:"bulb-answer-content"},React.createElement("div",{className:"bulb-editor-answer-label"},X("Answer","bu-learning-blocks")," ",n+1),React.createElement($,{tagName:"p",placeholder:X("Answer","bu-learning-blocks"),keepPlaceholderOnFocus:!0,className:o()("answer-text"),onChange:function(e){s(e,n)},value:r}),u&&React.createElement(G,null,React.createElement("div",{className:"bulb-editor-answer-label-feedback"},X("Feedback","bu-learning-blocks")),React.createElement($,{tagName:"p",placeholder:X("Feedback","bu-learning-blocks"),keepPlaceholderOnFocus:!0,className:o()("answer-feedback"),onChange:function(e){b(e,n)},value:c})),React.createElement("strong",null,React.createElement("input",{type:p,value:"1",onChange:function(){f(n)},checked:i})," ",X("Correct Answer","bu-learning-blocks"))),React.createElement("div",{className:"bulb-answer-controls"},d&&React.createElement("button",{onClick:function(){return d(n)}},"X")))}function K(){return(K=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){Z(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ee(e){return function(e){if(Array.isArray(e))return ne(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return ne(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ne(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function te(e){var n=e.answers,t=void 0===n?[]:n,r=e.onChangeAnswers,o=e.multipleCorrectAllowed,a=void 0!==o&&o,c=e.minAnswers,l=void 0===c?1:c,i=e.maxAnswers,u=void 0===i?1:i,s=e.defaultAnswer,b=void 0===s?{answer:"",feedback:"",correct:!1}:s,f=e.feedbackPerAnswer,d=void 0===f||f,p=function(e,n){var o=ee(t);o[n]=Y(Y({},t[n]),{},{answer:e}),r(o)},m=function(e,n){var o=ee(t);o[n]=Y(Y({},t[n]),{},{feedback:e}),r(o)},g=function(e){var n=t.map((function(n,t){var r=e===t;return Y(Y({},n),{},{correct:r})}));r(n)},y=function(e){var n=t.map((function(n,t){return e===t?Y(Y({},n),{},{correct:!n.correct}):n}));n.reduce((function(e,n){return e+n.correct}),0)>0&&r(n)},h=function(){if(t.length<u){var e=[].concat(ee(t),[b]);r(e)}},v=function(e){if(t.length>l){var n=t.filter((function(n,t){return e!==t}));r(n)}};return React.createElement("div",null,React.createElement("h5",{className:"bulb-editor-section-label"},"Answers"),t.map((function(e,n){return React.createElement(J,K({key:n,index:n},e,{feedbackPerAnswer:d,onChangeAnswerValue:p,onChangeFeedback:m,onChangeCorrect:a?y:g,onRemoveAnswer:t.length>l?v:null,multipleCorrectAllowed:a}))})),function(){if(t.length<u)return React.createElement("button",{onClick:h},"Add Answer")}())}var re=wp.i18n.__,oe=wp.blocks.registerBlockType,ae=wp.element.Fragment;oe("bulb/question-ma",{title:re("BULB - Multiple Answer","bu-learning-blocks"),description:re("Add a Multiple Answer question to your learning module."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[re("bu-learning-block","bu-learning-blocks"),re("BULB","bu-learning-blocks"),re("Multiple Answer Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answers,l=n.feedback,i=n.fontSize,u=n.textAlignment,s=n.textColorControl,b=n.backgroundColorControl,f=e.setAttributes,d=e.clientId;t||f({id:"bulb_question_"+d.replace(/-/g,"")});var p=function(e){return function(n){f(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement(ae,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:p("header"),body:a,onChangeBody:p("body"),feedback:l,onChangeFeedback:p("feedback"),textAlignment:u,textColorControl:s,backgroundColorControl:b,fontSize:i},React.createElement(te,{answers:c,onChangeAnswers:p("answers"),multipleCorrectAllowed:!0,minAnswers:2,maxAnswers:6})))},save:function(){return null}});var ce=wp.i18n.__,le=wp.blocks.registerBlockType,ie=wp.element.Fragment;le("bulb/question-mc",{title:ce("BULB - Multiple Choice","bu-learning-blocks"),description:ce("Add a Multiple Choice question to your learning module."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[ce("bu-learning-block","bu-learning-blocks"),ce("BULB","bu-learning-blocks"),ce("Multiple Choice Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answers,l=n.feedback,i=n.fontSize,u=n.textAlignment,s=n.textColorControl,b=n.backgroundColorControl,f=e.setAttributes,d=e.clientId;t||f({id:"bulb_question_"+d.replace(/-/g,"")});var p=function(e){return function(n){f(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement(ie,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:p("header"),body:a,onChangeBody:p("body"),feedback:l,onChangeFeedback:p("feedback"),textAlignment:u,textColorControl:s,backgroundColorControl:b,fontSize:i},React.createElement(te,{answers:c,onChangeAnswers:p("answers"),multipleCorrectAllowed:!1,minAnswers:2,maxAnswers:6})))},save:function(){return null}});var ue=wp.i18n.__,se=wp.blocks.registerBlockType,be=wp.element.Fragment,fe=(se("bulb/question-tf",{title:ue("BULB - True/False","bu-learning-blocks"),description:ue("Add a TRUE/FALSE question to your learning module."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[ue("bu-learning-block","bu-learning-blocks"),ue("BULB","bu-learning-blocks"),ue("True False Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answers,l=n.feedback,i=n.fontSize,u=n.textAlignment,s=n.textColorControl,b=n.backgroundColorControl,f=e.setAttributes,d=e.clientId;t||f({id:"bulb_question_"+d.replace(/-/g,"")});var p=function(e){return function(n){f(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement(be,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:p("header"),body:a,onChangeBody:p("body"),feedback:l,onChangeFeedback:p("feedback"),textAlignment:u,textColorControl:s,backgroundColorControl:b,fontSize:i},React.createElement(te,{answers:c,onChangeAnswers:p("answers"),multipleCorrectAllowed:!1,feedbackPerAnswer:!1,minAnswers:2,maxAnswers:2})))},save:function(){return null}}),function(e){var n=e.answer,t=e.onChangeAnswer;return React.createElement("div",null,React.createElement("h5",null,"Answer:"),React.createElement("input",{type:"text",size:"50",value:n,onChange:function(e){return t(e.target.value)}}))}),de=wp.i18n.__,pe=wp.blocks.registerBlockType,me=wp.element.Fragment,ge=wp.editor.InspectorControls,ye=wp.components,he=ye.PanelBody,ve=ye.PanelRow,we=ye.FormToggle,ke=(pe("bulb/question-fitb",{title:de("BULB - Fill in the Blank","bu-learning-blocks"),description:de("Add a Fill in the Blank question to your learning module."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[de("bu-learning-block","bu-learning-blocks"),de("BULB","bu-learning-blocks"),de("Fill in the Blank Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answer,l=n.feedback,i=n.caseSensitive,u=n.fontSize,s=n.textAlignment,b=n.textColorControl,f=n.backgroundColorControl,d=e.setAttributes,p=e.clientId;t||d({id:"bulb_question_"+p.replace(/-/g,"")});var m=function(e){return function(n){d(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement("div",{className:"bulb-question-fitb"},React.createElement(ge,null,React.createElement(he,null,React.createElement(ve,null,React.createElement("label",{htmlFor:"bulb-fitb-case-sensitivity"},de("Case sensitivity","bu-learning-blocks")),React.createElement(we,{id:"bulb-fitb-case-sensitivity",label:de("Case sensitivity","bu-learning-blocks"),checked:i,onChange:function(e){return d({caseSensitive:!!e.target.checked})}})))),React.createElement(me,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:m("header"),body:a,onChangeBody:m("body"),feedback:l,onChangeFeedback:m("feedback"),textAlignment:s,textColorControl:b,backgroundColorControl:f,fontSize:u},React.createElement(fe,{answer:c,onChangeAnswer:m("answer")}))))},save:function(){return null}}),wp.i18n.__),Ce=wp.editor.RichText,Re=wp.element.Fragment,Ee=wp.components.SelectControl,Oe=function(e){var n=e.index,t=e.answer,r=void 0===t?"":t,o=e.feedback,a=void 0===o?"":o,c=e.correct,l=void 0===c?"":c,i=e.answerCount,u=e.feedbackPerAnswer,s=e.onChangeAnswerValue,b=e.onChangeFeedback,f=e.onChangeCorrect,d=e.onRemoveAnswer;return React.createElement("div",{className:"bulb-editor-answer"},React.createElement("div",{className:"bulb-answer-content"},React.createElement("div",{className:"bulb-editor-answer-label"},ke("Prompt","bu-learning-blocks")," ",n+1),React.createElement(Ce,{tagName:"p",placeholder:ke("Prompt","bu-learning-blocks"),keepPlaceholderOnFocus:!0,className:"answer-text",onChange:function(e){s(e,n)},value:r}),u&&React.createElement(Re,null,React.createElement("div",{className:"bulb-editor-answer-label-feedback"},ke("Answer","bu-learning-blocks")),React.createElement(Ce,{tagName:"p",placeholder:ke("Answer","bu-learning-blocks"),keepPlaceholderOnFocus:!0,className:"answer-feedback",onChange:function(e){b(e,n)},value:a})),React.createElement(Ee,{label:ke("Sequence"),value:l,onChange:function(e){return f(e,n)},options:Array.from(Array(i),(function(e,n){return{value:String.fromCharCode(65+n),label:String.fromCharCode(65+n)}}))}),React.createElement("div",{className:"bulb-answer-controls"},d&&React.createElement("button",{onClick:function(){return d(n)}},"X"))))};function Ae(){return(Ae=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function je(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?je(Object(t),!0).forEach((function(n){xe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):je(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function xe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Se(e){return function(e){if(Array.isArray(e))return Fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return Fe(e,void 0);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fe(e,void 0):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var _e=function(e){var n=e.answers,t=void 0===n?[]:n,r=e.onChangeAnswers,o=e.minAnswers,a=void 0===o?1:o,c=e.maxAnswers,l=void 0===c?12:c,i=e.feedbackPerAnswer,u=void 0===i||i,s=function(e,n){var o=Se(t);o[n]=Pe(Pe({},t[n]),{},{answer:e}),r(o)},b=function(e,n){var o=Se(t);o[n]=Pe(Pe({},t[n]),{},{feedback:e}),r(o)},f=function(e,n){var o=t[n].correct,a=t.map((function(n){return n.correct===e&&(n.correct=o),n}));a[n]=Pe(Pe({},t[n]),{},{correct:e}),r(a)},d=function(){if(t.length<l){var e=[].concat(Se(t),[{answer:"",feedback:"",correct:String.fromCharCode(65+t.length)}]);r(e)}},p=function(e){if(t.length>a){var n=t.filter((function(n,t){return e!==t}));r(n)}};return React.createElement("div",null,React.createElement("h5",{className:"bulb-editor-section-label"},"Pairs"),t.map((function(e,n){return React.createElement(Oe,Ae({key:n,index:n},e,{answerCount:t.length,feedbackPerAnswer:u,onChangeAnswerValue:s,onChangeFeedback:b,onChangeCorrect:f,onRemoveAnswer:t.length>a?p:null}))})),function(){if(t.length<l)return React.createElement("button",{onClick:d},"Add Pair")}())},Be=wp.i18n.__,Ne=wp.blocks.registerBlockType,qe=wp.element.Fragment;Ne("bulb/question-mat",{title:Be("BULB - Matching","bu-learning-blocks"),description:Be("Add a Matching question."),icon:"welcome-learn-more",category:"bu-learning-blocks",keywords:[Be("bu-learning-block","bu-learning-blocks"),Be("BULB","bu-learning-blocks"),Be("Matching Question","bu-learning-blocks")],edit:function(e){var n=e.attributes,t=n.id,r=n.type,o=n.header,a=n.body,c=n.answers,l=n.feedback,i=n.fontSize,u=n.textAlignment,s=n.textColorControl,b=n.backgroundColorControl,f=e.setAttributes,d=e.clientId;t||f({id:"bulb_question_".concat(d.replace(/-/g,""))});var p=function(e){return function(n){f(function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},e,n))}};return React.createElement(qe,null,React.createElement(F,e),React.createElement(w,{classes:["bulb-question-".concat(r)],header:o,onChangeHeader:p("header"),body:a,onChangeBody:p("body"),feedback:l,onChangeFeedback:p("feedback"),textAlignment:u,textColorControl:s,backgroundColorControl:b,fontSize:i},React.createElement(_e,{answers:c,onChangeAnswers:p("answers"),minAnswers:2,maxAnswers:12})))},save:function(){return null}})}]);