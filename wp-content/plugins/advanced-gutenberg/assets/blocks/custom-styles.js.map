{"version":3,"file":"custom-styles.js","mappings":"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","sources":["webpack://advanced-gutenberg/./assets/blocks/customstyles/custom-styles.jsx"],"sourcesContent":["(function ( wpI18n, wpHooks, wpBlocks, wpBlockEditor, wpComponents, wpCompose ) {\n    wpBlockEditor = wp.blockEditor || wp.editor;\n    const { addFilter } = wpHooks;\n    const { __ } = wpI18n;\n    const { hasBlockSupport } = wpBlocks;\n    const { InspectorControls } = wpBlockEditor;\n    const { SelectControl } = wpComponents;\n    const { createHigherOrderComponent } = wpCompose;\n\n    const SUPPORTED_BLOCKS = [\n        'core/paragraph',\n        'core/heading',\n        'core/list',\n        'core/code',\n        'core/preformatted',\n        'core/table',\n        'core/columns',\n        'core/column',\n        'core/group',\n        'core/image',\n    ];\n\n\n    // Register custom styles to blocks attributes\n    addFilter( 'blocks.registerBlockType', 'advgb/registerCustomStyleClass', function ( settings ) {\n        if (SUPPORTED_BLOCKS.includes( settings.name )) {\n            settings.attributes = Object.assign( settings.attributes, {\n                customStyle: {\n                    type: 'string'\n                },\n                identifyColor: {\n                    type: 'string'\n                }\n            } );\n        }\n\n        return settings;\n    } );\n\n    // Add option to return to default style\n    if (typeof advgbBlocks.customStyles !== 'undefined' && advgbBlocks.customStyles) {\n        advgbBlocks.customStyles.unshift( {\n            id: 0,\n            label: __( 'Select a block style', 'advanced-gutenberg' ),\n            value: '',\n            identifyColor: ''\n        } );\n    }\n\n    // Add option to select custom styles for supported blocks\n    addFilter( 'editor.BlockEdit', 'advgb/customStyles', function ( BlockEdit ) {\n        return ( props ) => {\n            return ( [\n                <BlockEdit key=\"block-edit-custom-class-name\" {...props} />,\n                props.isSelected && SUPPORTED_BLOCKS.includes( props.name ) &&\n                <InspectorControls key=\"advgb-custom-controls\">\n                    <div className=\"advgb-custom-styles-wrapper\">\n                        <SelectControl\n                            label={ [\n                                __( 'Block styles', 'advanced-gutenberg' ),\n                                <span className={'components-panel__color-area'}\n                                      key=\"customstyle-identify\"\n                                      style={ {\n                                          background: props.attributes.identifyColor,\n                                          verticalAlign: 'text-bottom',\n                                          borderRadius: '50%',\n                                          border: 'none',\n                                          width: '16px',\n                                          height: '16px',\n                                          display: 'inline-block',\n                                          marginLeft: '10px',\n                                      } } />\n                            ] }\n                            help={__( 'This option let you add custom style for the current block', 'advanced-gutenberg' )}\n                            value={props.attributes.customStyle}\n                            options={advgbBlocks.customStyles.map( ( cstyle, index ) => {\n                                if (cstyle.title) advgbBlocks.customStyles[ index ].label = cstyle.title;\n                                if (cstyle.name) advgbBlocks.customStyles[ index ].value = cstyle.name;\n\n                                return cstyle;\n                            } )}\n                            onChange={( cstyle ) => {\n                                const { identifyColor } = advgbBlocks.customStyles.filter( ( style ) => style.value === cstyle )[0];\n                                props.setAttributes( {\n                                    customStyle: cstyle,\n                                    identifyColor: identifyColor,\n                                    backgroundColor: undefined,\n                                    textColor: undefined,\n                                    fontSize: undefined,\n                                } );\n                            }}\n                        />\n                    </div>\n                </InspectorControls>\n            ] )\n        }\n    } );\n\n    // Apply custom styles on front-end\n    addFilter( 'blocks.getSaveContent.extraProps', 'advgb/loadFrontendCustomStyles', function ( extraProps, blockType, attributes ) {\n        if (hasBlockSupport( blockType, 'customStyle', true ) && attributes.customStyle) {\n            if (typeof extraProps.className === 'undefined') {\n                extraProps.className = attributes.customStyle;\n            } else {\n                extraProps.className += ' ' + attributes.customStyle;\n                extraProps.className = extraProps.className.trim();\n            }\n        }\n\n        return extraProps;\n    } );\n\n\n    const withStyleClasses = createHigherOrderComponent( ( BlockListBlock ) => {\n        return ( props ) => {\n            if ( ! SUPPORTED_BLOCKS.includes( props.name ) || !hasBlockSupport( props.name, 'customStyle', true ) ) {\n                return <BlockListBlock { ...props } />\n            }\n\n            const {\n                customStyle,\n            } = props.attributes;\n\n            return <BlockListBlock { ...props } className={ `${ customStyle }` } />;\n        };\n    }, 'withStyleClasses' );\n\n    // Apply custom styles on back-end\n    wp.hooks.addFilter( 'editor.BlockListBlock', 'advgb/loadBackendCustomStyles', withStyleClasses );\n\n})( wp.i18n, wp.hooks, wp.blocks, wp.blockEditor, wp.components, wp.compose );\n"],"names":["wpI18n","wpHooks","wpBlocks","wpBlockEditor","wpComponents","wpCompose","wp","blockEditor","editor","addFilter","__","hasBlockSupport","InspectorControls","SelectControl","createHigherOrderComponent","SUPPORTED_BLOCKS","settings","includes","name","attributes","_extends","customStyle","type","identifyColor","advgbBlocks","customStyles","unshift","id","label","value","BlockEdit","props","React","createElement","key","isSelected","className","style","background","verticalAlign","borderRadius","border","width","height","display","marginLeft","help","options","map","cstyle","index","title","onChange","filter","setAttributes","backgroundColor","undefined","textColor","fontSize","extraProps","blockType","trim","withStyleClasses","BlockListBlock","concat","hooks","i18n","blocks","components","compose"],"sourceRoot":""}