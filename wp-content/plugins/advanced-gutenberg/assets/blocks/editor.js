(()=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(e)}"undefined"!=typeof wp&&void 0!==wp.domReady&&wp.domReady((function(){if("undefined"!==advgb_blocks_vars.blocks.active_blocks&&0!==advgb_blocks_vars.blocks.active_blocks.length){var e=null;void 0!==window._wpLoadBlockEditor&&(e=window._wpLoadBlockEditor),null!==e&&e.then((function(){if(!0===advgb_blocks_vars.original_settings.allowedBlockTypes){var e=[],c=[],n=!1,t=wp.blocks.getBlockTypes(),i={active_blocks:Object.values(advgb_blocks_vars.blocks.active_blocks),inactive_blocks:Object.values(advgb_blocks_vars.blocks.inactive_blocks)};for(var l in t){var r="",s={name:t[l].name,icon:t[l].icon.src,title:t[l].title,category:t[l].category,parent:t[l].parent},a=t[l].icon.src?t[l].icon.src:t[l].icon;void 0!==t[l].icon.foreground&&(s.iconColor=t[l].icon.foreground),"function"==typeof a?void 0!==a.prototype?(s.icon=wp.element.renderToString(wp.element.createElement(a)),s.icon=s.icon.replace(/stopcolor/g,"stop-color"),s.icon=s.icon.replace(/stopopacity/g,"stop-opacity")):(r=wp.element.createElement(wp.components.Dashicon,{icon:"block-default"}),s.icon=wp.element.renderToString(r)):"object"===o(a)?(s.icon=wp.element.renderToString(a),s.icon=s.icon.replace(/stopcolor/g,"stop-color"),s.icon=s.icon.replace(/stopopacity/g,"stop-opacity")):"string"==typeof a&&(r=wp.element.createElement(wp.components.Dashicon,{icon:a}),s.icon=wp.element.renderToString(r)),e.push(s),i.active_blocks.indexOf(t[l].name)>=0?c.push(t[l].name):i.inactive_blocks.indexOf(t[l].name)>=0||(c.push(t[l].name),n=!0)}if(n){void 0!==console&&void 0!==console.error&&console.log("Reloading editor by PublishPress Blocks plugin"),setTimeout((function(){wp.data.dispatch("core/editor").updateEditorSettings({allowedBlockTypes:c})}),3e3);var p=wp.blocks.getCategories();try{jQuery.ajax({url:advgb_blocks_vars.ajaxurl,method:"POST",data:{action:"advgb_update_blocks_list",blocksList:JSON.stringify(e),categoriesList:JSON.stringify(p),nonce:advgb_blocks_vars.nonce},success:function(o){}})}catch(o){}}}}))}}))})();
//# sourceMappingURL=editor.js.map