{"version":3,"file":"block-usage.js","mappings":"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","sources":["webpack://advanced-gutenberg/./assets/blocks/block-usage/block-usage.jsx"],"sourcesContent":["(function (wpI18n, wpHooks, wpBlocks, wpBlockEditor, wpComponents, wpCompose, wpElement) {\r\n    const { render, useState, useEffect, useRef, useMemo } = wpElement;\r\n    const { PanelBody, Button, Card, Spinner, Flex, FlexItem, ProgressBar, Notice, FormTokenField } = wpComponents;\r\n    const { __, sprintf } = wpI18n;\r\n\r\n    // IndexedDB setup\r\n    const DB_NAME = 'publishpress_blocks';\r\n    const STORE_NAME = 'block_usage_data';\r\n    const DB_VERSION = 1;\r\n    const EXCLUDED_BLOCKS = ['advgb/accordion'];\r\n\r\n    const openDatabase = () => {\r\n        return new Promise((resolve, reject) => {\r\n            const request = indexedDB.open(DB_NAME, DB_VERSION);\r\n\r\n            request.onerror = (event) => {\r\n                console.error('Database error:', event.target.error);\r\n                reject(event.target.error);\r\n            };\r\n\r\n            request.onsuccess = (event) => {\r\n                resolve(event.target.result);\r\n            };\r\n\r\n            request.onupgradeneeded = (event) => {\r\n                const db = event.target.result;\r\n                if (!db.objectStoreNames.contains(STORE_NAME)) {\r\n                    db.createObjectStore(STORE_NAME, { keyPath: 'key' });\r\n                }\r\n            };\r\n        });\r\n    };\r\n\r\n    const getFromCache = async (key) => {\r\n        try {\r\n            const db = await openDatabase();\r\n            return new Promise((resolve, reject) => {\r\n                const transaction = db.transaction([STORE_NAME], 'readonly');\r\n                const store = transaction.objectStore(STORE_NAME);\r\n                const request = store.get(key);\r\n\r\n                request.onerror = () => reject('Error reading from cache');\r\n                request.onsuccess = () => resolve(request.result ? request.result.value : null);\r\n            });\r\n        } catch (error) {\r\n            console.error('Cache error:', error);\r\n            return null;\r\n        }\r\n    };\r\n\r\n    const saveToCache = async (key, value) => {\r\n        try {\r\n            const db = await openDatabase();\r\n            return new Promise((resolve, reject) => {\r\n                const transaction = db.transaction([STORE_NAME], 'readwrite');\r\n                const store = transaction.objectStore(STORE_NAME);\r\n                const request = store.put({ key, value });\r\n\r\n                request.onerror = () => reject('Error saving to cache');\r\n                request.onsuccess = () => resolve();\r\n            });\r\n        } catch (error) {\r\n            console.error('Cache error:', error);\r\n        }\r\n    };\r\n\r\n    const clearCache = async () => {\r\n        try {\r\n            const db = await openDatabase();\r\n            return new Promise((resolve, reject) => {\r\n                const transaction = db.transaction([STORE_NAME], 'readwrite');\r\n                const store = transaction.objectStore(STORE_NAME);\r\n                const request = store.clear();\r\n\r\n                request.onerror = () => reject('Error clearing cache');\r\n                request.onsuccess = () => resolve();\r\n            });\r\n        } catch (error) {\r\n            console.error('Cache error:', error);\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const getBlocks = () => {\r\n        if (typeof wp.blocks === 'undefined') {\r\n            return { blocks: [], categories: [] };\r\n        }\r\n\r\n        // Register core blocks if available\r\n        if (wp.blockLibrary && typeof wp.blockLibrary.registerCoreBlocks === 'function') {\r\n            wp.blockLibrary.registerCoreBlocks();\r\n        }\r\n\r\n        let allBlocks = wp.blocks.getBlockTypes();\r\n        let allCategories = wp.blocks.getCategories();\r\n        let listBlocks = [];\r\n\r\n        // Get the category titles from localized data if available\r\n        const localizedCategories = (window.advgb_block_usage_data || {}).blockCategories || [];\r\n        const categoryTitleMap = localizedCategories.reduce((map, cat) => {\r\n            map[cat.slug] = cat.title;\r\n            return map;\r\n        }, {});\r\n\r\n        // Get blocks saved in advgb_block_usage_data.saved_blocks option\r\n        const { saved_blocks = [] } = window.advgb_block_usage_data || {};\r\n        if (saved_blocks.length > 0) {\r\n            const diff_blocks = saved_blocks.filter(\r\n                blocksA => !allBlocks.some(blocksB => blocksA.name === blocksB.name)\r\n            );\r\n            if (diff_blocks.length > 0) {\r\n                allBlocks = [...allBlocks, ...diff_blocks];\r\n            }\r\n        }\r\n\r\n        // Force activate blocks (like widget blocks)\r\n        const force_activate_blocks = [\r\n            {\r\n                'name': 'core/widget-group',\r\n                'icon': 'block-default',\r\n                'title': 'Widget Group',\r\n                'category': 'widgets'\r\n            },\r\n        ];\r\n        allBlocks = [...allBlocks, ...force_activate_blocks];\r\n\r\n        // Additional blocks to include\r\n        const include_blocks = [\r\n            {\r\n                'name': 'core/legacy-widget',\r\n                'icon': 'block-default',\r\n                'title': 'Legacy Widget',\r\n                'category': 'widgets'\r\n            }\r\n        ];\r\n        allBlocks = [...allBlocks, ...include_blocks];\r\n\r\n        // Process all blocks to standardize the format\r\n        allBlocks.forEach(function (block) {\r\n            // Skip excluded blocks\r\n            if (EXCLUDED_BLOCKS.includes(block.name)) {\r\n                return;\r\n            }\r\n            var blockItemIcon = '';\r\n            const blockItem = {\r\n                name: block.name,\r\n                icon: block.icon.src || block.icon,\r\n                title: block.title,\r\n                category: block.category || 'common',\r\n                parent: block.parent,\r\n                description: block.description || ''\r\n            };\r\n\r\n            // Use the localized category title if available\r\n            if (categoryTitleMap[blockItem.category]) {\r\n                blockItem.categoryTitle = categoryTitleMap[blockItem.category];\r\n            }\r\n\r\n            const savedIcon = !!block.icon.src ? block.icon.src : block.icon;\r\n\r\n            if (block.icon.foreground !== undefined) blockItem.iconColor = block.icon.foreground;\r\n\r\n            if (typeof savedIcon === 'function') {\r\n                if (typeof savedIcon.prototype !== 'undefined') {\r\n                    blockItem.icon = wp.element.renderToString(wp.element.createElement(savedIcon));\r\n                    blockItem.icon = blockItem.icon.replace(/stopcolor/g, 'stop-color');\r\n                    blockItem.icon = blockItem.icon.replace(/stopopacity/g, 'stop-opacity');\r\n                } else {\r\n                    blockItemIcon = wp.element.createElement(wp.components.Dashicon, { icon: 'block-default' });\r\n                    blockItem.icon = wp.element.renderToString(blockItemIcon);\r\n                }\r\n            } else if (typeof savedIcon === 'object') {\r\n                blockItem.icon = wp.element.renderToString(savedIcon);\r\n                blockItem.icon = blockItem.icon.replace(/stopcolor/g, 'stop-color');\r\n                blockItem.icon = blockItem.icon.replace(/stopopacity/g, 'stop-opacity');\r\n            } else if (\r\n                typeof savedIcon === 'string'\r\n                && !savedIcon.includes('<span') // Merged blocks icons from 'advgb_blocks_list' are stored as html\r\n                && !savedIcon.includes('<svg') // Merged blocks icons from 'advgb_blocks_list' are stored as html\r\n            ) {\r\n                blockItemIcon = wp.element.createElement(wp.components.Dashicon, { icon: savedIcon });\r\n                blockItem.icon = wp.element.renderToString(blockItemIcon);\r\n            } else {\r\n                blockItem.icon = savedIcon; // Pure html for merged blocks icons from 'advgb_blocks_list'\r\n            }\r\n\r\n            listBlocks.push(blockItem);\r\n        });\r\n\r\n        // Remove duplicated blocks by block name\r\n        const uniqueNames = [];\r\n        let i = listBlocks.length;\r\n        while (i--) {\r\n            const name = listBlocks[i].name;\r\n            if (uniqueNames.includes(name)) {\r\n                listBlocks.splice(i, 1);\r\n            } else {\r\n                uniqueNames.push(name);\r\n            }\r\n        }\r\n\r\n        // Sort categories to show \"advgb-category\" first\r\n        allCategories.sort((a, b) => {\r\n            if (a.slug === 'advgb-category') return -1;\r\n            if (b.slug === 'advgb-category') return 1;\r\n            return 0;\r\n        });\r\n\r\n        // Add any missing categories from localized data\r\n        localizedCategories.forEach(localizedCat => {\r\n            if (!allCategories.some(cat => cat.slug === localizedCat.slug)) {\r\n                allCategories.push({\r\n                    slug: localizedCat.slug,\r\n                    title: localizedCat.title\r\n                });\r\n            }\r\n        });\r\n\r\n        return {\r\n            blocks: listBlocks,\r\n            categories: allCategories\r\n        };\r\n    };\r\n\r\n    const WelcomeIntro = ({ onScanClick, loadingAll, data }) => {\r\n        const totalBlocks = Object.keys(data.usage || {}).length;\r\n        const totalPosts = data.posts?.length || 0;\r\n        const lastScanDate = data.lastScanDate;\r\n\r\n        return (\r\n            <div className=\"pp-blocks-usage-welcome-intro\">\r\n                <div className=\"pp-blocks-usage-welcome-card\">\r\n                    <div className=\"pp-blocks-usage-welcome-icon\">\r\n                        <span className=\"dashicons dashicons-block-default\"></span>\r\n                    </div>\r\n\r\n                    <h2>{__('Welcome to Block Usage', 'advanced-gutenberg')}</h2>\r\n                    <p>{__('This screen allows you to search for and find any usage of blocks on your site.', 'advanced-gutenberg')}</p>\r\n\r\n                    {lastScanDate && (\r\n                        <div className=\"pp-blocks-usage-stats-overview\">\r\n                            <div className=\"pp-blocks-usage-stat-card\">\r\n                                <span className=\"pp-blocks-usage-stat-number\">{totalBlocks}</span>\r\n                                <span className=\"pp-blocks-usage-stat-label\">{__('Blocks Found', 'advanced-gutenberg')}</span>\r\n                            </div>\r\n                            <div className=\"pp-blocks-usage-stat-card\">\r\n                                <span className=\"pp-blocks-usage-stat-number\">{totalPosts}</span>\r\n                                <span className=\"pp-blocks-usage-stat-label\">{__('Posts Scanned', 'advanced-gutenberg')}</span>\r\n                            </div>\r\n                            <div className=\"pp-blocks-usage-stat-card\">\r\n                                <span className=\"pp-blocks-usage-stat-label\">{__('Last Scan', 'advanced-gutenberg')}</span>\r\n                                <span className=\"pp-blocks-usage-stat-number\" style={{ fontSize: '0.9em' }}>\r\n                                    {new Date(lastScanDate).toLocaleDateString()}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <div className=\"pp-blocks-usage-features-grid\">\r\n                        <div className=\"pp-blocks-usage-feature-card\">\r\n                            <div className=\"pp-blocks-usage-feature-icon\">\r\n                                <span className=\"dashicons dashicons-search\"></span>\r\n                            </div>\r\n                            <h3>{__('Scan Content', 'advanced-gutenberg')}</h3>\r\n                            <p>{__('Find all blocks used across your posts, pages, and custom post types', 'advanced-gutenberg')}</p>\r\n                        </div>\r\n\r\n                        <div className=\"pp-blocks-usage-feature-card\">\r\n                            <div className=\"pp-blocks-usage-feature-icon\">\r\n                                <span className=\"dashicons dashicons-analytics\"></span>\r\n                            </div>\r\n                            <h3>{__('Usage Analytics', 'advanced-gutenberg')}</h3>\r\n                            <p>{__('See detailed statistics about block usage and locations', 'advanced-gutenberg')}</p>\r\n                        </div>\r\n\r\n                        <div className=\"pp-blocks-usage-feature-card\">\r\n                            <div className=\"pp-blocks-usage-feature-icon\">\r\n                                <span className=\"dashicons dashicons-admin-links\"></span>\r\n                            </div>\r\n                            <h3>{__('Quick Navigation', 'advanced-gutenberg')}</h3>\r\n                            <p>{__('Jump directly to posts containing specific blocks for editing', 'advanced-gutenberg')}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"pp-blocks-usage-welcome-scan-button\">\r\n                        <button\r\n                            class=\"button button-secondary\"\r\n                            onClick={onScanClick}\r\n                            disabled={loadingAll}\r\n                        >\r\n                            {loadingAll ? <Spinner /> : __('Scan Block Usage', 'advanced-gutenberg')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const Sidebar = React.memo(({ selected, data, onClose, canEditPosts }) => {\r\n        const [expandedPost, setExpandedPost] = useState(null);\r\n        const { usage = {}, posts = [] } = data;\r\n\r\n        const blockData = usage[selected?.name] || { posts: {}, total: 0 };\r\n        const postIds = Object.keys(blockData.posts);\r\n\r\n        // Get posts that contain this block\r\n        const blockPosts = useMemo(() => {\r\n            return posts.filter(post => postIds.includes(post.post_id.toString()));\r\n        }, [posts, postIds]);\r\n\r\n        // Group posts by title (for multiple instances in same post)\r\n        const groupedPosts = useMemo(() => {\r\n            const groups = {};\r\n\r\n            blockPosts.forEach(post => {\r\n                const count = blockData.posts[post.post_id]?.count || 0;\r\n                const scanned = blockData.posts[post.post_id]?.scanned || '';\r\n\r\n                const key = `${post.post_title}-${post.post_id}`;\r\n\r\n                if (!groups[key]) {\r\n                    groups[key] = {\r\n                        ...post,\r\n                        totalCount: 0,\r\n                        scanned\r\n                    };\r\n                }\r\n\r\n                groups[key].totalCount += count;\r\n            });\r\n\r\n            return Object.values(groups);\r\n        }, [blockPosts, blockData]);\r\n\r\n        const groupBlocksByName = (blocks) => {\r\n            const grouped = {};\r\n\r\n            blocks.forEach(block => {\r\n                if (!block.name) return;\r\n\r\n                const key = block.name;\r\n                if (!grouped[key]) {\r\n                    grouped[key] = {\r\n                        ...block,\r\n                        count: 0,\r\n                        innerBlocks: []\r\n                    };\r\n                }\r\n                grouped[key].count += 1;\r\n\r\n                if (block.innerBlocks && block.innerBlocks.length > 0) {\r\n                    grouped[key].innerBlocks.push(...block.innerBlocks);\r\n                }\r\n            });\r\n\r\n            return Object.values(grouped);\r\n        };\r\n\r\n        const renderBlockItem = (block, depth = 0) => {\r\n            if (!block.name) return null;\r\n\r\n            const groupedInnerBlocks = block.innerBlocks && block.innerBlocks.length > 0\r\n                ? groupBlocksByName(block.innerBlocks)\r\n                : [];\r\n\r\n            return (\r\n                <div\r\n                    key={block.clientId || `${block.name}-${depth}-${Math.random().toString(36).substr(2, 9)}`}\r\n                    className=\"pp-blocks-usage-post-block-item\"\r\n                    style={{ marginLeft: `${depth * 15}px` }}\r\n                >\r\n                    <div className=\"pp-blocks-usage-block-name\">\r\n                        {block.icon && (\r\n                            <span className=\"block-icon\" style={block.iconColor ? { color: block.iconColor } : {}}>\r\n                                {typeof block.icon === 'string' && !block.icon.includes('<') ? (\r\n                                    <span className={`dashicons dashicons-${block.icon}`}></span>\r\n                                ) : (\r\n                                    <span dangerouslySetInnerHTML={{ __html: block.icon }} />\r\n                                )}\r\n                            </span>\r\n                        )}\r\n                        {block.name}\r\n                        {block.count > 1 && (\r\n                            <span className=\"pp-blocks-usage-block-count\">Ã—{block.count}</span>\r\n                        )}\r\n                    </div>\r\n                    {groupedInnerBlocks.map(innerBlock => renderBlockItem(innerBlock, depth + 1))}\r\n                </div>\r\n            );\r\n        };\r\n\r\n        return (\r\n            <div className=\"pp-blocks-usage-sidebar\" ref={useRef(null)}>\r\n                <div className=\"pp-blocks-usage-sidebar-header\">\r\n                    <h2>\r\n                        <div className=\"pp-blocks-usage-tile-main\">\r\n                            <span>{selected.title}</span>\r\n                        </div>\r\n                        <span className=\"pp-blocks-usage-panel-subtitle\">\r\n                            {groupedPosts.length} {__('locations', 'advanced-gutenberg')} | {blockData.total} {__('instances', 'advanced-gutenberg')}\r\n                        </span>\r\n                    </h2>\r\n                </div>\r\n                <div className=\"pp-blocks-usage-sidebar-content\">\r\n                    <div className=\"pp-blocks-usage-block-meta\">\r\n                        <p><strong>{__('Name:', 'advanced-gutenberg')}</strong> {selected.title}</p>\r\n                        <p><strong>{__('Description:', 'advanced-gutenberg')}</strong> {selected.description}</p>\r\n                        <p><strong>{__('Category:', 'advanced-gutenberg')}</strong> {selected.category}</p>\r\n                    </div>\r\n\r\n                    {groupedPosts.length > 0 ? (\r\n                        <>\r\n                            <div className=\"pp-blocks-usage-usage-stats\">\r\n                                <span><strong>{__('Locations:', 'advanced-gutenberg')}</strong> {groupedPosts.length}</span>\r\n                                <span><strong>{__('Total instances:', 'advanced-gutenberg')}</strong> {blockData.total}</span>\r\n                            </div>\r\n\r\n                            <div className=\"pp-blocks-usage-post-list\">\r\n                                {groupedPosts.map((post) => {\r\n                                    const isExpanded = expandedPost === post.post_id;\r\n                                    const postTypeLabel = post.post_type;\r\n\r\n                                    return (\r\n                                        <div key={post.post_id} className={`pp-blocks-usage-post-item ${isExpanded ? 'expanded' : ''}`}>\r\n                                            <div\r\n                                                className=\"pp-blocks-usage-post-header\"\r\n                                                onClick={() => setExpandedPost(isExpanded ? null : post.post_id)}\r\n                                            >\r\n                                                <div className=\"pp-blocks-usage-post-title\">\r\n                                                    {post.post_title}\r\n                                                </div>\r\n                                                <div className=\"pp-blocks-usage-post-meta\">\r\n                                                    <span className=\"pp-blocks-usage-post-type\">\r\n                                                        {postTypeLabel}\r\n                                                    </span>\r\n                                                </div>\r\n                                                <Button\r\n                                                    size=\"small\"\r\n                                                    icon={isExpanded ? 'arrow-up-alt2' : 'arrow-down-alt2'}\r\n                                                    className=\"pp-blocks-usage-expand-button\"\r\n                                                />\r\n                                            </div>\r\n\r\n                                            {isExpanded && (\r\n                                                <div className=\"pp-blocks-usage-post-content\">\r\n                                                    <div className=\"pp-blocks-usage-post-actions\">\r\n                                                        {post.edit_link && canEditPosts && (\r\n                                                            <Button\r\n                                                                variant=\"secondary\"\r\n                                                                isSmall\r\n                                                                href={post.edit_link}\r\n                                                                target=\"_blank\"\r\n                                                            >\r\n                                                                {__('Edit Post', 'advanced-gutenberg')}\r\n                                                            </Button>\r\n                                                        )}\r\n                                                        <Button\r\n                                                            variant=\"secondary\"\r\n                                                            size=\"small\"\r\n                                                            href={post.view_link}\r\n                                                            target=\"_blank\"\r\n                                                        >\r\n                                                            {__('View Post', 'advanced-gutenberg')}\r\n                                                        </Button>\r\n                                                    </div>\r\n                                                    <div className=\"pp-blocks-usage-post-blocks\">\r\n                                                        <h4>{__('Blocks in this post:', 'advanced-gutenberg')}</h4>\r\n                                                        {post.blocks?.length > 0 ? (\r\n                                                            groupBlocksByName(post.blocks).map(block => renderBlockItem(block))\r\n                                                        ) : (\r\n                                                            <p>{__('No blocks found in this post.', 'advanced-gutenberg')}</p>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </>\r\n                    ) : (\r\n                        <div className=\"pp-blocks-usage-no-results\">\r\n                            {data.lastScanDate ? (\r\n                                <>\r\n                                    <p><em>{__('This block was not found in any posts.', 'advanced-gutenberg')}</em></p>\r\n                                    <p>{__('Last scan:', 'advanced-gutenberg')} {new Date(data.lastScanDate).toLocaleString()}</p>\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    <p><em>{__('No scan history available for this block.', 'advanced-gutenberg')}</em></p>\r\n                                    <p>{__('Click the Scan button to check for usage.', 'advanced-gutenberg')}</p>\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    });\r\n\r\n    const App = () => {\r\n        const {\r\n            ajaxUrl = '',\r\n            nonce = '',\r\n            initialData,\r\n            currentUser\r\n        } = window.advgb_block_usage_data || {};\r\n\r\n        const [blocksData, setBlocksData] = useState(() => getBlocks());\r\n        const [data, setData] = useState(initialData);\r\n        const [loadingAll, setLoadingAll] = useState(false);\r\n        const [loadingClearAll, setLoadingClearAll] = useState(false);\r\n        const [selected, setSelected] = useState(null);\r\n        const [showEmptyBlocks, setShowEmptyBlocks] = useState(false);\r\n        const [selectedPostTypes, setSelectedPostTypes] = useState(['post', 'page']);\r\n        const [scanProgress, setScanProgress] = useState({\r\n            current: 0,\r\n            total: 0,\r\n            status: '',\r\n            completed: false\r\n        });\r\n        const [dbError, setDbError] = useState(null);\r\n        const [initialLoadComplete, setInitialLoadComplete] = useState(false);\r\n\r\n        // Enable header scan button when component mounts\r\n        useEffect(() => {\r\n            if (initialLoadComplete) {\r\n                const headerButton = document.getElementById('header-scan-button');\r\n                if (headerButton) {\r\n                    headerButton.disabled = false;\r\n                    headerButton.style.opacity = '1';\r\n                    headerButton.style.cursor = 'pointer';\r\n                    headerButton.addEventListener('click', (e) => {\r\n                        e.preventDefault();\r\n                        scanAll();\r\n                    });\r\n                }\r\n            }\r\n        }, [initialLoadComplete]);\r\n\r\n        // Load data from IndexedDB on initial render\r\n        useEffect(() => {\r\n            const loadData = async () => {\r\n                try {\r\n                    const cachedData = await getFromCache('block_usage_data');\r\n                    const cachedSettings = await getFromCache('block_usage_settings');\r\n\r\n                    if (cachedData) {\r\n                        setData(cachedData);\r\n                    }\r\n\r\n                    if (cachedSettings) {\r\n                        setShowEmptyBlocks(cachedSettings.showEmptyBlocks !== false);\r\n\r\n                        if (cachedSettings.lastSelectedBlock) {\r\n                            const lastSelected = blocksData.blocks.find(b => b.name === cachedSettings.lastSelectedBlock);\r\n                            if (lastSelected) {\r\n                                setSelected(lastSelected);\r\n                            }\r\n                        }\r\n\r\n                        if (cachedSettings.selectedPostTypes) {\r\n                            setSelectedPostTypes(cachedSettings.selectedPostTypes);\r\n                        }\r\n                    }\r\n                    setInitialLoadComplete(true);\r\n                } catch (error) {\r\n                    console.error('Failed to load data from IndexedDB:', error);\r\n                    setDbError(__('Failed to load data from local storage. Please refresh the page.', 'advanced-gutenberg'));\r\n                    setInitialLoadComplete(true);\r\n                }\r\n            };\r\n\r\n            loadData();\r\n        }, [blocksData.blocks]);\r\n\r\n        const postAjax = (action, data = {}) => {\r\n            const body = new URLSearchParams({ action, nonce, ...data });\r\n            return fetch(ajaxUrl, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/x-www-form-urlencoded' },\r\n                body,\r\n            }).then(r => r.json());\r\n        };\r\n\r\n        const handleToggleChange = async (value) => {\r\n            setShowEmptyBlocks(value);\r\n            try {\r\n                await saveToCache('block_usage_settings', {\r\n                    showEmptyBlocks: value,\r\n                    lastSelectedBlock: selected?.name || '',\r\n                    selectedPostTypes: selectedPostTypes\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to save showEmptyBlocks setting:', error);\r\n            }\r\n        };\r\n\r\n        const handlePostTypeChange = async (newPostTypes) => {\r\n            if (!window.advgb_block_usage_data.isProActive) {\r\n                return;\r\n            }\r\n\r\n            setSelectedPostTypes(newPostTypes);\r\n            try {\r\n                await saveToCache('block_usage_settings', {\r\n                    showEmptyBlocks,\r\n                    lastSelectedBlock: selected?.name || '',\r\n                    selectedPostTypes: newPostTypes\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to save post types:', error);\r\n            }\r\n        };\r\n\r\n        const categories = useMemo(() => {\r\n            const cats = {};\r\n\r\n            // First create the advgb-category if it exists\r\n            const advgbCategory = blocksData.categories.find(cat => cat.slug === 'advgb-category');\r\n            if (advgbCategory) {\r\n                cats[advgbCategory.slug] = {\r\n                    title: advgbCategory.title,\r\n                    blocks: []\r\n                };\r\n            }\r\n\r\n            // Then add all other categories\r\n            blocksData.categories.forEach(cat => {\r\n                if (cat.slug !== 'advgb-category') {\r\n                    cats[cat.slug] = {\r\n                        title: cat.title,\r\n                        blocks: []\r\n                    };\r\n                }\r\n            });\r\n\r\n            // Assign blocks to categories\r\n            blocksData.blocks.forEach(block => {\r\n                const catSlug = block.category || 'common';\r\n                if (!cats[catSlug]) {\r\n                    cats[catSlug] = {\r\n                        title: block.categoryTitle || catSlug,\r\n                        blocks: []\r\n                    };\r\n                }\r\n                cats[catSlug].blocks.push(block);\r\n            });\r\n\r\n            return cats;\r\n        }, [blocksData.categories, blocksData.blocks]);\r\n\r\n        const filteredCategories = useMemo(() => {\r\n            if (showEmptyBlocks) return categories;\r\n\r\n            const filtered = {};\r\n            Object.entries(categories).forEach(([slug, category]) => {\r\n                const filteredBlocks = category.blocks.filter(bt => {\r\n                    return data.usage[bt.name] && Object.keys(data.usage[bt.name].posts).length > 0;\r\n                });\r\n\r\n                if (filteredBlocks.length > 0) {\r\n                    filtered[slug] = {\r\n                        ...category,\r\n                        blocks: filteredBlocks\r\n                    };\r\n                }\r\n            });\r\n\r\n            return filtered;\r\n        }, [categories, data.usage, showEmptyBlocks]);\r\n\r\n        const categoryStats = useMemo(() => {\r\n            const stats = {};\r\n\r\n            Object.entries(filteredCategories).forEach(([slug, category]) => {\r\n                let totalBlocks = category.blocks.length;\r\n                let totalLocations = 0;\r\n                let totalInstances = 0;\r\n\r\n                category.blocks.forEach(block => {\r\n                    const blockData = data.usage[block.name];\r\n                    if (blockData && blockData.posts) {\r\n                        totalLocations += Object.keys(blockData.posts).length;\r\n                        totalInstances += blockData.total || 0;\r\n                    }\r\n                });\r\n\r\n                stats[slug] = {\r\n                    blocks: totalBlocks,\r\n                    locations: totalLocations,\r\n                    instances: totalInstances\r\n                };\r\n            });\r\n\r\n            return stats;\r\n        }, [filteredCategories, data.usage]);\r\n\r\n        // Check if we should show the welcome intro\r\n        const shouldShowWelcomeIntro = useMemo(() => {\r\n            // Show intro if no scan data exists or if there are no blocks with usage data\r\n            const hasScanData = data.lastScanDate && Object.keys(data.usage).length > 0;\r\n            const hasBlocksWithUsage = Object.values(data.usage).some(blockData =>\r\n                blockData.posts && Object.keys(blockData.posts).length > 0\r\n            );\r\n\r\n            return !hasScanData || !hasBlocksWithUsage;\r\n        }, [data]);\r\n\r\n        useEffect(() => {\r\n            if (!selected && blocksData.blocks.length > 0 && initialLoadComplete) {\r\n                const firstCategory = Object.values(filteredCategories)[0];\r\n                if (firstCategory && firstCategory.blocks.length > 0) {\r\n                    setSelected(firstCategory.blocks[0]);\r\n                }\r\n            }\r\n        }, [filteredCategories, blocksData.blocks, initialLoadComplete]);\r\n\r\n        const scanAll = async () => {\r\n            setLoadingAll(true);\r\n            setScanProgress({\r\n                current: 0,\r\n                total: 0,\r\n                status: __('Initializing scan...', 'advanced-gutenberg'),\r\n                completed: false\r\n            });\r\n\r\n            try {\r\n                let offset = 0;\r\n                const batchSize = 20;\r\n                let newData = {\r\n                    usage: {},\r\n                    posts: [],\r\n                    lastScanDate: ''\r\n                };\r\n                let totalPosts = 0;\r\n                let hasMorePosts = true;\r\n\r\n                while (hasMorePosts) {\r\n                    setScanProgress(prev => ({\r\n                        ...prev,\r\n                        status: sprintf(\r\n                            __('Processing posts (%1$s/%2$s)', 'advanced-gutenberg'),\r\n                            offset.toLocaleString(),\r\n                            totalPosts.toLocaleString()\r\n                        )\r\n                    }));\r\n\r\n                    const batchResponse = await postAjax('pp_blocks-usage_scan_batch', {\r\n                        offset,\r\n                        batch_size: batchSize,\r\n                        post_types: selectedPostTypes\r\n                    });\r\n\r\n                    if (!batchResponse.success) {\r\n                        throw new Error(__('Batch scan failed', 'advanced-gutenberg'));\r\n                    }\r\n\r\n                    if (batchResponse.data.total) {\r\n                        totalPosts = batchResponse.data.total;\r\n                    }\r\n\r\n                    // Merge usage data\r\n                    Object.entries(batchResponse.data.usage || {}).forEach(([blockName, blockData]) => {\r\n                        if (!newData.usage[blockName]) {\r\n                            newData.usage[blockName] = {\r\n                                posts: {},\r\n                                total: 0\r\n                            };\r\n                        }\r\n\r\n                        Object.entries(blockData.posts || {}).forEach(([postId, entry]) => {\r\n                            newData.usage[blockName].posts[postId] = entry;\r\n                        });\r\n\r\n                        newData.usage[blockName].total += blockData.total || 0;\r\n                    });\r\n\r\n                    // Merge posts\r\n                    newData.posts = [...newData.posts, ...(batchResponse.data.posts || [])];\r\n                    newData.lastScanDate = batchResponse.data.lastScanDate || newData.lastScanDate;\r\n\r\n                    offset += batchResponse.data.processed || 0;\r\n                    hasMorePosts = offset < totalPosts;\r\n\r\n                    setScanProgress(prev => ({\r\n                        ...prev,\r\n                        current: offset,\r\n                        total: totalPosts\r\n                    }));\r\n\r\n                    // Update local state with the new data\r\n                    setData(newData);\r\n\r\n                    // Save to IndexedDB after each batch\r\n                    try {\r\n                        await saveToCache('block_usage_data', newData);\r\n                    } catch (error) {\r\n                        console.error('Failed to save batch to IndexedDB:', error);\r\n                        // Continue with next batch even if save fails\r\n                    }\r\n\r\n                    await new Promise(resolve => setTimeout(resolve, 100));\r\n                }\r\n\r\n                setScanProgress(prev => ({\r\n                    ...prev,\r\n                    completed: true,\r\n                    status: __('Scan completed successfully!', 'advanced-gutenberg')\r\n                }));\r\n            } catch (error) {\r\n                console.error('Scan error:', error);\r\n                setScanProgress(prev => ({\r\n                    ...prev,\r\n                    status: __('Scan failed: ', 'advanced-gutenberg') + error.message\r\n                }));\r\n            } finally {\r\n                setTimeout(() => {\r\n                    setLoadingAll(false);\r\n                    setScanProgress({\r\n                        current: 0,\r\n                        total: 0,\r\n                        status: '',\r\n                        completed: false\r\n                    });\r\n                }, 2000);\r\n            }\r\n        };\r\n\r\n        const clearAllData = async () => {\r\n            setLoadingClearAll(true);\r\n            try {\r\n                await clearCache();\r\n                setData({\r\n                    usage: {},\r\n                    posts: [],\r\n                    lastScanDate: ''\r\n                });\r\n                setShowEmptyBlocks(false);\r\n                setSelected(null);\r\n\r\n                // Clear settings as well\r\n                await saveToCache('block_usage_settings', {\r\n                    showEmptyBlocks: false,\r\n                    lastSelectedBlock: ''\r\n                });\r\n            } catch (error) {\r\n                console.error('Failed to clear data:', error);\r\n                setDbError(__('Failed to clear data. Please try again.', 'advanced-gutenberg'));\r\n            } finally {\r\n                setLoadingClearAll(false);\r\n            }\r\n        };\r\n\r\n        const handleDetailsClick = async (bt) => {\r\n            const newSelected = selected?.name === bt.name ? null : bt;\r\n            setSelected(newSelected);\r\n\r\n            // Save the last selected block\r\n            if (newSelected) {\r\n                try {\r\n                    await saveToCache('block_usage_settings', {\r\n                        showEmptyBlocks,\r\n                        lastSelectedBlock: newSelected.name\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Failed to save last selected block:', error);\r\n                }\r\n            }\r\n        };\r\n\r\n        if (!initialLoadComplete) {\r\n            return (\r\n                <div className=\"pp-blocks-usage-wrapper\">\r\n                    <div className=\"advgb-block-feature-loading-msg\" style={{ display: 'block' }}>\r\n                        {__('Loading...', 'advanced-gutenberg')} <Spinner />\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        let proHtml = '';\r\n        let wrapperCalss = '';\r\n        let blurClass = '';\r\n\r\n        if (!window.advgb_block_usage_data.isProActive) {\r\n            wrapperCalss = 'advgb-promo-overlay-area';\r\n            blurClass = 'advgb-blur';\r\n            proHtml = (\r\n                <div className=\"advgb-pro-small-overlay-text\">\r\n                    <a className=\"advgb-pro-link clickable\" href={window.advgb_block_usage_data.promoLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <span className=\"dashicons dashicons-lock\"></span>\r\n                        {window.advgb_block_usage_data.proText}\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div className={`pp-blocks-usage-wrapper ${selected ? 'has-sidebar' : ''}`}>\r\n                {dbError && (\r\n                    <Notice status=\"error\" onRemove={() => setDbError(null)}>\r\n                        {dbError}\r\n                    </Notice>\r\n                )}\r\n\r\n                <div className=\"pp-blocks-usage-header\">\r\n                    <Flex justify=\"space-between\" align=\"center\">\r\n                        <FlexItem>\r\n                            <div className={`${wrapperCalss} pp-blocks-usage-controls`}>\r\n                                {proHtml}\r\n                                {window.advgb_block_usage_data?.postTypes && (\r\n                                    <div className={`${blurClass} pp-blocks-usage-post-type-filter`}>\r\n                                        <FormTokenField\r\n                                            label={__('Limit Scan to Post Types:', 'advanced-gutenberg')}\r\n                                            value={selectedPostTypes}\r\n                                            suggestions={Object.keys(window.advgb_block_usage_data.postTypes)}\r\n                                            onChange={(newPostTypes) => handlePostTypeChange(newPostTypes)}\r\n                                            displayTransform={(postType) => window.advgb_block_usage_data.postTypes[postType] || postType}\r\n                                            tokenizeOnSpace={false}\r\n                                            __experimentalExpandOnFocus={true}\r\n                                            __experimentalShowHowTo={false}\r\n                                            style={{ minWidth: '300px', marginRight: '12px' }}\r\n                                        />\r\n                                        <Button\r\n                                            style={{ marginTop: '13px' }}\r\n                                            className=\"button\"\r\n                                            onClick={scanAll}\r\n                                            disabled={loadingAll}\r\n                                        >\r\n                                            {loadingAll ? <Spinner /> : __('Filter', 'advanced-gutenberg')}\r\n                                        </Button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </FlexItem>\r\n                        <FlexItem>\r\n                            <div className=\"advgb-toggle-wrapper\">\r\n                                {__('Show Empty Blocks', 'advanced-gutenberg')}\r\n                                <div className=\"advgb-switch-button\">\r\n                                    <label className=\"switch\">\r\n                                        <input\r\n                                            type=\"checkbox\"\r\n                                            name=\"toggle_empty_blocks\"\r\n                                            id=\"toggle_empty_blocks\"\r\n                                            checked={showEmptyBlocks}\r\n                                            onChange={(e) => handleToggleChange(e.target.checked)}\r\n                                        />\r\n                                        <span className=\"slider\"></span>\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </FlexItem>\r\n                    </Flex>\r\n                </div>\r\n\r\n                {loadingAll && (\r\n                    <div className=\"scan-progress-container\">\r\n                        <div className=\"scan-progress\">\r\n                            <p>{scanProgress.status}</p>\r\n                            <div className=\"progress-wrap\"><ProgressBar\r\n                                value={scanProgress.total > 0 ? (scanProgress.current / scanProgress.total) * 100 : 0}\r\n                            /></div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {data.lastScanDate && (\r\n                    <div className=\"pp-blocks-usage-last-scan\">\r\n                        <span>{__('Last scan:', 'advanced-gutenberg')} {new Date(data.lastScanDate).toLocaleString()}</span>\r\n                        <div className=\"ppb-tooltips-library\" data-toggle=\"ppbtooltip\" data-placement=\"left\">\r\n                            {!loadingClearAll &&\r\n                                <span className=\"dashicons dashicons-editor-help\" style={{ verticalAlign: 'sub', lineHeight: 'inherit' }}></span>\r\n                            }\r\n                            <button className=\"button button-secondary advgb-destructive-button\"\r\n                                onClick={clearAllData}\r\n                                disabled={loadingAll || loadingClearAll}\r\n                                style={{ marginLeft: '8px' }}\r\n                            >\r\n                                {loadingClearAll ? <Spinner /> : __('Clear All Data', 'advanced-gutenberg')}\r\n                            </button>\r\n                            {!loadingClearAll &&\r\n                                <span className=\"tooltip-text\">\r\n                                    <span>{__('Scan data is stored in your browser to improve performance and handle large datasets. This keeps your WordPress database clean. Click to permanently delete all stored data.', 'advanced-gutenberg')}</span>\r\n                                    <i></i>\r\n                                </span>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"pp-blocks-usage-container\">\r\n                    {shouldShowWelcomeIntro ? (\r\n                        <WelcomeIntro onScanClick={scanAll} loadingAll={loadingAll} data={data} />\r\n                    ) : (\r\n                        <>\r\n                            <div className=\"pp-blocks-usage-categories\">\r\n                                {Object.entries(filteredCategories).map(([slug, { title, blocks }]) => {\r\n                                    const stats = categoryStats[slug] || { blocks: 0, locations: 0, instances: 0 };\r\n\r\n                                    const pluralize = (count, singular, plural) => {\r\n                                        return count === 1 ? singular : plural;\r\n                                    };\r\n\r\n                                    const categoryTitle = (\r\n                                        <span className=\"pp-blocks-usage-category-title\">\r\n                                            <span className=\"category-name\">{title}</span>\r\n                                            <span className=\"category-stats\">\r\n                                                ({stats.blocks} {pluralize(stats.blocks, __('block', 'advanced-gutenberg'), __('blocks', 'advanced-gutenberg'))}, {stats.locations} {pluralize(stats.locations, __('location', 'advanced-gutenberg'), __('locations', 'advanced-gutenberg'))}, {stats.instances} {pluralize(stats.instances, __('instance', 'advanced-gutenberg'), __('instances', 'advanced-gutenberg'))})\r\n                                            </span>\r\n                                        </span>\r\n                                    );\r\n                                    return (\r\n\r\n                                        <PanelBody key={slug} title={categoryTitle} initialOpen>\r\n                                            <div className=\"pp-blocks-usage-block-grid\">\r\n                                                {blocks.map(bt => {\r\n                                                    const hasData = data.usage[bt.name] && Object.keys(data.usage[bt.name].posts).length > 0;\r\n                                                    const blockData = data.usage[bt.name] || { posts: {}, total: 0 };\r\n                                                    const postCount = Object.keys(blockData.posts).length;\r\n                                                    const useCount = blockData.total;\r\n                                                    const lastScanned = Object.values(blockData.posts)[0]?.scanned || '';\r\n\r\n                                                    return (\r\n                                                        <Card\r\n                                                            key={bt.name}\r\n                                                            className={`pp-blocks-usage-block-tile ${selected?.name === bt.name ? 'active' : ''}`}\r\n                                                            onClick={() => handleDetailsClick(bt)}\r\n                                                        >\r\n                                                            <div className=\"pp-blocks-usage-tile-main\">\r\n                                                                {bt.icon && (\r\n                                                                    <span className=\"block-icon\" style={bt.iconColor ? { color: bt.iconColor } : {}}>\r\n                                                                        {typeof bt.icon === 'string' && !bt.icon.includes('<') ? (\r\n                                                                            <span className={`dashicons dashicons-${bt.icon}`}></span>\r\n                                                                        ) : (\r\n                                                                            <span dangerouslySetInnerHTML={{ __html: bt.icon }} />\r\n                                                                        )}\r\n                                                                    </span>\r\n                                                                )}\r\n                                                                <span>{bt.title}</span>\r\n                                                            </div>\r\n                                                            {hasData ? (\r\n                                                                <div className=\"pp-blocks-usage-tile-counts\">\r\n                                                                    <div>{__('Locations:', 'advanced-gutenberg')} {postCount}</div>\r\n                                                                    <div>{__('Instances:', 'advanced-gutenberg')} {useCount}</div>\r\n                                                                </div>\r\n                                                            ) : (\r\n                                                                <div className=\"pp-blocks-usage-tile-counts\">\r\n                                                                    <div className=\"no-scan\">\r\n                                                                        {data.lastScanDate\r\n                                                                            ? __('Not found in any posts', 'advanced-gutenberg')\r\n                                                                            : __('No scan history', 'advanced-gutenberg')}\r\n                                                                    </div>\r\n                                                                </div>\r\n                                                            )}\r\n                                                            <div className=\"pp-blocks-usage-tile-actions\">\r\n                                                                <Button variant=\"secondary\" size=\"small\" onClick={(e) => {\r\n                                                                    e.stopPropagation();\r\n                                                                    handleDetailsClick(bt);\r\n                                                                }}>\r\n                                                                    {__('Details', 'advanced-gutenberg')}\r\n                                                                </Button>\r\n                                                            </div>\r\n                                                        </Card>\r\n                                                    );\r\n                                                })}\r\n                                            </div>\r\n                                        </PanelBody>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n\r\n                            {selected && (\r\n                                <Sidebar\r\n                                    key={selected.name}\r\n                                    selected={selected}\r\n                                    data={data}\r\n                                    onClose={() => setSelected(null)}\r\n                                    canEditPosts={currentUser?.canEditPosts || false}\r\n                                />\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Only render the app if wp.blocks is available\r\n    if (typeof wp !== 'undefined' && typeof wp.blocks !== 'undefined') {\r\n        render(<App />, document.getElementById('advgb-block-usage-app'));\r\n    } else {\r\n        const appContainer = document.getElementById('advgb-block-usage-app');\r\n        if (appContainer) {\r\n            appContainer.innerHTML = '<p>' + __('Error Loading blocks data...', 'advanced-gutenberg') + '</p>';\r\n        }\r\n    }\r\n\r\n})(wp.i18n, wp.hooks, wp.blocks, wp.blockEditor, wp.components, wp.compose, wp.element);"],"names":["_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","i","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","return","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","isNaN","length","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","catch","delegateYield","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","wpI18n","wpHooks","wpBlocks","wpBlockEditor","wpComponents","wpCompose","wpElement","render","useState","useEffect","useRef","useMemo","PanelBody","Button","Card","Spinner","Flex","FlexItem","ProgressBar","Notice","FormTokenField","__","sprintf","STORE_NAME","EXCLUDED_BLOCKS","openDatabase","reject","request","indexedDB","open","onerror","event","console","error","target","onsuccess","result","onupgradeneeded","db","objectStoreNames","contains","createObjectStore","keyPath","getFromCache","_ref","_callee","key","_context","transaction","objectStore","get","t0","_x","saveToCache","_ref2","_callee2","_context2","put","_x2","_x3","clearCache","_ref3","_callee3","_context3","clear","WelcomeIntro","_ref5","_data$posts","onScanClick","loadingAll","data","totalBlocks","usage","totalPosts","posts","lastScanDate","React","createElement","className","style","fontSize","Date","toLocaleDateString","class","onClick","disabled","Sidebar","memo","_ref6","selected","canEditPosts","onClose","_useState2","_slicedToArray","expandedPost","setExpandedPost","_data$usage","_data$posts2","blockData","total","postIds","blockPosts","filter","post","includes","post_id","toString","groupedPosts","groups","_blockData$posts$post","_blockData$posts$post2","count","scanned","concat","post_title","_objectSpread","totalCount","groupBlocksByName","blocks","grouped","block","_grouped$key$innerBlo","innerBlocks","_toConsumableArray","renderBlockItem","depth","undefined","groupedInnerBlocks","clientId","Math","random","substr","marginLeft","icon","iconColor","color","dangerouslySetInnerHTML","__html","map","innerBlock","ref","title","description","category","Fragment","_post$blocks","isExpanded","postTypeLabel","post_type","size","edit_link","variant","isSmall","href","view_link","toLocaleString","App","_window$advgb_block_u","_ref7","window","advgb_block_usage_data","_ref7$ajaxUrl","ajaxUrl","_ref7$nonce","nonce","initialData","currentUser","_useState4","wp","categories","blockLibrary","registerCoreBlocks","allBlocks","getBlockTypes","allCategories","getCategories","listBlocks","localizedCategories","blockCategories","categoryTitleMap","reduce","cat","slug","_ref4$saved_blocks","saved_blocks","diff_blocks","blocksA","some","blocksB","blockItemIcon","blockItem","src","parent","categoryTitle","savedIcon","foreground","element","renderToString","replace","components","Dashicon","uniqueNames","splice","sort","b","localizedCat","getBlocks","blocksData","_useState6","setData","_useState8","setLoadingAll","_useState10","loadingClearAll","setLoadingClearAll","_useState12","setSelected","_useState14","showEmptyBlocks","setShowEmptyBlocks","_useState16","selectedPostTypes","setSelectedPostTypes","_useState18","current","status","completed","scanProgress","setScanProgress","_useState20","dbError","setDbError","_useState22","initialLoadComplete","setInitialLoadComplete","headerButton","document","getElementById","opacity","cursor","addEventListener","preventDefault","scanAll","loadData","_ref8","_callee4","cachedData","cachedSettings","lastSelected","_context4","lastSelectedBlock","find","postAjax","action","body","URLSearchParams","fetch","headers","json","handleToggleChange","_ref9","_callee5","_context5","_x4","handlePostTypeChange","_ref10","_callee6","newPostTypes","_context6","isProActive","_x5","cats","advgbCategory","catSlug","filteredCategories","filtered","entries","_ref11","_ref12","filteredBlocks","bt","categoryStats","stats","_ref13","_ref14","totalLocations","totalInstances","locations","instances","shouldShowWelcomeIntro","hasScanData","hasBlocksWithUsage","firstCategory","_ref15","_callee7","offset","batchSize","newData","hasMorePosts","batchResponse","_context7","batch_size","post_types","success","_ref16","_ref17","blockName","_ref18","_ref19","postId","entry","processed","setTimeout","t1","message","clearAllData","_ref20","_callee8","_context8","handleDetailsClick","_ref21","_callee9","newSelected","_context9","_x6","display","proHtml","wrapperCalss","blurClass","promoLink","rel","proText","onRemove","justify","align","postTypes","label","suggestions","onChange","displayTransform","postType","tokenizeOnSpace","__experimentalExpandOnFocus","__experimentalShowHowTo","minWidth","marginRight","marginTop","id","checked","verticalAlign","lineHeight","_ref22","_ref23","_ref23$","pluralize","singular","plural","initialOpen","_Object$values$","hasData","postCount","useCount","stopPropagation","appContainer","innerHTML","i18n","hooks","blockEditor","compose"],"sourceRoot":""}