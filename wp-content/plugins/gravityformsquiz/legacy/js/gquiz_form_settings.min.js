((t,n)=>{var o={};function i(t){switch(t){case"none":n("#passfail_grading_options").fadeOut("fast"),n("#letter_options_section").fadeOut("fast");break;case"passfail":n("#letter_options_section").fadeOut("fast"),n("#passfail_grading_options").fadeIn("fast");break;case"letter":n("#passfail_grading_options").fadeOut("fast"),n("#letter_options_section").fadeIn("fast")}}function s(t,e){this.text=t,this.value=e}function r(){for(var t=gquizVars.imagesUrl,e="",i=0;i<o.length;i++)e=(e=(e=(e=(e+="<li data-index='"+i+"'>")+"<i class='fa fa-sort field-choice-handle gquiz-grade-handle' title='"+gquiz_strings.dragToReOrder+"'></i>")+"<input type='text' id='gquiz-grade-text-"+i+"' value=\""+o[i].text.replace(/"/g,"&quot;")+"\"  class='gquiz-grade-input gquiz-grade-text' /> <span class='gquiz-greater-than-or-equal'>&gt;=</span> ")+"<input type='text' id='gquiz-grade-value-"+i+"' value=\""+o[i].value+"\" class='gquiz-grade-input gquiz-grade-value' > <span class='gquiz-percentage'>&#37;</span> ")+"<img src='"+t+"/add.png' class='gquiz-add-grade' title='"+gquiz_strings.addAnotherGrade+"' alt='"+gquiz_strings.addAnotherGrade+"' style='cursor:pointer; margin:0 3px;' onclick=\"gquiz.insertGrade("+(i+1)+');" />',1<o.length&&(e+="<img src='"+t+"/remove.png' title='"+gquiz_strings.removeThisGrade+"' alt='"+gquiz_strings.removeThisGrade+"' class='gquiz-delete-grade' style='cursor:pointer;' onclick=\"gquiz.deleteGrade("+i+');" />'),e+="</li>";return e}function g(){n("ul#gquiz-grades li").each(function(t){var e=n(this),i=e.children("input.gquiz-grade-text").val(),a=e.children("input.gquiz-grade-value").val(),e=e.data("index"),i=new s(i,parseInt(a));o[parseInt(e)]=i})}t.init=function(){var t,e=n("#grades").val(),e=(o=n.parseJSON(e),n(".gquiz-grading").click(function(){i(this.value)}),n("input[name='_gaddon_setting_grading']:checked").val());i(e),n("#letterdisplayconfirmation").click(function(){n("#gaddon-setting-row-letterConfirmationMessage").toggle(),n("#gaddon-setting-row-letterConfirmationDisableAutoformat").toggle()}),n("#passfaildisplayconfirmation").click(function(){n("#gaddon-setting-row-passConfirmationMessage").toggle(),n("#gaddon-setting-row-passConfirmationDisableAutoformat").toggle(),n("#gaddon-setting-row-failConfirmationMessage").toggle(),n("#gaddon-setting-row-failConfirmationDisableAutoformat").toggle()}),e=n("#passfaildisplayconfirmation").prop("checked"),t=n("#letterdisplayconfirmation").prop("checked"),e?(n("#gaddon-setting-row-passConfirmationMessage").show(),n("#gaddon-setting-row-passConfirmationDisableAutoformat").show(),n("#gaddon-setting-row-failConfirmationMessage").show(),n("#gaddon-setting-row-failConfirmationDisableAutoformat").show()):(n("#gaddon-setting-row-passConfirmationMessage").hide(),n("#gaddon-setting-row-passConfirmationDisableAutoformat").hide(),n("#gaddon-setting-row-failConfirmationMessage").hide(),n("#gaddon-setting-row-failConfirmationDisableAutoformat").hide()),t?(n("#gaddon-setting-row-letterConfirmationMessage").show(),n("#gaddon-setting-row-letterConfirmationDisableAutoformat").show()):(n("#gaddon-setting-row-letterConfirmationMessage").hide(),n("#gaddon-setting-row-letterConfirmationDisableAutoformat").hide()),i(),n("#gquiz-grades").html(r()),n(document).on("blur","input.gquiz-grade-value",function(){var t=n(this),e=t.val();e<0||isNaN(e)?t.val(0):100<e&&t.val(100)}),n(document).on("keypress","input.gquiz-grade-value",function(t){return 27==t.which?(this.blur(),!1):0===t.which||8===t.which||void((t.which<48||57<t.which)&&t.preventDefault())}),n("#gquiz-grades").sortable({axis:"y",handle:".gquiz-grade-handle",update:function(t,e){var i,a=e.item.data("index"),e=e.item.index();a=a,e=e,g(),i=o[a],o.splice(a,1),o.splice(e,0,i),n("div#gquiz-settings-grades-container ul#gquiz-grades").html(r())}}),n("#gform-settings").submit(function(){g(),n("#grades").val(n.toJSON(o))})},t.insertGrade=function(t){g();var e=o[t-1],i=o[t],i=void 0===i?0:i.value,e=new s("",parseInt(i)+parseInt((e.value-i)/2));o.splice(t,0,e),n("div#gquiz-settings-grades-container ul#gquiz-grades").html(r())},t.deleteGrade=function(t){g(),o.splice(t,1),n("div#gquiz-settings-grades-container ul#gquiz-grades").html(r())},String.prototype.format=function(){var i=arguments;return this.replace(/{(\d+)}/g,function(t,e){return void 0!==i[e]?i[e]:t})}})(window.gquiz=window.gquiz||{},jQuery),jQuery(document).ready(function(){gquiz.init()}),jQuery(document).ready(function(){});