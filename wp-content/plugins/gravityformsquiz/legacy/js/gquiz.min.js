function gquizShowAnswer(e){var t=jQuery(e).attr("id"),r=gquizGetCurrentForm(e),i=gquizGetFormId(r),n=jQuery(r).find("label[for='"+t+"']"),a="input[name='"+e.name+"']";jQuery(r).find(a).attr("disabled","disabled"),jQuery(e).removeAttr("disabled"),t=e.name.replace("input_",""),(r=jQuery("#field_"+i+"_"+t)).addClass("gquiz-instant-feedback-validated"),(i=!((a=utf8_decode(base64_decode(gquizAnswers[t].correctValue)))!=e.value))||n.addClass("gquiz-incorrect-choice"),a=jQuery(r).find("input[value='"+a+"']"),a=jQuery(a).attr("id"),jQuery(r).find("label[for='"+a+"']").addClass("gquiz-correct-choice"),i="<img class='gquiz-indicator' src='"+(i?gquizVars.correctIndicator:gquizVars.incorrectIndicator)+"' alt='"+(i?gquizVars.strings.correctResponse:gquizVars.strings.incorrectResponse)+"' />",jQuery(n).append(i),e=jQuery(e).closest(".ginput_container"),(t=gquizAnswers[t].explanation)&&(t='<div class="gquiz-answer-explanation">'+utf8_decode(base64_decode(t))+"</div>",e.append(t))}function gquizGetCurrentForm(e){return jQuery(e).closest("form")}function gquizGetFormId(e){return jQuery(e).attr("id").replace("gform_","")}function gquizSetUpInstantFeedback(){var e=jQuery(".gquiz-field.gquiz-instant-feedback");e.find("input[type='radio']:checked").each(function(){gquizShowAnswer(this)});var t=!1;e.find('label, input[type="radio"]').mouseup(function(e){t=!0}),e.find('input[type="radio"]').blur(function(){setTimeout(function(){var e,t,r;jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(e=jQuery(this).attr("name"),t=jQuery(document.activeElement).attr("name"),r=jQuery('input[name="'+e+'"]'),t!=e&&r.filter(":checked").each(function(){gquizShowAnswer(this)}))}.bind(this),100)}).click(function(){jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(t&&gquizShowAnswer(this),t=!1)})}function base64_decode(e){if("function"==typeof this.window.atob)return atob(e);var t,r,i,n,a,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,o=0,c=[];if(!e)return e;for(e+="";t=(a=u.indexOf(e.charAt(d++))<<18|u.indexOf(e.charAt(d++))<<12|(i=u.indexOf(e.charAt(d++)))<<6|(n=u.indexOf(e.charAt(d++))))>>16&255,r=a>>8&255,a=255&a,c[o++]=64==i?String.fromCharCode(t):64==n?String.fromCharCode(t,r):String.fromCharCode(t,r,a),d<e.length;);return c.join("")}function utf8_decode(e){var t,r,i=[],n=0,a=0,u=0;for(e+="";n<e.length;)(t=e.charCodeAt(n))<128?(i[a++]=String.fromCharCode(t),n++):191<t&&t<224?(u=e.charCodeAt(n+1),i[a++]=String.fromCharCode((31&t)<<6|63&u),n+=2):(u=e.charCodeAt(n+1),r=e.charCodeAt(n+2),i[a++]=String.fromCharCode((15&t)<<12|(63&u)<<6|63&r),n+=3);return i.join("")}jQuery(document).ready(function(){gquizSetUpInstantFeedback()}),jQuery(document).bind("gform_page_loaded",function(e,t,r){gquizSetUpInstantFeedback()});