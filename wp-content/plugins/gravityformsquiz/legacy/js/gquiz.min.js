function gquizShowAnswer(e){var t,r,i,n,a,u,d,o,c,s,f,g,l,h;t=jQuery(e).attr("id"),i=gquizGetFormId(r=gquizGetCurrentForm(e)),a=jQuery(r).find("label[for='"+t+"']"),u="input[name='"+e.name+"']",jQuery(r).find(u).attr("disabled","disabled"),jQuery(e).removeAttr("disabled"),d=e.name.replace("input_",""),(n=jQuery("#field_"+i+"_"+d)).addClass("gquiz-instant-feedback-validated"),(c=!((o=utf8_decode(base64_decode(o=gquizAnswers[d].correctValue)))!=e.value))||a.addClass("gquiz-incorrect-choice"),s=jQuery(n).find("input[value='"+o+"']"),f=jQuery(s).attr("id"),jQuery(n).find("label[for='"+f+"']").addClass("gquiz-correct-choice"),g="<img class='gquiz-indicator' src='"+(c?gquizVars.correctIndicator:gquizVars.incorrectIndicator)+"' alt='"+(c?gquizVars.strings.correctResponse:gquizVars.strings.incorrectResponse)+"' />",jQuery(a).append(g),l=jQuery(e).closest(".ginput_container"),(h=gquizAnswers[d].explanation)&&(h='<div class="gquiz-answer-explanation">'+utf8_decode(base64_decode(h))+"</div>",l.append(h))}function gquizGetCurrentForm(e){return jQuery(e).closest("form")}function gquizGetFormId(e){return jQuery(e).attr("id").replace("gform_","")}function gquizSetUpInstantFeedback(){var e=jQuery(".gquiz-field.gquiz-instant-feedback");e.find("input[type='radio']:checked").each(function(){gquizShowAnswer(this)});var t=!1;e.find('label, input[type="radio"]').mouseup(function(e){t=!0}),e.find('input[type="radio"]').blur(function(){setTimeout(function(){if(!jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")){var e=jQuery(this).attr("name"),t=jQuery(document.activeElement).attr("name"),r=jQuery('input[name="'+e+'"]');t!=e&&r.filter(":checked").each(function(){gquizShowAnswer(this)})}}.bind(this),100)}).click(function(){jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(t&&gquizShowAnswer(this),t=!1)})}function base64_decode(e){if("function"==typeof this.window.atob)return atob(e);var t,r,i,n,a,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,c=0,s=[];if(!e)return e;for(e+="";t=(u=d.indexOf(e.charAt(o++))<<18|d.indexOf(e.charAt(o++))<<12|(n=d.indexOf(e.charAt(o++)))<<6|(a=d.indexOf(e.charAt(o++))))>>16&255,r=u>>8&255,i=255&u,s[c++]=64==n?String.fromCharCode(t):64==a?String.fromCharCode(t,r):String.fromCharCode(t,r,i),o<e.length;);return s.join("")}function utf8_decode(e){var t=[],r=0,i=0,n=0,a=0,u=0;for(e+="";r<e.length;)(n=e.charCodeAt(r))<128?(t[i++]=String.fromCharCode(n),r++):191<n&&n<224?(a=e.charCodeAt(r+1),t[i++]=String.fromCharCode((31&n)<<6|63&a),r+=2):(a=e.charCodeAt(r+1),u=e.charCodeAt(r+2),t[i++]=String.fromCharCode((15&n)<<12|(63&a)<<6|63&u),r+=3);return t.join("")}jQuery(document).ready(function(){gquizSetUpInstantFeedback()}),jQuery(document).bind("gform_page_loaded",function(e,t,r){gquizSetUpInstantFeedback()});