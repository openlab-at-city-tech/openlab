function gquizShowAnswer(e){var t,r,i=jQuery(e).attr("id"),n=gquizGetCurrentForm(e),a=gquizGetFormId(n),i=jQuery(n).find("label[for='"+i+"']"),u="input[name='"+e.name+"']";jQuery(n).find(u).attr("disabled","disabled"),jQuery(e).removeAttr("disabled"),n=e.name.replace("input_",""),(u=jQuery("#field_"+a+"_"+n)).addClass("gquiz-instant-feedback-validated"),(r=!((t=utf8_decode(base64_decode(gquizAnswers[a][n].correctValue)))!=e.value))||i.addClass("gquiz-incorrect-choice"),t=jQuery(u).find("input[value='"+t+"']"),t=jQuery(t).attr("id"),jQuery(u).find("label[for='"+t+"']").addClass("gquiz-correct-choice"),u="<img class='gquiz-indicator' src='"+(r?gquizVars[a].correctIndicator:gquizVars[a].incorrectIndicator)+"' alt='"+(r?gquizVars[a].strings.correctResponse:gquizVars[a].strings.incorrectResponse)+"' />",jQuery(i).append(u),t=jQuery(e).closest(".ginput_container"),(r=gquizAnswers[a][n].explanation)&&(r='<div class="gquiz-answer-explanation">'+utf8_decode(base64_decode(r))+"</div>",t.append(r))}function gquizGetCurrentForm(e){return jQuery(e).closest("form")}function gquizGetFormId(e){return jQuery(e).attr("id").replace("gform_","")}function gquizSetUpInstantFeedback(){var e=jQuery(".gquiz-field.gquiz-instant-feedback"),t=(e.find("input[type='radio']:checked").each(function(){gquizShowAnswer(this)}),!1);e.find('label, input[type="radio"]').mouseup(function(e){t=!0}),e.find('input[type="radio"]').blur(function(){setTimeout(function(){var e,t,r;jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(e=jQuery(this).attr("name"),t=jQuery(document.activeElement).attr("name"),r=jQuery('input[name="'+e+'"]'),t!=e&&r.filter(":checked").each(function(){gquizShowAnswer(this)}))}.bind(this),100)}).click(function(){jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(t&&gquizShowAnswer(this),t=!1)})}function base64_decode(e){if("function"==typeof this.window.atob)return atob(e);var t,r,i,n,a,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,o=0,c=[];if(!e)return e;for(e+="";t=(a=u.indexOf(e.charAt(d++))<<18|u.indexOf(e.charAt(d++))<<12|(i=u.indexOf(e.charAt(d++)))<<6|(n=u.indexOf(e.charAt(d++))))>>16&255,r=a>>8&255,a=255&a,c[o++]=64==i?String.fromCharCode(t):64==n?String.fromCharCode(t,r):String.fromCharCode(t,r,a),d<e.length;);return c.join("")}function utf8_decode(e){var t,r,i=[],n=0,a=0,u=0;for(e+="";n<e.length;)(t=e.charCodeAt(n))<128?(i[a++]=String.fromCharCode(t),n++):191<t&&t<224?(u=e.charCodeAt(n+1),i[a++]=String.fromCharCode((31&t)<<6|63&u),n+=2):(u=e.charCodeAt(n+1),r=e.charCodeAt(n+2),i[a++]=String.fromCharCode((15&t)<<12|(63&u)<<6|63&r),n+=3);return i.join("")}jQuery(document).ready(function(){gquizSetUpInstantFeedback()}),jQuery(document).bind("gform_page_loaded",function(e,t,r){gquizSetUpInstantFeedback()});