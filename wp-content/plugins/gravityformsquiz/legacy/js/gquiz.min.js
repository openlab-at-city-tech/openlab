function gquizShowAnswer(e){var t,r=jQuery(e).attr("id"),i=gquizGetCurrentForm(e),n=gquizGetFormId(i),r=jQuery(i).find("label[for='"+r+"']"),a="input[name='"+e.name+"']";jQuery(i).find(a).attr("disabled","disabled"),jQuery(e).removeAttr("disabled"),i=e.name.replace("input_",""),(a=jQuery("#field_"+n+"_"+i)).addClass("gquiz-instant-feedback-validated"),(t=!((n=utf8_decode(base64_decode(gquizAnswers[i].correctValue)))!=e.value))||r.addClass("gquiz-incorrect-choice"),n=jQuery(a).find("input[value='"+n+"']"),n=jQuery(n).attr("id"),jQuery(a).find("label[for='"+n+"']").addClass("gquiz-correct-choice"),a="<img class='gquiz-indicator' src='"+(t?gquizVars.correctIndicator:gquizVars.incorrectIndicator)+"' alt='"+(t?gquizVars.strings.correctResponse:gquizVars.strings.incorrectResponse)+"' />",jQuery(r).append(a),n=jQuery(e).closest(".ginput_container"),(t=gquizAnswers[i].explanation)&&(t='<div class="gquiz-answer-explanation">'+utf8_decode(base64_decode(t))+"</div>",n.append(t))}function gquizGetCurrentForm(e){return jQuery(e).closest("form")}function gquizGetFormId(e){return jQuery(e).attr("id").replace("gform_","")}function gquizSetUpInstantFeedback(){var e=jQuery(".gquiz-field.gquiz-instant-feedback"),t=(e.find("input[type='radio']:checked").each(function(){gquizShowAnswer(this)}),!1);e.find('label, input[type="radio"]').mouseup(function(e){t=!0}),e.find('input[type="radio"]').blur(function(){setTimeout(function(){var e,t,r;jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(e=jQuery(this).attr("name"),t=jQuery(document.activeElement).attr("name"),r=jQuery('input[name="'+e+'"]'),t!=e&&r.filter(":checked").each(function(){gquizShowAnswer(this)}))}.bind(this),100)}).click(function(){jQuery(this).parents(".gfield").hasClass("gquiz-instant-feedback-validated")||(t&&gquizShowAnswer(this),t=!1)})}function base64_decode(e){if("function"==typeof this.window.atob)return atob(e);var t,r,i,n,a,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d=0,o=0,c=[];if(!e)return e;for(e+="";t=(a=u.indexOf(e.charAt(d++))<<18|u.indexOf(e.charAt(d++))<<12|(i=u.indexOf(e.charAt(d++)))<<6|(n=u.indexOf(e.charAt(d++))))>>16&255,r=a>>8&255,a=255&a,c[o++]=64==i?String.fromCharCode(t):64==n?String.fromCharCode(t,r):String.fromCharCode(t,r,a),d<e.length;);return c.join("")}function utf8_decode(e){var t,r,i=[],n=0,a=0,u=0;for(e+="";n<e.length;)(t=e.charCodeAt(n))<128?(i[a++]=String.fromCharCode(t),n++):191<t&&t<224?(u=e.charCodeAt(n+1),i[a++]=String.fromCharCode((31&t)<<6|63&u),n+=2):(u=e.charCodeAt(n+1),r=e.charCodeAt(n+2),i[a++]=String.fromCharCode((15&t)<<12|(63&u)<<6|63&r),n+=3);return i.join("")}jQuery(document).ready(function(){gquizSetUpInstantFeedback()}),jQuery(document).bind("gform_page_loaded",function(e,t,r){gquizSetUpInstantFeedback()});