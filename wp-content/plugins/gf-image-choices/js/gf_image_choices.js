var imageChoices=imageChoices||{};!function(e){imageChoices.cssClasses={selected:"image-choices-choice-selected",hover:"image-choices-choice-hover",focus:"image-choices-choice-focus"},imageChoices.getFormMarkupVersion=function(i){var o,s,a="";return"undefined"==typeof i||"string"==typeof i&&""===i||"number"==typeof i&&i<=0?(o=e('form[id^="gform_"]:first').attr("id"),a=window.hasOwnProperty("gf_get_form_id_by_html_id")?window.gf_get_form_id_by_html_id(o):o.replace("gform_",""),s=e("#"+o)):i instanceof jQuery?(o=i.attr("id"),a=window.hasOwnProperty("gf_get_form_id_by_html_id")?window.gf_get_form_id_by_html_id(o):o.replace("gform_",""),s=i):"string"==typeof i&&i.indexOf("gform_")!==-1?(a=window.hasOwnProperty("gf_get_form_id_by_html_id")?window.gf_get_form_id_by_html_id(i):i.replace("gform_",""),o="gform_"+a,s=e("#"+o)):(a=window.hasOwnProperty("gf_get_form_id_by_html_id")?window.gf_get_form_id_by_html_id("gform_"+i.toString()):i.toString(),o="gform_"+a,s=e("#"+o)),s.length?s.find(".gform_body .gfield:first").is("li")?1:2:e(".gform_body .gfield:first").is("li")?1:2},imageChoices.$fieldChoices=function(e){if("undefined"==typeof e||e instanceof jQuery==!1)return[];var i='.ginput_container .gfield_radio div[class*="gchoice"], .ginput_container .gfield_checkbox div[class*="gchoice"]:not(.gchoice_select_all)';return 1===imageChoices.getFormMarkupVersion(e.closest("form"))&&(i=".ginput_container .gfield_radio li, .ginput_container .gfield_checkbox li:not(.gchoice_select_all)"),e.find(i)},imageChoices.SelectedFields=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");imageChoices.$fieldChoices(o.find(".image-choices-field")).find("input:checked").each(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.addClass(imageChoices.cssClasses.selected)})},imageChoices.InitLightbox=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");o.find(".image-choices-field.image-choices-use-lightbox").each(function(){imageChoicesVars.hasOwnProperty("elementorCompat")&&"elementor"!==imageChoicesVars.elementorCompat&&e(this).find(".image-choices-lightbox-btn").jetslothLightbox({captionType:"data",captionsData:"caption"})})},imageChoices.onChoiceKeyPress=function(i){var o=9,s=32,a=e(i.target),c=a.closest(".gfield");if(i.keyCode===s&&(a.is(":checkbox")||a.is(":radio")))a.is(":radio")&&!a.is(":checked")?i.preventDefault():a.is(":checkbox")&&(i.preventDefault(),i.stopImmediatePropagation());else if(i.keyCode===o&&c.hasClass("image-choices-field")){var t=i.shiftKey?"previous":"next",n=a.closest(".image-choices-choice");"next"===t?n.is(":last-child")||(i.preventDefault(),n.next(".image-choices-choice").find("> input").focus()):"previous"===t&&(n.is(":first-child")||(i.preventDefault(),n.prev(".image-choices-choice").find("> input").focus()))}},imageChoices.onChoicesSelectAllClick=function(i){var o=e(this),s=o.closest(".gfield"),a=o.is("input")?o.is(":checked"):o.data("checked"),c=a?s.find(".image-choices-choice input:checked"):s.find(".image-choices-choice input:not(:checked)");c.length&&c.each(function(i,o){var s=e(o);imageChoices.onChoiceLabelClick(s.next("label"))})},imageChoices.onChoiceLabelClick=function(e){var i=1===imageChoices.getFormMarkupVersion(e.closest("form"))?e.closest("li"):e.closest('div[class*="gchoice"]'),o=i.closest(".gfield_checkbox, .gfield_radio").first(),s=i.find("input");i.hasClass("image-choices-choice-other")&&setTimeout(function(){i.find(".gf_other_wrap").addClass("active"),i.find("input:text").focus()},250),o.hasClass("gfield_radio")?(o.find("."+imageChoices.cssClasses.selected).not(i).removeClass(imageChoices.cssClasses.selected).find("input").prop("checked",!1),i.addClass(imageChoices.cssClasses.selected)):o.hasClass("gfield_checkbox")&&(s.is(":checked")?i.addClass(imageChoices.cssClasses.selected):i.removeClass(imageChoices.cssClasses.selected))},imageChoices.SetUpFields=function(i){e(".entry-details .detail-view .image-choices-choice-image-wrap").each(function(i){var o=e(this),s=o.closest(".detail-view");s.addClass("image-choices-field image-choices-show-labels")});var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form");!o.length&&e(".gform_variation_wrapper").length&&(o=e(".gform_variation_wrapper"));var s=imageChoices.$fieldChoices(o.find(".image-choices-field"));o.find('.gchoice_select_all input, button[id$="select_all"]').each(function(i,o){e(o).on("click",imageChoices.onChoicesSelectAllClick)}),s.length>0&&(s.each(function(){var i=e(this);i.addClass("image-choices-choice");var o=i.data("init");if(o!==!0){i.data("init",!0),i.find("label").hover(function(i){var o=e(this);if(o.find("input").is(":disabled"))return!1;var s=1===imageChoices.getFormMarkupVersion(o.closest("form"))?o.closest("li"):o.closest('div[class*="gchoice"]');s.addClass(imageChoices.cssClasses.hover)},function(i){var o=e(this);if(o.find("input").is(":disabled"))return!1;var s=1===imageChoices.getFormMarkupVersion(o.closest("form"))?o.closest("li"):o.closest('div[class*="gchoice"]');s.removeClass(imageChoices.cssClasses.hover)}),i.find("input").focus(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.addClass(imageChoices.cssClasses.focus)}).blur(function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.closest("li"):i.closest('div[class*="gchoice"]');o.removeClass(imageChoices.cssClasses.focus)}),i.find('input[value="gf_other_choice"]').length?(i.addClass("image-choices-choice-other"),i.find('input[type="text"]').wrap('<div class="gf_other_wrap"></div>'),e(".gf_other_wrap").append('<a href="#" class="gf_other_close"></a>'),e(document).on("click",".gf_other_close",function(i){i.preventDefault(),e(this).parent().removeClass("active")}),i.find('input:not([type="text"])').on("click",function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.siblings("label"):i.closest(".image-choices-choice").find("label");imageChoices.onChoiceLabelClick(o)})):i.find("input").on("click",function(){var i=e(this),o=1===imageChoices.getFormMarkupVersion(i.closest("form"))?i.siblings("label"):i.closest(".image-choices-choice").find("label");imageChoices.onChoiceLabelClick(o)});var s=i.closest(".image-choices-field");if(s.hasClass("image-choices-use-lightbox")&&!i.find(".image-choices-lightbox-btn").length){var a=s.attr("id"),c=i.find(".image-choices-choice-text").html(),t=(c+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),n=i.find(".image-choices-choice-image").attr("src"),l=i.find(".image-choices-choice-image").data("lightbox-src");if("undefined"!=typeof l&&""!==l||(l=n),""!==l){var r=imageChoicesVars.hasOwnProperty("elementorCompat")&&"elementor"!==imageChoicesVars.elementorCompat?'data-elementor-open-lightbox="no"':"",h=e('<a href="'+l+'" class="image-choices-lightbox-btn" '+r+' rel="'+a+'"><i></i></a>');h.data("caption",t),i.prepend(h)}}}}),setTimeout(function(){imageChoices.SelectedFields(i),imageChoices.InitLightbox(i)},100))},window.imageChoices_SetUpFields=imageChoices.SetUpFields,imageChoices.ConditionalLogic=function(i){var o=e("undefined"!=typeof i&&""!==i?"#gform_"+i:".gform_wrapper form"),s=o.find(".image-choices-field");s.length&&s.each(function(){var i=e(this);i.is(":hidden")&&i.find(".image-choices-choice").removeClass(imageChoices.cssClasses.selected+" "+imageChoices.cssClasses.hover+" "+imageChoices.cssClasses.focus)})},e(document).bind("gform_post_render",function(i,o,s){window.gformGetOptionLabel=imageChoices.gformGetOptionLabel,imageChoices.SetUpFields(o),setTimeout(function(){e("html").addClass("gf-image-choices-loaded gf-image-choices-styles-loaded")},500);var a=e("#gform_"+o),c="undefined"!=typeof s?a.find("#gform_page_"+o+"_"+s):[],t=c.length?c.find(".image-choices-field .jetsloth-lazy"):a.find(".image-choices-field .jetsloth-lazy");t.each(function(){imageChoices.observer.observe(this)})}),e(document).bind("gform_post_conditional_logic",function(e,i,o,s){imageChoices.ConditionalLogic(i),imageChoices.SelectedFields(i)}),imageChoices.gformGetOptionLabel=function(i,o,s,a,c){if(i=e(i),i.closest(".gfield").hasClass("color-picker-field")&&"function"==typeof window.colorPicker_gformGetOptionLabel)return window.colorPicker_gformGetOptionLabel(i,o,s,a,c);var t=1===imageChoices.getFormMarkupVersion(a)?i.closest("li"):i.closest('div[class*="gchoice"]'),n=t.index(),l=gformGetPrice(o),r=i.attr("price"),h=i.html().replace(/<span(.*)<\/span>/i,"").replace(r,""),g=gformGetPriceDifference(s,l);g=0==gformToNumber(g)?"":" "+g,i.attr("price",g);var d="option"==i[0].tagName.toLowerCase()?" "+g:"<span class='ginput_price'>"+g+"</span>",f=h+d;return window.gform_format_option_label&&(f=gform_format_option_label(f,h,d,s,l,a,c,n)),f},window.imageChoices_gformGetOptionLabel=imageChoices.gformGetOptionLabel,window.gformGetOptionLabel=imageChoices.gformGetOptionLabel,imageChoices.gform_format_option_label=function(i,o,s,a,c,t,n,l){var r=[i],h=e("#gform_"+t+" .gfield#field_"+t+"_"+n);if(h.length&&h.hasClass("image-choices-field")){var g=1===imageChoices.getFormMarkupVersion(t)?h.find(".ginput_container li"):h.find('div[class*="gchoice"]'),d="undefined"!=typeof l&&l>=0?g.eq(l):g,f="undefined"!=typeof h.data("jetsloth-lazy-loaded")?h.data("jetsloth-lazy-loaded"):[];d.each(function(){var i=e(this),g=i.find("label"),d=(i.find("input"),""),m=""+t,p=window.hasOwnProperty("imageChoicesOptionLabels")&&window.imageChoicesOptionLabels.hasOwnProperty(m)?window.imageChoicesOptionLabels[m]:{},_="field_"+n,u=p.hasOwnProperty(_)?p[_]:[],C=i.index();u.length>C&&(d=u[C]);var b=g.data("img"),v=g.data("lightbox-src"),y=d;if("undefined"!=typeof o&&""!==o||""===y||(o=y),s===o&&(s=""),""!==s&&""===e(s).text()){var w=e("<div>"+s+"</div>").find(".ginput_price");w.length&&(s=w.append("+"+gformFormatMoney(c,!0)).html())}var k=h.hasClass("has-jetsloth-lazy"),x=k&&e.inArray(l,f)===-1,L=['<span class="image-choices-choice-image-wrap" style="background-image:url('+b+');">','<img src="'+b+'" class="image-choices-choice-image" alt="" data-lightbox-src="'+v+'" />',"</span>"].join("");if(x&&(L=['<span class="image-choices-choice-image-wrap jetsloth-lazy" data-lazy-bg="'+b+'">','<img src="" data-lazy-src="'+b+'" class="image-choices-choice-image jetsloth-lazy" alt="" data-lightbox-src="'+v+'" />',"</span>"].join("")),r=[L,'<span class="image-choices-choice-text">'+jetsloth_apply_filters("gfic_choice_text",o,a,c,t,n,l)+"</span>",'<span class="image-choices-choice-price">'+jetsloth_apply_filters("gfic_choice_price",s,a,c,t,n,l)+"</span>"],h.hasClass("image-choices-use-lightbox")&&i.find(".image-choices-lightbox-btn").length){var z=(o+"").replace(/[\\"']/g,"\\$&").replace(/\u0000/g,"\\0"),j=b,O=v;"undefined"!=typeof O&&""!==O||(O=j),""!==O&&i.find(".image-choices-lightbox-btn").attr("href",O).data("caption",z).attr("rel",n)}x&&setTimeout(function(){i.find(".jetsloth-lazy").each(function(){imageChoices.observer.observe(this)})},100)})}return jetsloth_apply_filters("gfic_choice_html",r.join(""),o,s,a,c,t,n,l)},window.imageChoices_gform_format_option_label=imageChoices.gform_format_option_label,window.gform_format_option_label=function(i,o,s,a,c,t,n,l){var r=e("#field_"+t+"_"+n);return r.length&&r.hasClass("color-picker-field")&&"function"==typeof window.colorPicker_gform_format_option_label?window.colorPicker_gform_format_option_label(i,o,s,a,c,t,n,l):imageChoices.gform_format_option_label(i,o,s,a,c,t,n,l)},imageChoices.onImageLoaded=function(i){var o=e(i);o.addClass("jetsloth-lazy-loaded");var s=o.closest(".gfield");if(s.length){var a=o.closest("li").index(),c="undefined"!=typeof s.data("jetsloth-lazy-loaded")?s.data("jetsloth-lazy-loaded"):[];c.push(a),s.data("jetsloth-lazy-loaded",c)}},imageChoices.loadImage=function(i){var o=e(i);if("undefined"!=typeof o.data("lazy-bg")&&""!==o.data("lazy-bg")){var s=new Image;s.onload=function(){o.css("background-image","url("+o.data("lazy-bg")+")"),imageChoices.onImageLoaded(o)},s.src=o.data("lazy-bg")}else"undefined"!=typeof o.data("lazy-src")&&""!==o.data("lazy-src")&&(o.on("load",function(){imageChoices.onImageLoaded(o)}),o.attr("src",o.data("lazy-src")))},imageChoices.lazyLoad=function(i){e.each(i,function(e,i){i.intersectionRatio>0&&(imageChoices.observer.unobserve(i.target),imageChoices.loadImage(i.target))})};var i={rootMargin:jetsloth_apply_filters("gfic_lazy_root_margin","100px"),threshold:jetsloth_apply_filters("gfic_lazy_threshold",1)};imageChoices.observer=new IntersectionObserver(imageChoices.lazyLoad,i)}(jQuery);