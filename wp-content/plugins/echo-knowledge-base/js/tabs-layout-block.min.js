(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.wp.components,o=window.wp.blockEditor,l=window.wp.serverSideRender;var a=e.n(l);const s=window.ReactJSXRuntime;(0,t.registerBlockType)("echo-knowledge-base/tabs-layout",{edit:function({attributes:e,setAttributes:t,name:l}){return epkb_tabs_layout_block_ui_config?function(e,t,l,r){const{select:i}=wp.data,c=i("core/editor").getEditedPostAttribute("template"),p=(0,o.useBlockProps)({onClickCapture:e=>{const t=e.target.closest("a");t&&t.closest(".eckb-block-editor-preview")&&!t.closest(".eckb-kb-no-content")&&e.preventDefault()}});function u(e){return"number"==typeof e?e:parseInt(e)}return(0,s.jsxs)("div",{...p,children:[(0,s.jsx)(o.InspectorControls,{children:(0,s.jsx)(n.Panel,{className:"epkb-block-editor-controls",children:(0,s.jsx)(n.TabPanel,{className:"epkb-block-editor-tabpanel",tabs:Object.entries(e).map((([e,t])=>({name:e,title:t.title,icon:t.icon,groups:t.groups}))),children:e=>(0,s.jsx)(React.Fragment,{children:Object.entries(e.groups).map((([e,{title:a,fields:r}])=>(0,s.jsx)(n.PanelBody,{title:a,className:"epkb-block-ui-section",children:Object.entries(r).map((([e,a])=>{if(!function(e){if(e.hide_on_dependencies){const n=Object.entries(e.hide_on_dependencies);let o=!0;return n.forEach((([e,n])=>{t[e]===n&&(o=!1)})),o}return!0}(a))return null;switch(a.setting_type){case"text":return(0,s.jsx)(n.TextControl,{label:a.label,value:t[e]||a.default,onChange:t=>l({[e]:t}),help:a.description||"",className:"epkb-block-ui-text-control"},e);case"number":return(0,s.jsx)(n.__experimentalNumberControl,{isShiftStepEnabled:!0,shiftStep:1,min:a.min,max:a.max,label:a.label,value:""===t[e]||Number.isNaN(parseInt(t[e]))?1:parseInt(t[e]),onChange:t=>l({[e]:""===t||Number.isNaN(parseInt(t))?1:parseInt(t)}),className:"epkb-block-ui-number-control"},e);case"color":return(0,s.jsx)(o.PanelColorSettings,{colorSettings:[{value:t[e],onChange:t=>l({[e]:t}),enableAlpha:!0,label:a.label}],className:"epkb-block-ui-color-control"},e);case"select_buttons_string":return(0,s.jsx)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:a.label,onChange:t=>l({[e]:t}),value:void 0!==t[e]?t[e]:a.default,className:"epkb-block-ui-select-buttons-control",children:Object.entries(a.options).map((([e,t])=>(0,s.jsx)(n.__experimentalToggleGroupControlOption,{label:t,value:e},e)))},e);case"select_buttons":return(0,s.jsx)(n.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,isBlock:!0,label:a.label,onChange:t=>l({[e]:u(t)}),value:void 0!==t[e]?u(t[e]):u(a.default),className:"epkb-block-ui-select-buttons-control",children:Object.entries(a.options).map((([e,t])=>(0,s.jsx)(n.__experimentalToggleGroupControlOption,{label:t,value:"number"==typeof e?e:parseInt(e)},e)))},e);case"toggle":return(0,s.jsx)(n.ToggleControl,{__nextHasNoMarginBottom:!0,label:a.label,checked:"on"===t[e],onChange:t=>l({[e]:t?"on":"off"}),className:"epkb-block-ui-toggle-control"},e);case"range":return(0,s.jsx)(n.RangeControl,{isShiftStepEnabled:!0,shiftStep:1,min:a.min,max:a.max,label:a.label,value:""===t[e]||Number.isNaN(parseInt(t[e]))?parseInt(a.default):parseInt(t[e]),onChange:t=>l({[e]:""===t||Number.isNaN(parseInt(t))?1:parseInt(t)}),className:"epkb-block-ui-range-control"},e);case"custom_dropdown":const r=t[e]||a.default,i=Object.values(a.options).find((e=>e.key===r));return(0,s.jsx)(n.CustomSelectControl,{__next40pxDefaultSize:!0,label:a.label,value:i,onChange:t=>l({[e]:t.selectedItem.key}),options:Object.entries(a.options).map((([e,t])=>({key:t.key,name:t.name,style:t.style}))),className:"epkb-block-ui-custom-dropdown-control"},e);case"dropdown":return(0,s.jsx)(n.CustomSelectControl,{__next40pxDefaultSize:!0,label:a.label,value:{key:t[e]||a.default,name:a.options[t[e]||a.default],style:{}},onChange:t=>l({[e]:t.selectedItem.key}),options:Object.entries(a.options).map((([e,t])=>({key:e,name:t,style:{}}))),className:"epkb-block-ui-dropdown-control"},e);case"box_control":const p={[a.side]:""===t[e]||Number.isNaN(parseInt(t[e]))?a.default:parseInt(t[e])};return(0,s.jsx)(n.__experimentalBoxControl,{__next40pxDefaultSize:!0,label:a.label,sides:a.side,inputProps:{min:u(a.min),max:u(a.max)},values:p,onChange:t=>l({[e]:""===t[a.side]||Number.isNaN(parseInt(t[a.side]))?a.default:parseInt(t[a.side])}),className:"epkb-block-ui-box-control"},e);case"box_control_combined":const b=Object.values(a.combined_settings).map((e=>e.side)),d=Object.fromEntries(Object.entries(a.combined_settings).map((([e,n])=>{const o=""===t[e]||Number.isNaN(parseInt(t[e]))?n.default:parseInt(t[e]);return[n.side,o]}))),m=Object.fromEntries(Object.entries(a.combined_settings).map((([e,t])=>[t.side,t.default])));return(0,s.jsx)(n.__experimentalBoxControl,{__next40pxDefaultSize:!0,label:a.label,sides:b,resetValues:m,inputProps:{min:u(a.min),max:u(a.max)},values:d,onChange:e=>{Object.entries(e).forEach((([e,t])=>{Object.entries(a.combined_settings).forEach((([n,o])=>{o.side===e&&l({[n]:""===t||Number.isNaN(parseInt(t))?a.combined_settings[n].default:parseInt(t)})}))}))},className:"epkb-block-ui-box-combined-control"},e);case"typography_controls":return(0,s.jsxs)(n.__experimentalToolsPanel,{label:a.label,resetAll:()=>{l({[e]:{...t[e],font_family:a.controls.font_family.default,font_size:a.controls.font_size.default,font_appearance:a.controls.font_appearance.default}})},className:"epkb-typography-controls",children:[(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>t[e].font_family!==a.controls.font_family.default,label:a.controls.font_family.label,onDeselect:()=>{l({[e]:{...t[e],font_family:a.controls.font_family.default}})},children:(0,s.jsx)(o.__experimentalFontFamilyControl,{__next40pxDefaultSize:!0,fontFamilies:Object.entries(a.controls.font_family.options).map((([e,t])=>({fontFamily:t,name:t,slug:t}))),onChange:n=>{const o={...t[e],font_family:n};l({[e]:o})},value:t[e].font_family||a.controls.font_family.default},e+"_font_family")}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>!0,label:a.controls.font_size.label,onDeselect:()=>{l({[e]:{...t[e],font_size:a.controls.font_size.default}})},isShownByDefault:!0,children:(0,s.jsx)(n.FontSizePicker,{fontSizes:Object.entries(a.controls.font_size.options).map((([e,t])=>({name:t.name,size:t.size,slug:e}))),value:t[e].font_size||a.controls.font_size.default,onChange:n=>{const o={...t[e],font_size:n};l({[e]:o})},disableCustomFontSizes:!1,withReset:!1,withSlider:!0,fallbackFontSize:a.controls.font_size.default},e+"_font_size")}),(0,s.jsx)(n.__experimentalToolsPanelItem,{hasValue:()=>t[e].font_appearance!==a.controls.font_appearance.default,label:a.controls.font_appearance.label,onDeselect:()=>{l({[e]:{...t[e],font_appearance:a.controls.font_appearance.default}})},children:(0,s.jsx)(n.CustomSelectControl,{__next40pxDefaultSize:!0,label:a.controls.font_appearance.label,value:(()=>{const n=t[e].font_appearance||a.controls.font_appearance.default;return{key:n,...a.controls.font_appearance.options[n]}})(),onChange:n=>{const o={...t[e],font_appearance:n.selectedItem.key};l({[e]:o})},options:Object.entries(a.controls.font_appearance.options).map((([e,t])=>({key:e,name:t.name,style:t.style})))},e+"_font_appearance")})]},e);case"section_description":return"show_for_non_kb_template"in a&&"kb-block-page-template"===c?null:(0,s.jsxs)("div",{className:"epkb-block-ui-section-description",children:[(0,s.jsx)("span",{children:a.description}),a.link_text.length>0?(0,s.jsx)("a",{href:a.link_url,children:a.link_text}):null]},e);default:return null}}))},e)))})})})}),(0,s.jsx)(a(),{block:r,attributes:t,urlQueryArgs:{is_editor_preview:1},httpMethod:"POST"})]})}(epkb_tabs_layout_block_ui_config,e,t,l):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{children:"Unable to load all assets."})})},save:function({attributes:e}){return o.useBlockProps.save(),null}}),function(e,t){const{unregisterBlockType:n,getBlockType:o}=e.blocks,{select:l,subscribe:a}=e.data;e.domReady((()=>{let e=!1;const s=a((()=>{if(e)return;let a=null;if(l("core/editor")&&"function"==typeof l("core/editor").getCurrentPostType&&(a=l("core/editor").getCurrentPostType()),a){if("page"===a)return e=!0,void s();if(o("echo-knowledge-base/"+t))try{n("echo-knowledge-base/"+t)}catch(e){}e=!0,s()}}))}))}(window.wp,"tabs-layout")})();