jQuery(document).ready(function(e){function t(){let t=e("#epkb-faq-wp-editor__faq-title");if(t.length){let a=t.val().length;a>200?(e(".epkb-faq-question-wp-editor__question .epkb-characters_left-counter").text(200),t.val(t.val().substring(0,200))):e(".epkb-faq-question-wp-editor__question .epkb-characters_left-counter").text(a)}}function a(a){if(T=setInterval(t,1e3),j={faq_id:0,title:"",content:""},e("#epkb-faq-wp-editor__faq-title").val(""),e("#epkb-faq-question-wp-editor").val(""),void 0===a||!a)return e("#epkb-faq-question-wp-editor-popup").addClass("epkb-faq-question-wp-editor-popup--active"),void o();p({action:"epkb_get_faq",_wpnonce_epkb_ajax_action:epkb_vars.nonce,faq_id:a},function(t){t.error||void 0===t.data||(e("#epkb-faq-question-wp-editor-popup").addClass("epkb-faq-question-wp-editor-popup--active"),j={faq_id:t.data.faq_id,title:t.data.title,content:t.data.content},o())})}function o(){if(!e("#epkb-faq-question-wp-editor-popup").hasClass("epkb-faq-question-wp-editor-popup--active"))return;let t=tinymce.get("epkb-faq-question-wp-editor");e("#epkb-faq-editor-id").val(j.faq_id),e("#epkb-faq-wp-editor__faq-title").val(j.title),t&&e(".wp-editor-wrap").hasClass("tmce-active")?t.setContent(j.content):e("#epkb-faq-question-wp-editor").val(j.content),e(".epkb-characters_left-counter").text(j.content.length+"")}function n(){e("#epkb-available-questions-container .epkb-faq-question:not(.epkb-faq-question--hide)").length?e("#epkb-available-questions-container .epkb-faq-questions-list-empty").removeClass("epkb-faq-questions-list-empty--active"):e("#epkb-available-questions-container .epkb-faq-questions-list-empty").addClass("epkb-faq-questions-list-empty--active"),e("#epkb-faq-group-form .epkb-faq-question").length?e("#epkb-faq-group-form .epkb-faq-questions-list-empty").removeClass("epkb-faq-questions-list-empty--active"):e("#epkb-faq-group-form .epkb-faq-questions-list-empty").addClass("epkb-faq-questions-list-empty--active"),e("#epkb-all-faqs-container .epkb-faq-question").length?e("#epkb-all-faqs-container .epkb-faq-questions-list-empty").removeClass("epkb-faq-questions-list-empty--active"):e("#epkb-all-faqs-container .epkb-faq-questions-list-empty").addClass("epkb-faq-questions-list-empty--active")}function i(){if(e("#epkb-available-questions-container .epkb-faq-question").length>1&&e("#epkb-available-questions-container .epkb-faq-question").sort(function(t,a){return e(t).find(".epkb-faq-question__title").text()>e(a).find(".epkb-faq-question__title").text()?1:-1}).appendTo("#epkb-available-questions-container .epkb-available-questions-body"),e("#epkb-all-faqs-container .epkb-faq-question").length>0)for(e("#epkb-all-faqs-container .epkb-faq-question").sort(function(t,a){return e(t).find(".epkb-faq-question__title").text()>e(a).find(".epkb-faq-question__title").text()?1:-1}).appendTo("#epkb-all-faqs-container .epkb-body-col--right");e("#epkb-all-faqs-container .epkb-body-col--left .epkb-faq-question").length<e("#epkb-all-faqs-container .epkb-body-col--right .epkb-faq-question").length;)e(e("#epkb-all-faqs-container .epkb-body-col--right .epkb-faq-question")[0]).appendTo(e("#epkb-all-faqs-container .epkb-body-col--left"))}function c(){if(e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container").length>0)for(e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container").sort(function(t,a){return e(t).find(".epkb-faq-group-head__title").text()>e(a).find(".epkb-faq-group-head__title").text()?1:-1}).appendTo("#epkb-admin__boxes-list__faqs-groups .epkb-body-col--right");e("#epkb-admin__boxes-list__faqs-groups .epkb-body-col--left .epkb-faq-group-container").length<e("#epkb-admin__boxes-list__faqs-groups  .epkb-body-col--right .epkb-faq-group-container").length;)e(e("#epkb-admin__boxes-list__faqs-groups .epkb-body-col--right .epkb-faq-group-container")[0]).appendTo(e("#epkb-admin__boxes-list__faqs-groups  .epkb-body-col--left"));if(e("#epkb-admin__boxes-list__faq-shortcodes .epkb-faq-group").length>0)for(e("#epkb-admin__boxes-list__faq-shortcodes .epkb-faq-group").sort(function(t,a){return e(t).find(".epkb-faq-group__title").text()>e(a).find(".epkb-faq-group__title").text()?1:-1}).appendTo("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--right");e("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--left .epkb-faq-group").length<e("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--right .epkb-faq-group").length;)e(e("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--right .epkb-faq-group")[0]).appendTo(e("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--left"))}function s(){let t=[];e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container").each(function(){t.push(e(this).data("faq-group-id"))});let a=e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text().replaceAll(/group_ids="(.*?)"/g,'group_ids="'+t.join(",")+'"');e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text(a)}function p(t,a,o,n,i,c){let s,p;a=void 0===a?"epkb_callback_noop":a,e.ajax({type:"POST",dataType:"json",data:t,url:ajaxurl,beforeSend:function(e){void 0!==c&&!1!==c||r("show",""),"object"==typeof c&&r("show","")}}).done(function(e){((p=e||"").error||void 0===p.message)&&(s=p.message?p.message:d("",epkb_vars.reload_try_again,"error"))}).fail(function(e,t,a){s=a?" ["+a+"]":epkb_vars.unknown_error,s=d(epkb_vars.error_occurred+". "+epkb_vars.msg_try_again,s,"error")}).always(function(){if(p=void 0===p?"":p,"function"==typeof i&&i(p),n||r("remove",""),s)return e(".eckb-bottom-notice-message").remove(),e("body").append(s).removeClass("fadeOutDown"),void setTimeout(function(){e(".eckb-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof a?void 0===o?a(p):a(p,o):n&&location.reload()})}function r(t,a){if("show"===t){let t='<div class="epkb-admin-dialog-box-loading"><div class="epkb-admin-dbl__header"><div class="epkb-admin-dbl-icon epkbfa epkbfa-hourglass-half"></div>'+(a?'<div class="epkb-admin-text">'+a+"</div>":"")+'</div></div><div class="epkb-admin-dialog-box-overlay"></div>';e("body").append(t)}else"remove"===t&&(e(".epkb-admin-dialog-box-loading").remove(),e(".epkb-admin-dialog-box-overlay").remove())}function d(e,t,a){return'<div class="eckb-bottom-notice-message"><div class="contents"><span class="'+a+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="epkb-close-notice epkbfa epkbfa-window-close"></div></div>'}function _(t,a=""){e(".eckb-bottom-notice-message").remove(),e("body").append(d(a,t,"success")),setTimeout(function(){e(".eckb-bottom-notice-message").addClass("fadeOutDown")},1e4)}function l(){var t=e("body").find(".eckb-bottom-notice-message");t.length&&(t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3))}function b(){e(".eckb-bottom-notice-message").length>0&&(clearTimeout(w),w=setTimeout(function(){l()},1e4))}function k(t){let a=e(t).data("target"),o=e(t).closest(".epkb-admin__form"),n=o.find(".epkb-admin__form-sub-tabs--"+a+" .epkb-admin__form-sub-tab").first();o.find(".epkb-admin__form-tab").removeClass("epkb-admin__form-tab--active"),o.find(".epkb-admin__form-tab-wrap").removeClass("epkb-admin__form-tab-wrap--active"),e(t).addClass("epkb-admin__form-tab--active"),o.find(".epkb-admin__form-tab-wrap--"+a).addClass("epkb-admin__form-tab-wrap--active"),n.length?m(n):(o.find(".epkb-admin__form-sub-tab").removeClass("epkb-admin__form-sub-tab--active"),o.find(".epkb-admin__form-sub-tab-wrap").removeClass("epkb-admin__form-sub-tab-wrap--active")),window.location.hash="#settings__"+a}function m(t){let a=t.closest(".epkb-admin__form"),o=e(t).closest(".epkb-admin__form-sub-tabs").data("tab-key"),n=t.length?t.data("target"):"";a.find(".epkb-admin__form-tab").removeClass("epkb-admin__form-tab--active"),a.find(".epkb-admin__form-tab-wrap").removeClass("epkb-admin__form-tab-wrap--active"),e('.epkb-admin__form-tab[data-target="'+o+'"]').addClass("epkb-admin__form-tab--active"),a.find(".epkb-admin__form-tab-wrap--"+o).addClass("epkb-admin__form-tab-wrap--active");let i=t.data("target"),c=a.find(".epkb-admin__form-sub-tab-wrap--"+i);a.find(".epkb-admin__form-sub-tab").removeClass("epkb-admin__form-sub-tab--active"),a.find(".epkb-admin__form-sub-tab-wrap").removeClass("epkb-admin__form-sub-tab-wrap--active"),t.addClass("epkb-admin__form-sub-tab--active"),c.addClass("epkb-admin__form-sub-tab-wrap--active"),window.location.hash="#settings__"+o+(n.length?"__"+n:"")}function f(t,a){let o=e(".epkb-admin__kb__form-save__button").closest(".epkb-admin__form");if(!o.length)return;let n={};return"undefined"!=typeof tinyMCE&&tinyMCE.triggerSave(),o.find("input, select, textarea").each(function(){return!(e(this).attr("name")&&e(this).attr("name").length&&!e(this).closest(".epkb-input-group").find(".epkb__option-pro-tag").length&&!e(this).closest(".epkb-input-group").find(".epkb__option-pro-tag-container").length)||("checkbox"===e(this).attr("type")?(e(this).closest(".epkb-admin__checkboxes-multiselect").length?e(this).prop("checked")&&(n[e(this).attr("name")]||(n[e(this).attr("name")]=[]),n[e(this).attr("name")].push(e(this).val())):n[e(this).attr("name")]=e(this).prop("checked")?"on":"off",!0):"radio"===e(this).attr("type")?(e(this).prop("checked")&&(n[e(this).attr("name")]=e(this).val()),!0):void 0===e(this).attr("name")||void(n[e(this).attr("name")]=e(this).val()))}),e('[name="faq_group_ids"]').length&&void 0===n.faq_group_ids&&(n.faq_group_ids=0),n.epkb_kb_id=e("#epkb-list-of-kbs").val(),e("#modular_main_page_toggle").length||e('.epkb-admin__form-tab-content--module-selection [data-value="search"].epkb-input-custom-dropdown__option--selected').length||!e('[name="article_search_sync_toggle"]:checked').length||(a=!0),p({action:"epkb_apply_settings_changes",_wpnonce_epkb_ajax_action:epkb_vars.nonce,epkb_kb_id:n.epkb_kb_id,kb_config:JSON.stringify(n)},function(t){e(".eckb-top-notice-message").remove(),void 0!==n.kb_name&&e('#epkb-list-of-kbs option[value="'+n.epkb_kb_id+'"]').html(n.kb_name),e("#editor_backend_mode1").length&&e("#editor_backend_mode1").prop("checked")?e("[data-open-editor-link]").data("open-editor-link","back"):e("[data-open-editor-link]").data("open-editor-link","front"),a?location.reload():(void 0!==t.message&&(l(),e("body").append(t.message)),b())},void 0,a),!1}function u(t){let a=e("#"+t);a.length&&a.hasClass("eckb-conditional-setting-input")&&setTimeout(function(){a.trigger("click")},1)}function g(){e("#toc_left, #toc_right").each(function(){parseInt(e(this).val())>0&&e(this).val("0").trigger("change")})}function h(t){let a=!1;return 0===parseInt(e("#toc_"+t).val())&&(e("#toc_"+t).val("3").trigger("change"),a=!0),a}function v(t){let a=e(t).val();e(t).closest(".epkb-admin__form-sub-tab-wrap").find(".epkb-admin__form-tab-content--module-box:not(.epkb-admin__form-tab-content--"+a+"-box)").addClass("epkb-admin__form-tab-content--hide");let o=e(t).closest(".epkb-admin__form-tab-wrap").find(".epkb-admin__form-tab-content--"+a+"-box");o.length&&(e(o.get().reverse()).each(function(){e(this).removeClass("epkb-admin__form-tab-content--hide");let a=e(this).data("insert-box-after");e(t).closest(".epkb-admin__form-sub-tab-wrap").find(a).after(this)}),"categories_articles"===a&&e('[name="kb_main_page_layout"]:checked').trigger("click"))}function q(e){A.removeClass("epkb-feature--active").eq(e).addClass("epkb-feature--active")}var y=e("#ekb-admin-page-wrap");e(y).find(".epkb-admin__content").length>0&&e("#wpwrap").addClass("epkb-admin__wpwrap");let w=!1,C=e("#epkb-admin-page-reload-confirmation");e("#epkb-list-of-kbs").on("change",function(t){let a=e(this).find("option:selected");if("core"!==a.attr("data-plugin"))return;if("closed"===a.val())return void(window.location=a.attr("data-target"));let o=window.location.href;if("archived"===e(this).val()){let e=window.location.href.split("#");return void(window.location=e[0]+"&archived-kbs=on")}o=o.replaceAll("&archived-kbs=on","").replaceAll("&epkb_after_kb_setup","");let n=a.attr("data-link");if(void 0!==n&&n.length>0)return window.open(n,"_blank"),void e(this).val(e(this).attr("data-active-kb-id")).trigger("change");let i=e(this).attr("data-active-kb-id"),c=e(this).val();if(c){e(this).attr("data-active-kb-id",c);const t=new Date;t.setTime(t.getTime()+864e5),document.cookie="eckb_kb_id="+c+";expires="+t.toUTCString(),window.location.href=o.replaceAll("epkb_post_type_"+i,"epkb_post_type_"+c)}}),e("#epkb_save_access_control").on("click",function(){p({action:"epkb_save_access_control",_wpnonce_epkb_ajax_action:epkb_vars.nonce,epkb_kb_id:e("#epkb-list-of-kbs").val(),admin_eckb_access_need_help_read:e('#admin_eckb_access_need_help_read input[type="radio"]:checked').val(),admin_eckb_access_search_analytics_read:e('#admin_eckb_access_search_analytics_read input[type="radio"]:checked').val(),admin_eckb_access_addons_news_read:e('#admin_eckb_access_addons_news_read input[type="radio"]:checked').val(),admin_eckb_access_order_articles_write:e('#admin_eckb_access_order_articles_write input[type="radio"]:checked').val(),admin_eckb_access_frontend_editor_write:e('#admin_eckb_access_frontend_editor_write input[type="radio"]:checked').val(),admin_eckb_access_faqs_write:e('#admin_eckb_access_faqs_write input[type="radio"]:checked').val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message)),b()})}),e("#epkb-admin__boxes-list__tools .epkb-kbnh__feature-links .epkb-primary-btn").on("click",function(){let t=e(this).prop("id");return"epkb_core_export"==t?(e("form.epkb-export-kbs").submit(),!1):0!=e(".epkb-kbnh__feature-panel-container--"+t).length&&(e(this).closest(".epkb-setting-box__list").find(".epkb-kbnh__feature-container").css({display:"none"}),e(this).closest(".epkb-setting-box__list").find(".epkb-kbnh__feature-panel-container--"+t).css({display:"block"}),!1)}),e(document).on("epkb_hide_export_import_panels",function(){e("#epkb-admin__boxes-list__tools .epkb-setting-box__list>.epkb-kbnh__feature-container").css({display:"flex"}),e("#epkb-admin__boxes-list__tools .epkb-setting-box__list>.epkb-kbnh__feature-panel-container").css({display:"none"})}),e(".epkb-kbnh-back-btn").on("click",function(){return e(document).trigger("epkb_hide_export_import_panels"),!1}),e(".epkb-admin__top-panel__item").on("click",function(){if(e(this).hasClass("epkb-admin__top-panel__item--active")){let t=e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item--active").length?e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item--active"):e(e("epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item")[0]);return void setTimeout(function(){t.trigger("click")},100)}let t=e(this).attr("data-target");e(".epkb-admin__top-panel__item").removeClass("epkb-admin__top-panel__item--active"),e(this).addClass("epkb-admin__top-panel__item--active"),e(".epkb-admin__boxes-list").removeClass("epkb-admin__boxes-list--active"),e("#epkb-admin__boxes-list__"+t).addClass("epkb-admin__boxes-list--active"),e(".epkb-admin__secondary-panel").removeClass("epkb-admin__secondary-panel--active");let a=e("#epkb-admin__secondary-panel__"+t).addClass("epkb-admin__secondary-panel--active"),o=a.find(".epkb-admin__secondary-panel__item--active").length?a.find(".epkb-admin__secondary-panel__item--active"):e(a.find(".epkb-admin__secondary-panel__item")[0]);setTimeout(function(){o.trigger("click")},100);let n=this;setTimeout(function(){"eckb_license_tab"===e(n).attr("id")&&e("#eckb_license_tab").trigger("click")},100),"features"!==t||e(this).hasClass("epkb-admin__flag--visited")||e.ajax({type:"POST",dataType:"json",data:{action:"epkb_features_tab_visited",_wpnonce_epkb_ajax_action:epkb_vars.nonce},url:ajaxurl}).done(function(){e("#epkb-admin__step-cta-box__features .epkb-admin__step-cta-box__header").after('<span class="epkb-admin__step-cta-box__content__icon epkbfa epkbfa-check-circle"></span>')}),window.location.hash="#"+t}),e(document).on("click",".epkb-main-page-editor-link a, .epkb-article-page-editor-link a, .epkb-archive-page-editor-link a, .epkb-search-page-editor-link a",function(t){if(0==e("[name=editor_backend_mode]:checked").length||0==e("[name=editor_backend_mode]:checked").val())return!0;let a=e(this).prop("href");return e("body").append(`\n\t\t\t<div class="epkb-editor-popup" id="epkb-editor-popup">\n\t\t\t\t<iframe src="${a}" ></iframe>\n\t\t\t</div>\n\t\t`),t.stopPropagation(),!1}),e("body").on("click",".epkb-editor-popup",function(e){e.stopPropagation()}),setTimeout(function(){e("body").on("click",function(){e(".epkb-editor-popup").remove()})},3e3),function(){let t=window.location.href.split("#");if(1===t.length)return void e(e(".epkb-admin__top-panel__item")[0]).trigger("click");let a=t[1].split("__");if(0===a.length)return;let o=e('.epkb-admin__top-panel__item[data-target="'+a[0]+'"]');if(0===o.length)return void e(e(".epkb-admin__top-panel__item")[0]).trigger("click");e(o[0]).trigger("click");let n="settings"===a[0]&&a.length>1?e('.epkb-admin__form-tab[data-target="'+a[1]+'"]'):"";if(n.length){k(n);let t=a.length>2?e('.epkb-admin__form-sub-tab[data-target="'+a[2]+'"]'):"";if(t.length&&m(t),a.length>2&&a[2].indexOf("module--")>-1){let o=a[2].replace("module--","");(t=e('.epkb-admin__form-sub-tab[data-selected-module="'+o+'"]')).length&&m(t)}if(a.length>3&&a[3].length){let t=a[3].split("--"),o="",n=e(".epkb-admin__form-sub-tab-wrap--active").length?".epkb-admin__form-sub-tab-wrap--active":".epkb-admin__form-tab-wrap--active";e.each(t,function(e,t){o+=n+' .epkb-admin__form-tab-content[data-target="'+t+'"], '}),o=o.slice(0,-2);let i=e(o);i.length&&setTimeout(function(){e([document.documentElement,document.body]).animate({scrollTop:e(i[0]).offset().top-50},700),i.addClass("epkb-highlighted_config_box")},200)}return void(a.length>4&&e(".epkb-"+a[4]+"-link a").trigger("click"))}let i='.epkb-admin__secondary-panel__item[data-target="'+t[1]+'"]',c=a.length>1&&a[1].length&&e(i).length?e(i):e(".epkb-admin__secondary-panel--active").find(".epkb-admin__secondary-panel__item")[0];setTimeout(function(){e(c).trigger("click")},100)}(),e(".epkb-admin__secondary-panel__item").on("click",function(){if(e(this).hasClass("epkb-admin__secondary-panel__item--active"))return void(window.location.hash="#"+e(this).attr("data-target"));let t=e(this).attr("data-target"),a=t.split("__")[0];e("#epkb-admin__secondary-panel__"+a).find(".epkb-admin__secondary-panel__item").removeClass("epkb-admin__secondary-panel__item--active"),e(this).addClass("epkb-admin__secondary-panel__item--active"),e("#epkb-admin__boxes-list__"+a).find(".epkb-setting-box__list").removeClass("epkb-setting-box__list--active"),e("#epkb-setting-box__list-"+t).addClass("epkb-setting-box__list--active"),window.location.hash="#"+t}),function(){function t(t,a){y.find(t+" > .nav_tab").on("click",function(){y.find(t+" > .nav_tab").removeClass("active"),e(this).addClass("active"),y.find(a+" > .ekb-admin-page-tab-panel").removeClass("active");var o=e(this).index()+1;y.find(a+" > .ekb-admin-page-tab-panel:nth-child( "+o+" ) ").addClass("active")})}t(".add_on_container .epkb-main-nav > .epkb-admin-pages-nav-tabs","#add_on_panels"),t(".epkb-main-nav > .epkb-admin-pages-nav-tabs","#main_panels"),t("#help_tabs_nav","#help_tab_panel"),t("#new_features_tabs_nav","#new_features_tab_panel")}(),e(".epkb-header__tab").on("click",function(t){let a=e(this).attr("id");e(".epkb-header__tab").removeClass("epkb-header__tab--active"),e(".epkb-content__tab").removeClass("epkb-content__tab--active"),e(this).addClass("epkb-header__tab--active"),e("#"+a+"_content").addClass("epkb-content__tab--active")}),y.find("#epkb-delete-all-data__form").on("submit",function(t){t.preventDefault(),e("#epkb-editor-delete-warning").addClass("epkb-dialog-box-form--active")}),e("#epkb-editor-delete-warning .epkb-dbf__footer__accept").on("click",function(){e("#epkb-editor-delete-warning").removeClass("epkb-dialog-box-form--active");let t=e("#epkb-delete-all-data__form");p({action:"epkb_delete_all_kb_data",_wpnonce_epkb_ajax_action:epkb_vars.nonce,delete_text:t.find('input[name="epkb_delete_text"]').val()},function(e){e.error||void 0===e.message||(_(e.message),y.find(".epkb-delete-all-data__message").show(),t.hide())})}),y.find("#epkb_toggle_debug").on("click",function(){e(".eckb-top-notice-message").html("");p({action:"epkb_toggle_debug",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),y.find("#epkb_show_logs").on("click",function(){e(".eckb-top-notice-message").html("");p({action:"epkb_show_logs",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),y.find("#epkb_reset_logs").on("click",function(){e(".eckb-top-notice-message").html("");p({action:"epkb_reset_logs",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),y.find("#epkb_enable_advanced_search_debug").on("click",function(){e(".eckb-top-notice-message").html("");p({action:"epkb_enable_advanced_search_debug",_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(){location.reload()})}),y.find("#epkb_reset_sequence").on("click",function(){e(".eckb-top-notice-message").html("");p({action:"epkb_reset_sequence",epkb_kb_id:e("#epkb-list-of-kbs").val(),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message)),b()})}),y.find("#epkb_show_sequence").on("click",function(){e(".eckb-top-notice-message").html(""),e(".epkb-show-sequence-wrap").html("");return p({action:"epkb_show_sequence",epkb_kb_id:e("#epkb-list-of-kbs").val(),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message),b()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)}),!1}),y.find(".featured_img").on("click",function(t){t.preventDefault(),t.stopPropagation(),y.find(".image_zoom").remove();var a,o=e(this).find("img");a=o.length>1?e(o[0]).is(":visible")?e(o[0]).attr("src"):e(o[1]).is(":visible")?e(o[1]).attr("src"):e(o[2]).attr("src"):e(this).find("img").attr("src"),e(this).after('<div id="epkb_image_zoom" class="image_zoom"><img src="'+a+'" class="image_zoom"><span class="close icon_close"></span></div>'),e("html, body").on("click.epkb",function(){e("#epkb_image_zoom").remove(),e("html, body").off("click.epkb")})}),e("#add_on_panels").on("click",".ep_font_icon_info",function(){e(this).parent().find(".ep_font_icon_info_content").toggle()}),e("#search_query_param").on("keyup",function(t){let a=e(this).val();a.match(/^[a-zA-Z0-9-_]*$/)||e(this).val(a.replace(/[^a-zA-Z0-9-_]/g,""))}),e("#epkb-search-query-parameter__form").on("submit",function(t){let a=e(this);return p({action:"eckb_update_query_parameter",_wpnonce_epkb_ajax_action:epkb_vars.nonce,search_query_param:a.find('input[name="search_query_param"]').val(),epkb_kb_id:e("#epkb-list-of-kbs").val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message)),b()}),!1}),e(".epkb-copy-to-clipboard-box-container .epkb-ctc__copy-button").on("click",function(t){t.preventDefault();let a=document.createElement("textarea"),o=e(this).closest(".epkb-copy-to-clipboard-box-container");a.value=o.find(".epkb-ctc__embed-code").text(),a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select(),document.execCommand("copy"),a.remove(),o.find(".epkb-ctc__embed-code").css({opacity:0}),o.find(".epkb-ctc__embed-notification").fadeIn(200),setTimeout(function(){o.find(".epkb-ctc__embed-code").css({opacity:1}),o.find(".epkb-ctc__embed-notification").hide()},1500)});var x=e(".epkb-analytics-page-container");x.find(".page-icon").on("click",function(){if(!e(this).closest(".eckb-nav-section").hasClass("epkb-active-nav")){x.find(".eckb-config-content").removeClass("epkb-active-content"),x.find(".eckb-nav-section").removeClass("epkb-active-nav");var t=e(this).attr("id");x.find("#"+t+"-content").addClass("epkb-active-content"),x.find(this).parents(".eckb-nav-section").addClass("epkb-active-nav")}});let T=!1,j={faq_id:0,title:"",content:""};if(e(document).on("click","#epkb-faq-create-group",function(){let t=e("#epkb-faq-group-form"),a=t.data("default-faq-group-id"),o=t.data("default-faq-group-name");t.data("faq-group-id",a),t.find(".epkb-faq-group-form-head__title").html(o),t.find('[name="faq-group-name"]').val(o),t.find(".epkb-faq-questions-list").html(""),t.addClass("epkb-faq-group-form--active"),e("#epkb-available-questions-container").addClass("epkb-available-questions-container--active"),e("#epkb-faq-groups-list").addClass("epkb-faq-groups-list--hide")}),e(document).on("click","#epkb-faq-group-form .epkb-delete-icon",function(){let t=e("#epkb-faq-group-form"),a={action:"epkb_delete_faq_group",_wpnonce_epkb_ajax_action:epkb_vars.nonce},o=t.data("faq-group-id");a.faq_group_id=o,p(a,function(a){a.error||void 0===a.message||(_(a.message),e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container--"+o).remove(),e("#epkb-admin__boxes-list__faq-shortcodes .epkb-faq-group--"+o).remove(),c(),s()),t.removeClass("epkb-faq-group-form--active"),e("#epkb-available-questions-container").removeClass("epkb-available-questions-container--active"),e("#epkb-faq-groups-list").removeClass("epkb-faq-groups-list--hide")})}),e(document).on("click","#epkb-kb-faqs-page-container .epkb-faq-group-container .epkb-faq-group-head__edit",function(){let t=e("#epkb-faq-group-form"),a=e("#epkb-available-questions-container"),o=e(this).closest(".epkb-faq-group-container"),i=o.data("faq-group-id"),c=o.find(".epkb-faq-group-head__title").html();t.data("faq-group-id",i),t.find(".epkb-faq-group-form-head__title").html(c),t.find('[name="faq-group-name"]').val(c),t.find(".epkb-faq-questions-list").html(""),o.find(".epkb-faq-question").each(function(){let o=e(this).data("faq-id"),n=a.find(".epkb-faq-question--"+o).clone();a.find(".epkb-faq-question--"+o).addClass("epkb-faq-question--hide"),n.find(".epkb-faq-question__action-include").remove(),t.find(".epkb-faq-questions-list").append(n)}),n(),t.addClass("epkb-faq-group-form--active"),a.addClass("epkb-available-questions-container--active"),e("#epkb-faq-groups-list").addClass("epkb-faq-groups-list--hide")}),e(document).on("click","#epkb-faq-group-form .epkb-faq-group-form-head__close",function(){e("#epkb-faq-group-form").removeClass("epkb-faq-group-form--active"),e("#epkb-available-questions-container").removeClass("epkb-available-questions-container--active"),e("#epkb-available-questions-container .epkb-faq-question").removeClass("epkb-faq-question--hide"),e("#epkb-faq-groups-list").removeClass("epkb-faq-groups-list--hide")}),e(document).on("click","#epkb-faq-group-form .epkb-faq-group-form-head__save",function(){let t=e("#epkb-faq-group-form"),a={action:"epkb_save_faq_group",_wpnonce_epkb_ajax_action:epkb_vars.nonce};a.faq_group_id=t.data("faq-group-id"),a.faq_group_name=t.find('[name="faq-group-name"]').val(),a.faqs_order_sequence=[],t.find(".epkb-faq-question").each(function(){a.faqs_order_sequence.push(e(this).data("faq-id"))}),p(a,function(a){a.error||void 0===a.message||_(a.message),a.faq_group_id&&(e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container--"+a.faq_group_id).length?e("#epkb-admin__boxes-list__faqs-groups .epkb-faq-group-container--"+a.faq_group_id).replaceWith(a.faq_group_html):e("#epkb-admin__boxes-list__faqs-groups .epkb-body-col--right").append(a.faq_group_html),e("#epkb-admin__boxes-list__faq-shortcodes .epkb-faq-group--"+a.faq_group_id).length?e("#epkb-admin__boxes-list__faq-shortcodes .epkb-faq-group--"+a.faq_group_id).replaceWith(a.shortcode_group_html):e("#epkb-admin__boxes-list__faq-shortcodes .epkb-body-col--right").append(a.shortcode_group_html),t.data("faq-group-id",a.faq_group_id),t.find('[name="faq-group-name"]').val(a.faq_group_name),t.find(".epkb-faq-group-form-head__title").html(a.faq_group_name),c(),s())})}),e(document).on("click","#epkb-available-questions-container .epkb-faq-question",function(){let t=e(this).clone();t.find(".epkb-faq-question__action-include").remove(),e("#epkb-faq-group-form .epkb-faq-questions-list").prepend(t),e(this).addClass("epkb-faq-question--hide"),n()}),e("#epkb-faq-group-form .epkb-faq-questions-list").sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,handle:".epkb-faq-question__action-order",opacity:.8,placeholder:"epkb-sortable-placeholder"}),e(document).on("click","#epkb-faq-question-wp-editor-popup .epkb__help_editor__action__remove-from-group",function(t){t.preventDefault(),t.stopPropagation();let a=e("#epkb-faq-question-wp-editor-popup"),o=a.find('[name="faq-id"]').val();return e("#epkb-faq-group-form .epkb-faq-questions-list .epkb-faq-question--"+o).remove(),e("#epkb-available-questions-container .epkb-faq-question--"+o).removeClass("epkb-faq-question--hide"),n(),a.removeClass("epkb-faq-question-wp-editor-popup--active"),!1}),e(document).on("input",'#epkb-faq-group-form [name="faq-group-name"]',function(){e("#epkb-faq-group-form .epkb-faq-group-form-head__title").html(e(this).val())}),e(document).on("click","#epkb-faq-create-question",function(){a()}),e(document).on("click","#epkb-faq-group-form .epkb-faq-question__action-edit",function(){e(".epkb-faq-question-wp-editor__action__delete").removeClass("epkb-faq-question-wp-editor__action__delete--active"),e(".epkb__help_editor__action__remove-from-group").addClass("epkb__help_editor__action__remove-from-group--active"),a(e(this).closest(".epkb-faq-question").data("faq-id"))}),e(document).on("click","#epkb-all-faqs-container .epkb-faq-question__action-edit",function(){e(".epkb-faq-question-wp-editor__action__delete").addClass("epkb-faq-question-wp-editor__action__delete--active"),e(".epkb__help_editor__action__remove-from-group").removeClass("epkb__help_editor__action__remove-from-group--active"),a(e(this).closest(".epkb-faq-question").data("faq-id"))}),e(document).on("click","#epkb-faq-question-wp-editor-popup .epkb__help_editor__action__cancel, .epkb-faq-question-wp-editor__overlay",function(t){return t.preventDefault(),clearInterval(T),e("#epkb-faq-question-wp-editor-popup").removeClass("epkb-faq-question-wp-editor-popup--active"),!1}),e(document).on("submit","#epkb-faq-question-wp--form",function(a){a.preventDefault(),t(),tinyMCE.triggerSave(),j.faq_id=e("#epkb-faq-editor-id").val(),j.title=e("#epkb-faq-wp-editor__faq-title").val(),j.content=e("#epkb-faq-question-wp-editor").val();let o={action:"epkb_save_faq",_wpnonce_epkb_ajax_action:epkb_vars.nonce};return o.faq_id=j.faq_id,o.faq_title=j.title,o.faq_content=j.content,p(o,function(t){t.error||void 0===t.message||(_(t.message),e("#epkb-kb-faqs-page-container .epkb-faq-question--"+t.data.faq_id).length?e("#epkb-kb-faqs-page-container .epkb-faq-question--"+t.data.faq_id+" .epkb-faq-question__title").text(t.data.title):(e("#epkb-available-questions-container .epkb-available-questions-body").append(t.data.faq_html),e("#epkb-all-faqs-container .epkb-body-col--left").append(t.data.faq_html),e("#epkb-all-faqs-container .epkb-faq-question--"+t.data.faq_id).find(".epkb-faq-question__action-include, .epkb-faq-question__action-order").remove()),i(),n(),e("#epkb-faq-question-wp-editor-popup").removeClass("epkb-faq-question-wp-editor-popup--active"))}),!1}),e(document).on("click","#epkb-kb-faqs-page-container #epkb_delete_faq",function(t){t.preventDefault(),t.stopPropagation();let a=e("#epkb-faq-question-wp-editor-popup"),o=a.find('[name="faq-id"]').val();return p({action:"epkb_delete_faq",_wpnonce_epkb_ajax_action:epkb_vars.nonce,faq_id:o},function(t){t.error||void 0===t.message||(_(t.message),e("#epkb-kb-faqs-page-container .epkb-faq-question--"+o).remove(),i(),n(),a.removeClass("epkb-faq-question-wp-editor-popup--active"))}),!1}),e(document).on("change","#faq_shortcode_preset input",function(t){let a=e(this).val(),o=e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text();parseInt(a)!==parseInt(e(this).closest(".epkb-input-group").data("default-value"))?o.indexOf('design="')>=0?e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text(o.replaceAll(/design="(.*?)"/g,'design="'+a+'"')):e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text(o.replaceAll("]",' design="'+a+'"]')):e("#epkb-faq-shortcode-container .epkb-ctc__embed-code").text(o.replaceAll(/\sdesign="(.*?)"/g,""))}),e(".epkb-categories-icons").length){e(".epkb-categories-icons__button").on("click",function(){if(!e(this).hasClass("epkb-categories-icons__button--active")){e(".epkb-categories-icons__button").removeClass("epkb-categories-icons__button--active"),e(this).addClass("epkb-categories-icons__button--active"),e(".epkb-categories-icons__tab-body").slideUp("fast");var t=e(this).data("type");e(".epkb-categories-icons__tab-body--"+t).length&&e(".epkb-categories-icons__tab-body--"+t).slideDown("fast"),e("#epkb_head_category_icon_type").val(t)}}),e(".epkb-icon-pack__icon").on("click",function(){e(".epkb-icon-pack__icon").removeClass("epkb-icon-pack__icon--checked"),e(this).addClass("epkb-icon-pack__icon--checked"),e("#epkb_head_category_icon_name").val(e(this).data("key"))}),e(".epkb-category-image__button").on("click",function(t){t.preventDefault();var a=e(this),o=wp.media({title:a.data("title"),library:{type:"image"},multiple:!1}).on("select",function(){var t=o.state().get("selection").first().toJSON();e("#epkb_head_category_icon_image").val(t.id),e(".epkb-category-image__button").removeClass("epkb-category-image__button--no-image"),e(".epkb-category-image__button").addClass("epkb-category-image__button--have-image"),e(".epkb-category-image__button").css({"background-image":"url("+t.url+")"})}).open()}),e("#parent").on("change",function(){var t,a,o=e(this),n=e("#epkb_head_category_template").val(),i=!1;o.find("option").each(function(){e(this).val()==o.val()&&(a=e(this))}),t="-1"==a.val()?1:a.hasClass("level-0")?2:3,"Tabs"==n?2!==t&&(i=!0):"Sidebar"==n?i=!0:t>1&&(i=!0),i?(e(".epkb-categories-icons").hide(),e(".epkb-categories-icons+.epkb-term-options-message").show()):(e(".epkb-categories-icons").show(),e(".epkb-categories-icons+.epkb-term-options-message").hide())});function z(){e("#epkb_font_icon").trigger("click"),e("#epkb_head_category_thumbnail_size").val(e("#epkb_head_category_thumbnail_size").find("option").eq(0).val()),e(".epkb-category-image__button").addClass("epkb-category-image__button--no-image"),e(".epkb-category-image__button").removeClass("epkb-category-image__button--have-image"),e(".epkb-category-image__button").css({"background-image":""}),e("#epkb_head_category_icon_image").val(0)}e(document).ajaxComplete(function(t,a,o){if(!o)return;let n,i=o.data.split("&");for(n=0;n<i.length;n++)sParameterName=i[n].split("="),"action"===sParameterName[0]&&"add-tag"===sParameterName[1]&&(z(),e("[name=epkb_category_is_draft]").prop("checked",!1),e("html, body").animate({scrollTop:e(".wp-heading-inline").offset().top},300))})}e("#epkb-admin__categories_sorting_link").length&&(e("#epkb-admin__categories_sorting_link").insertAfter(".bulkactions"),e("#epkb-admin__categories_sorting_link").css("display","block")),e(document.body).on("click",".epkb-close-notice",function(){let t=e(this).closest(".eckb-bottom-notice-message");t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3)}),e(document.body).on("click",".eckb-bottom-notice-message__header__close",function(){let t=e(this).closest(".eckb-bottom-notice-message-large");t.addClass("fadeOutDown"),setTimeout(function(){t.html("")},1e3)}),e("#epkb-ajax-in-progress").dialog({resizable:!1,height:70,width:200,modal:!1,autoOpen:!1}).hide(),y.on("click",".epkb__option-tooltip__button",function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");let a="block"==t.css("display");t.fadeOut(),a||(clearTimeout(D),t.fadeIn())});let D;y.on("mouseenter",".epkb__option-tooltip__button, .epkb__option-tooltip__contents",function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");clearTimeout(D),t.fadeIn()}),y.on("mouseleave",".epkb__option-tooltip__button, .epkb__option-tooltip__contents",function(){const t=e(this).parent().find(".epkb__option-tooltip__contents");D=setTimeout(function(){t.fadeOut()},1e3)}),y.on("click",".eckb-tooltip-button",function(){e(this).parent().find(".eckb-tooltip-contents").fadeToggle()}),e("body").on("click",".eckb-wizard-accordion .eckb-wizard-option-heading",function(){var t=e(this).closest(".eckb-wizard-accordion"),a=e(this).closest(".eckb-wizard-accordion__body-content"),o=a.hasClass("eckb-wizard-accordion__body-content--active");t.find(".eckb-wizard-accordion__body-content").removeClass("eckb-wizard-accordion__body-content--active"),o||a.addClass("eckb-wizard-accordion__body-content--active")}),e("body").on("click","#eckb-wizard-main-page-preview a, .epkb-wizard-theme-panel-container a, #eckb-wizard-article-page-preview a",!1),e(".epkb-notice-remind").on("click",function(t){t.preventDefault(),e(this).parent().parent().remove()}),e(document).on("click",".epkb-notice-dismiss",function(t){t.preventDefault(),e("#"+e(this).data("notice-id")).slideUp();var a={action:"epkb_dismiss_ongoing_notice",epkb_dismiss_id:e(this).data("notice-id")};e.ajax({type:"POST",dataType:"json",url:ajaxurl,data:a})}),e(document).on("click",".epkb-kb__need-help__after-setup-wizard-dialog .epkb-notice-dismiss",function(){e(e(this).data("target")).slideUp()}),e(".epkb-dialog-box-form .epkb-dbf__close, .epkb-dialog-box-form .epkb-dbf__footer__cancel").on("click",function(){e(this).closest(".epkb-dialog-box-form").toggleClass("epkb-dialog-box-form--active")}),e(".epkb-dialog-box-form .epkb-dbf__footer__accept__btn").on("click",function(){e(this).closest(".epkb-dialog-box-form").find("form").trigger("submit")}),e("body").find(".epkb__header__edit").on("click",function(){e(this).parent().parent().find(".epkb-ts__input-container").slideToggle(),e(this).parent().parent().find(".epkb-ts__action-container").slideToggle(),e(this).parents(".epkb-toggle-setting-container").toggleClass("epkb-toggle-setting-container--active")}),e("body").on("click",".eckb-Q__list__item-container",function(){e(this).find(".eckb-Q__item__question__toggle-icon").toggleClass("epkbfa-plus-square epkbfa-minus-square"),e(this).hasClass("eckb-Q__list__item--active")?e(this).removeClass("eckb-Q__list__item--active"):e(this).addClass("eckb-Q__list__item--active")}),e(".epkb-notification-box-popup__button-confirm").on("click",function(){e(this).attr("data-target").length>0&&e(this).closest(e(this).attr("data-target")).remove()}),e(".epkb-admin__step-cta-box__link[data-target]").on("click",function(){let t=e(this).attr("data-target");void 0!==t&&0!==t.length&&(t=t.split("__"),e('.epkb-admin__top-panel__item[data-target="'+t[0]+'"]').trigger("click"),t.length>1&&setTimeout(function(){e('.epkb-admin__secondary-panel__item[data-target="'+t[1]+'"]').trigger("click")},100))}),b(),e(document).on("click","#eckb-kb-create-demo-data",function(t){t.preventDefault();p({action:"epkb_create_kb_demo_data",epkb_kb_id:e(this).data("id"),_wpnonce_epkb_ajax_action:epkb_vars.nonce},function(t){if(void 0!==t.message)return e(".eckb-bottom-notice-message").remove(),e("body").append(t.message).removeClass("fadeOutDown"),void e("#eckb-wizard-ordering__page input").first().trigger("change")})}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab",function(){k(e(this))}),e(document).on("click",".epkb-admin__form .epkb-admin__form-sub-tab",function(){m(e(this))}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--about-kb .epkb-admin__form-tab-content-desc__link, .epkb-admin__form .epkb-admin__form-tab-content--main-page-about-kb .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="editor"]').click(),!1}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--manage-theme-compat .epkb-admin__form-tab-content-desc__link, .epkb-admin__form .epkb-admin__form-tab-content--layout .epkb-admin__form-tab-content__to-settings-link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-sub-tab[data-selected-module="categories_articles"]').click(),e([document.documentElement,document.body]).animate({scrollTop:e('[data-target="theme-compatibility-mode"]').offset().top-50},300),!1}),e(document).on("click",".epkb-admin__form .epkb-admin__form-tab-content--sidebar_main_page_intro_text .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="labels"]').click(),e([document.documentElement,document.body]).animate({scrollTop:e('[data-target="sidebar_main_page_intro_text"]').offset().top},300),!1}),e(document).on("click",".epkb-admin__form .epkb-admin__form-sub-tab-wrap--article-page-search-box .epkb-admin__form-tab-content-desc__link",function(t){t.preventDefault();let a=e('.epkb-admin__form .epkb-admin__form-sub-tab[data-selected-module="search"]');return a.length?a.click():e('.epkb-admin__form .epkb-admin__form-tab[data-target="main-page"]').click(),e([document.documentElement,document.body]).animate({scrollTop:0},300),!1}),e(document).on("click","#ml_faqs_title_location_group .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="labels"]').click(),e([document.documentElement,document.body]).animate({scrollTop:e('[data-target="labels_faqs_feature"]').offset().top},300),!1}),e(document).on("click","#ml_articles_list_title_location_group .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="labels"]').click(),e([document.documentElement,document.body]).animate({scrollTop:e('[data-target="labels_articles_list_feature"]').offset().top},300),!1}),e(document).on("click",".epkb-admin__form-tab-content--bottom-labels-link .epkb-admin__form-tab-content-desc__link",function(t){return t.preventDefault(),e('.epkb-admin__form .epkb-admin__form-tab[data-target="labels"]').click(),e([document.documentElement,document.body]).animate({scrollTop:0},300),!1}),e(document).on("click",".epkb-notification-box-top__body__desc a",function(t){let a=e(this).attr("href").split("#");if(a.length>1){let o=e(".epkb-admin__top-panel__item--"+a[1]);if(o.length)return t.preventDefault(),o.trigger("click"),!1}});let O=!1;e(".epkb-admin__color-field input").wpColorPicker({change:function(t,a){if(O)return;O=!0;let o=e(t.target).wpColorPicker("color"),n=e(t.target).attr("name");e('.epkb-admin__color-field input[name="'+n+'"]').not(t.target).each(function(){e(this).wpColorPicker("color",o)}),O=!1}}),e(document).on("click",".epkb-admin__kb__form-save__button",f),e(document).on("click",".eckb-conditional-setting-input",function(){let t=e(this).find("input");"radio"===e(t[0]).attr("type")&&(t=e(this).find("input:checked")),t.length||(t=e(this).find("select"));let a=e(".eckb-condition-depend__"+t.attr("name")),o=e(".eckb-condition-depend-and__"+t.attr("name"));"none"!==e(this).css("display")?(a.each(function(){let t=e(this).data("dependency-ids");if(void 0===t)return;t=t.split(" ");let a=e(this).data("enable-on-values");if(void 0!==a){a=a.split(" "),e(this).hide(),e(this).closest(".epkb-input-group-combined-units").find(".epkb-input-desc").hide();for(let o=0;o<t.length;o++){let n=e("#"+t[o]);if(void 0===n||!n.length)continue;if("none"===e(n).closest(".epkb-admin__input-field").css("display"))continue;let i=e(n).is("select")?n:n.find("input");if("radio"!==i.attr("type")&&"checkbox"!==i.attr("type")||(i=e(n).find("input:checked")),void 0===i||!i.length)continue;let c=e(this).attr("id");if(a.indexOf(i.val())>=0)return e(this).show(),e(this).closest(".epkb-input-group-combined-units").find(".epkb-input-desc").show(),void u(c);u(c)}}}),o.each(function(){let t=this,a=e(t).data("dependency-and");if(void 0!==a){a=a.trim().split(" "),e(t).show();for(let o=0;o<a.length;o++){let n=e(this).attr("id"),i=a[o].split("--")[0],c=a[o].split("--")[1],s=e("#"+i);if(void 0===s||!s.length)return e(t).hide(),void u(n);if("none"===e(s).closest(".epkb-admin__input-field").css("display"))return e(t).hide(),void u(n);let p=e(s).is("select")?s:s.find("input");if("radio"!==p.attr("type")&&"checkbox"!==p.attr("type")||(p=e(s).find("input:checked")),void 0===p||!p.length)return e(t).hide(),void u(n);if(p.val()!==c)return e(t).hide(),void u(n);u(n)}}})):e(o).hide()}),e(".eckb-conditional-setting-input").trigger("click"),e('.epkb-input[name="article_nav_sidebar_type_left"]').change(function(){"none"!==e(this).closest(".epkb-admin__select-field").css("display")&&"eckb-nav-sidebar-none"!==e(this).val()&&(e('[name="article_nav_sidebar_type_right"][value="eckb-nav-sidebar-none"]').parent().find(".epkb-label").click(),e(this).click())}),e('.epkb-input[name="article_nav_sidebar_type_right"]').change(function(){"none"!==e(this).closest(".epkb-admin__select-field").css("display")&&"eckb-nav-sidebar-none"!==e(this).val()&&(e('[name="article_nav_sidebar_type_left"][value="eckb-nav-sidebar-none"]').parent().find(".epkb-label").click(),e(this).click())}),e("body").on("change","#epkb-setting-box__list-tools__other [name=wpml_is_enabled]",function(){e(".eckb-top-notice-message").remove();p({action:"epkb_wpml_enable",_wpnonce_epkb_ajax_action:epkb_vars.nonce,wpml_enable:e(this).prop("checked")?"on":"off",epkb_kb_id:e("#epkb-list-of-kbs").val()},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message),b()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)})}),e(document).on("change",'input[name="preload_fonts"]',function(){e(".eckb-top-notice-message").remove();p({action:"epkb_preload_fonts",_wpnonce_epkb_ajax_action:epkb_vars.nonce,preload_fonts:e(this).prop("checked")?"on":"off"},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message),b()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)})}),e(document).on("change",'input[name="disable_openai"]',function(){e(".eckb-top-notice-message").remove();p({action:"epkb_disable_openai",_wpnonce_epkb_ajax_action:epkb_vars.nonce,disable_openai:e(this).prop("checked")?"on":"off"},function(t){e(".eckb-top-notice-message").remove(),void 0!==t.message&&(l(),e("body").append(t.message),b()),void 0!==t.html&&e(".epkb-show-sequence-wrap").html(t.html)})}),e("[data-open-editor-link]").on("click",function(){if("back"==e(this).data("open-editor-link"))return e('.epkb-admin__form-tab[data-target="editor"]').trigger("click"),!1}),e("#editor_backend_mode input").on("change",function(){e(".epkb-admin__kb__form-save__button").trigger("click")}),e(document).on("change","#toc_toggler input",function(){if(e(this).prop("checked")){if(h("left"))return;if(h("right"))return;return e("#toc_content").val("1").trigger("change"),e("#toc_locations1").prop("checked",!0),void e("#toc_locations0, #toc_locations2").prop("checked",!1)}e("#toc_content").val("0").trigger("change"),e("#toc_locations input").prop("checked",!1),g(),e(this).trigger("check_toggler")}),e(document).on("check_toggler","#toc_toggler input",function(){let t=!1;e("#toc_locations input").each(function(){e(this).prop("checked")&&(t=!0)}),e(this).prop("checked",t)}),e(document).on("click","#toc_locations input",function(){let t=e(this).prop("value"),a=e(this).prop("checked"),o=!1;switch(t){case"toc_left":g(),e("#toc_content").val("0").trigger("change"),a&&(o=h("left"));break;case"toc_content":g(),e("#toc_content").val("0").trigger("change"),a&&(e("#toc_locations1").prop("checked",!0),e("#toc_locations0, #toc_locations2").prop("checked",!1),e("#toc_content").val("1").trigger("change"),o=!0);break;case"toc_right":g(),e("#toc_content").val("0").trigger("change"),a&&(o=h("right"))}e("#toc_locations input").each(function(){if(e(this).prop("value")===t&&o)return!0;e(this).prop("checked",!1)}),e("#toc_toggler input").trigger("check_toggler")}),e(document).on("change","#toc_left",function(t,a){parseInt(e(this).val())>0?(e("#toc_locations0").prop("checked",!0),e("#toc_locations1, #toc_locations2").prop("checked",!1),e("#toc_content").val("0").trigger("change"),e("#toc_toggler input").trigger("check_toggler"),e(this).data("prev-value","3")):parseInt(e(this).data("prev-value"))>0&&(e(this).data("prev-value",e(this).val()),a||(e("#toc_locations0, #toc_locations1, #toc_locations2").prop("checked",!1),e("#toc_content").val("0").trigger("change"),e("#toc_toggler input").trigger("check_toggler")))}),e(document).on("change","#toc_right",function(t,a){parseInt(e(this).val())>0?(e("#toc_locations2").prop("checked",!0),e("#toc_locations0, #toc_locations1").prop("checked",!1),e("#toc_content").val("0").trigger("change"),e("#toc_toggler input").trigger("check_toggler"),e(this).data("prev-value","3")):parseInt(e(this).data("prev-value"))>0&&(e(this).data("prev-value",e(this).val()),a||(e("#toc_locations0, #toc_locations1, #toc_locations2").prop("checked",!1),e("#toc_content").val("0").trigger("change"),e("#toc_toggler input").trigger("check_toggler")))}),e("[data-control-toggler] input").on("change",function(){let t=e(this).closest("[data-control-toggler]"),a=t.data("control-disabled-value"),o=t.data("control-enabled-value");e(this).prop("checked")?(e("[name='"+t.data("control-toggler")+"'][type='radio']").each(function(){if(e(this).val()==o)return e(this).prop("checked",!0),!1}),e("select[name='"+t.data("control-toggler")+"']").val(o).trigger("change")):(e("[name='"+t.data("control-toggler")+"'][type='radio']").each(function(){if(e(this).val()==a)return e(this).prop("checked",!0),!1}),e("select[name='"+t.data("control-toggler")+"']").val(a).trigger("change"))}),e(".epkb-admin__radio-icons input, select").on("change",function(){let t=e("[data-control-toggler='"+e(this).prop("name")+"'] input");if(!t.length)return;let a=t.closest("[data-control-toggler]").data("control-disabled-value");t.prop("checked",e(this).val()!=a)}),e("#article-left-sidebar-toggle").length&&0==e("#article-left-sidebar-toggle input").prop("checked")&&e("#article-left-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled"),e("#article-right-sidebar-toggle").length&&0==e("#article-right-sidebar-toggle input").prop("checked")&&e("#article-right-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled"),e("#article-left-sidebar-toggle input").on("change",function(){e("#article-left-sidebar-toggle input").prop("checked")?e("#article-left-sidebar-toggle").parent().removeClass("epkb-sidebar-settings-disabled"):e("#article-left-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled")}),e("#article-right-sidebar-toggle input").on("change",function(){e("#article-right-sidebar-toggle input").prop("checked")?e("#article-right-sidebar-toggle").parent().removeClass("epkb-sidebar-settings-disabled"):e("#article-right-sidebar-toggle").parent().addClass("epkb-sidebar-settings-disabled")}),e(".epkb-admin__form-tab-content-lm__toggler").on("click",function(t){t.stopPropagation(),e(this).closest(".epkb-admin__form-tab-content-learn-more").hasClass("epkb-admin__form-tab-content-learn-more--active")?e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"):(e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active"),e(this).closest(".epkb-admin__form-tab-content-learn-more").addClass("epkb-admin__form-tab-content-learn-more--active"))}),e("body").on("click",function(){e(".epkb-admin__form-tab-content-learn-more").removeClass("epkb-admin__form-tab-content-learn-more--active")}),e(document).on("click","#modular_main_page_toggle .epkb-settings-control-toggle",function(){return C.addClass("epkb-dialog-box-form--active epkb-kb-modular-main-page--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_modular_main_page_toggle),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-modular-main-page--active .epkb-dbf__footer__accept__btn",function(){let t=e('input[name="modular_main_page_toggle"]');t.prop("checked",!t.prop("checked")),C.removeClass("epkb-dialog-box-form--active epkb-kb-modular-main-page--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-modular-main-page--active .epkb-dbf__footer__cancel__btn",function(){C.removeClass("epkb-kb-modular-main-page--active")});let P;e(document).on("click",'input[name="kb_main_page_layout"]',function(){return!e(this).closest(".epkb-input-group").hasClass("eckb-mp-layout-elay-disabled")||"Grid"!==e(this).val()&&"Sidebar"!==e(this).val()?e(this).attr("checked")?void e(this).prop("checked",!0):(P=e(this),C.addClass("epkb-dialog-box-form--active epkb-kb-main-page-layout--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_kb_main_page_layout),!1):(e("#epkb-dialog-pro-feature-ad-kb_main_page_layout").addClass("epkb-dialog-pro-feature-ad--active"),!1)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-main-page-layout--active .epkb-dbf__footer__accept__btn",function(){P&&P.prop("checked",!0),C.removeClass("epkb-dialog-box-form--active epkb-kb-main-page-layout--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-main-page-layout--active .epkb-dbf__footer__cancel__btn",function(){C.removeClass("epkb-kb-main-page-layout--active")});let I;e(document).on("click",'input[name="templates_for_kb"]',function(){return!e(this).attr("checked")&&(I=e(this),C.addClass("epkb-dialog-box-form--active epkb-template-for-kb--active"),"kb_templates"===e(this).val()?e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_kb_templates):e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_current_theme_templates),!1)}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__accept__btn",function(){C.hasClass("epkb-template-for-kb--active")&&(I&&I.prop("checked",!0),e("#epkb-admin-page-reload-confirmation").removeClass("epkb-dialog-box-form--active"),f(0,!0))}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__cancel__btn",function(){e("#epkb-admin-page-reload-confirmation").removeClass("epkb-template-for-kb--active")});let S;e(document).on("click",'input[name="template_for_archive_page"]',function(){return!e(this).attr("checked")&&(S=e(this),C.addClass("epkb-dialog-box-form--active epkb-template-for-archive-page--active"),"kb_templates"===e(this).val()?e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_kb_templates):e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_current_theme_templates),!1)}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__accept__btn",function(){C.hasClass("epkb-template-for-archive-page--active")&&(S&&S.prop("checked",!0),e("#epkb-admin-page-reload-confirmation").removeClass("epkb-dialog-box-form--active"),f(0,!0))}),e(document).on("click","#epkb-admin-page-reload-confirmation .epkb-dbf__footer__cancel__btn",function(){e("#epkb-admin-page-reload-confirmation").removeClass("epkb-template-for-archive-page--active")}),e(document).on("click","#article_search_sync_toggle .epkb-settings-control-toggle",function(){return C.addClass("epkb-dialog-box-form--active epkb-kb-article-search-sync--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_article_search_sync_toggle),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-article-search-sync--active .epkb-dbf__footer__accept__btn",function(){let t=e('input[name="article_search_sync_toggle"]');t.prop("checked",!t.prop("checked")),C.removeClass("epkb-dialog-box-form--active epkb-kb-article-search-sync--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-article-search-sync--active .epkb-dbf__footer__cancel__btn",function(){C.removeClass("epkb-kb-article-search-sync--active")}),e(document).on("click","#article_search_toggle .epkb-settings-control-toggle",function(){return C.addClass("epkb-dialog-box-form--active epkb-kb-article-search--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_article_search_toggle),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-article-search--active .epkb-dbf__footer__accept__btn",function(){let t=e('input[name="article_search_toggle"]');t.prop("checked",!t.prop("checked")),C.removeClass("epkb-dialog-box-form--active epkb-kb-article-search--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-article-search--active .epkb-dbf__footer__cancel__btn",function(){C.removeClass("epkb-kb-article-search--active")}),e(document).on("change","#advanced_search_mp_presets input, #advanced_search_ap_presets input",function(){return C.addClass("epkb-dialog-box-form--active epkb-asea-presets-selection--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_asea_presets_selection),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-asea-presets-selection--active .epkb-dbf__footer__accept__btn",function(){C.removeClass("epkb-dialog-box-form--active epkb-asea-presets-selection--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-asea-presets-selection--active .epkb-dbf__footer__cancel__btn",function(){e('#advanced_search_mp_presets input[value="current"], #advanced_search_ap_presets input[value="current"]').prop("checked",!0),C.removeClass("epkb-asea-presets-selection--active")}),e(document).on("change","#archive_content_sub_categories_display_mode input",function(){return C.addClass("epkb-dialog-box-form--active epkb-archive-presets-selection--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_archive_presets_selection),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-archive-presets-selection--active .epkb-dbf__footer__accept__btn",function(){C.removeClass("epkb-dialog-box-form--active epkb-archive-presets-selection--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-archive-presets-selection--active .epkb-dbf__footer__cancel__btn",function(){e('#archive_content_sub_categories_display_mode input[value="current"]').prop("checked",!0),C.removeClass("epkb-archive-presets-selection--active")}),e(document).on("change","#faq_preset_name input",function(){return C.addClass("epkb-dialog-box-form--active epkb-faqs-module-presets-selection--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_faqs_presets_selection),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-faqs-module-presets-selection--active .epkb-dbf__footer__accept__btn",function(){C.removeClass("epkb-dialog-box-form--active epkb-faqs-module-presets-selection--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-faqs-module-presets-selection--active .epkb-dbf__footer__cancel__btn",function(){e('#faq_preset_name input[value="current"]').prop("checked",!0),C.removeClass("epkb-faqs-module-presets-selection--active")}),e("#epkb-admin__boxes-list__settings input[type=text], #epkb-admin__boxes-list__settings textarea").on("keyup",function(){let t=e(this).prop("name"),a=e(this).val();1!=e("#epkb-admin__boxes-list__settings").find('[name="'+t+'"]').length&&e("#epkb-admin__boxes-list__settings").find('[name="'+t+'"]').each(function(){e(this).val(a)})}),e(document).on("click",".epkb-input-custom-dropdown__input",function(t){t.stopPropagation();let a=e(this).closest(".input_container").find(".epkb-input-custom-dropdown__options-list");e(".epkb-input-custom-dropdown__options-list").not(a).hide(),e(a).toggle()}),e(document).on("click",".epkb-input-custom-dropdown__option",function(){let t=e(this).data("value"),a=e(this).closest(".input_container");a.find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),e(this).addClass("epkb-input-custom-dropdown__option--selected");let o=a.find("select").val();a.find(".epkb-input-custom-dropdown__options-list").hide(),a.find("select").val(t).trigger("change");let n=a.find('select option[value="'+t+'"]').html();a.find(".epkb-input-custom-dropdown__input span").html(n);let i=a.find("select").attr("name"),c=e(this).closest("[data-custom-unselection-group]").data("custom-unselection-group");e('[data-custom-unselection-group="'+c+'"] select').each(function(){i!==e(this).attr("name")&&e(this).val()===t&&(e(this).val("none").trigger("change",!0),e(this).closest(".eckb-conditional-setting-input").trigger("click"))});let s=e(this).closest("[data-custom-nonzero-unselection-group]").data("custom-nonzero-unselection-group");if(e('[data-custom-nonzero-unselection-group="'+s+'"] select').each(function(){parseInt(t)>0&&i!==e(this).attr("name")&&parseInt(e(this).val())>0&&(e(this).val("0").trigger("change",!0),e(this).closest(".eckb-conditional-setting-input").trigger("click"))}),"ml-row"===c&&"none"===o&&"none"!==t){e(this).closest(".epkb-admin__form-sub-tab-wrap").prevAll(".epkb-admin__form-sub-tab-wrap").each(function(){let t=e(this).find('[data-custom-selection-group="ml-row"] select');if(t.length&&"none"!==t.val()){let a=t.attr("name"),o=a.replace("_module","_desktop_width"),n=a.replace("_module","_desktop_width_units"),c=i.replace("_module","_desktop_width"),s=i.replace("_module","_desktop_width_units"),p=e('[name="'+o+'"]').val(),r=e('[name="'+n+'"]:checked').val();return e('[name="'+c+'"]').val(p).trigger("change"),e('[name="'+s+'"][value="'+r+'"]').trigger("click"),!1}})}}),e(document).on("change",".epkb-input-custom-dropdown select",function(t){let a=e(this).val(),o=e(this).closest(".input_container");e(o).find(".epkb-input-custom-dropdown__option").removeClass("epkb-input-custom-dropdown__option--selected"),e(o).find('.epkb-input-custom-dropdown__option[data-value="'+a+'"]').addClass("epkb-input-custom-dropdown__option--selected");let n=e(o).find('select option[value="'+a+'"]').html();e(o).find(".epkb-input-custom-dropdown__input span").html(n),function(){let t=[];e("[data-custom-selection-group]").each(function(){let a=e(this).data("custom-selection-group");t.includes(a)||(t.push(a),e('[data-custom-selection-group="'+a+'"] .epkb-input-custom-dropdown__option-mark').html(""),e('[data-custom-selection-group="'+a+'"]').each(function(){let t=e(this).find("select").val();if("none"===t)return;let o=e(this).data("custom-selection-label");o&&e('[data-custom-selection-group="'+a+'"] [data-value="'+t+'"]:not(.epkb-input-custom-dropdown__option--selected)').find(".epkb-input-custom-dropdown__option-mark").html("("+o+")")}))})}(),e(this).closest(".epkb-input-custom-dropdown").find(".epkb-input-custom-dropdown__option-icon").removeClass("epkb-input-custom-dropdown__option-icon--active"),e(this).closest(".epkb-input-custom-dropdown").find('.epkb-input-custom-dropdown__option-icon[data-option-value="'+a+'"]').addClass("epkb-input-custom-dropdown__option-icon--active")}),e(document).on("click",function(){e(".epkb-input-custom-dropdown__options-list").hide()}),e(".epkb-input-custom-dropdown select").trigger("change"),e(document).on("change","#ml_faqs_kb_id",function(){e('#ml_faqs_category_ids input[type="checkbox"]').each(function(){e(this).prop("checked")&&e(this).prop("checked",!1)}),e(".epkb-ml-faqs-kb-categories").addClass("epkb-hide-elem"),e(".epkb-ml-faqs-kb-categories--"+e(this).val()).removeClass("epkb-hide-elem")}),e(document).on("click",".epkb-admin__icon-font-selection .epkb-icon-pack__icon",function(t){t.stopPropagation();let a=e(this),o=a.closest(".epkb-admin__icon-font-selection");o.find(".epkb-icon-pack__icon").removeClass("epkb-icon-pack__icon--checked"),a.addClass("epkb-icon-pack__icon--checked"),e('[name="'+o.data("setting-name")+'"]').val(a.data("key"))}),e(document).on("click",".epkb-admin__icon-image-selection .epkb-input-icon-image__button",function(t){t.stopPropagation();let a=e(this),o=a.closest(".epkb-admin__icon-image-selection"),n=wp.media({title:a.data("title"),library:{type:"image"},multiple:!1}).on("select",function(){let t=n.state().get("selection").first().toJSON();e('[name="'+o.data("setting-name")+'"]').val(t.id),a.removeClass("epkb-input-icon-image__button--no-image").addClass("epkb-input-icon-image__button--have-image").css({"background-image":"url("+t.url+")"})}).open()}),e(document).on("change",'[data-settings-group="ml-row"].epkb-row-module-setting select',function(){let t=e(this).val();if("none"!==t){let a=e(".epkb-admin__form-tab-content--module-settings .eckb-ml-module__"+t);e(this).closest(".epkb-admin__form-sub-tab-wrap").find(".epkb-admin__form-tab-content--module-settings .epkb-admin__kb__form").append(a)}e('[data-settings-group="ml-row"].epkb-row-module-setting select').each(function(){let t=e(this).closest(".epkb-admin__form-sub-tab-wrap").find(".epkb-admin__form-tab-content--module-settings");"none"===e(this).val()?t.addClass("epkb-admin__form-tab-content--hide"):t.removeClass("epkb-admin__form-tab-content--hide")}),v(this),e(".epkb-admin__form-sub-tabs--main-page .epkb-admin__form-sub-tab").each(function(){let t=e(this).data("module-selector");if(!t)return;let a=e("#"+t),o=e(this),n=o.find(".epkb-admin__form-sub-tab-title");if("none"===a.val()){let t=e(this).data("no-module-label");n.html(t||""),o.addClass("epkb-admin__form-sub-tab--unused")}else{let e=a.find('option[value="'+a.val()+'"]').html();n.html(e),o.removeClass("epkb-admin__form-sub-tab--unused")}e(this).attr("data-selected-module",a.val())})}),e('[data-settings-group="ml-row"].epkb-row-module-setting select').each(function(){v(this)}),e(document).on("keypress",".epkb-admin__input-field--disallow-new-lines textarea",function(e){if(13===(e.keyCode||e.which))return!1}),e("#epkb-admin__boxes-list__settings .epkb-admin__input-disabled").each(function(){e(this).find("input, select, textarea, button").prop("disabled",!0)}),e(document).on("click",".epkb-admin__input-disabled, .epkb__option-pro-tag",function(){let t=e(this).closest(".epkb-input-group").find(".epkb__option-pro-tooltip"),a=t.is(":visible");e(".epkb__option-pro-tooltip").hide(),a?t.hide():t.show()}),e(document).on("click",".epkb-dialog-pro-feature-ad, .epkb-dbf__close",function(t){e(t.target).closest(".epkb-dialog-pro-feature-ad__content").length||e(this).removeClass("epkb-dialog-pro-feature-ad--active")}),e(document).on("click",".epkb__option-pro-tag-pro-feature-ad",function(){const t=e(this).data("target");e("#"+t).addClass("epkb-dialog-pro-feature-ad--active")}),e(document).on("click",function(t){let a=e(t.target);a.closest(".epkb__option-pro-tag-pro-feature-ad").length||a.closest(".epkb-dialog-pro-feature-ad").length||a.closest(".epkb-dialog-pro-feature-ad2").length||e(".epkb-dialog-pro-feature-ad, .epkb-dialog-pro-feature-ad2").removeClass("epkb-dialog-pro-feature-ad--active")});let A=e(".epkb-feature-container"),E=0;e(".epkb-feature-next").on("click",function(){q(E=(E+1)%A.length)}),e(".epkb-feature-previous").on("click",function(){q(E=(E-1+A.length)%A.length)}),e(document).on("click",function(t){let a=e(t.target);a.closest(".epkb__option-pro-tooltip").length||a.closest(".epkb-admin__input-disabled").length||a.closest(".epkb__option-pro-tag").length||e(".epkb__option-pro-tooltip").hide()}),e(document).on("change",'[name="ml_categories_articles_sidebar_toggle"]',function(){if(!e(this).prop("checked"))return;let t=e(this).closest(".epkb-settings-control-container").data("default-value-pc");e('[name="ml_categories_articles_sidebar_desktop_width"]').val(t)}),e(document).on("click",".epkb-ml-resource-links-icons-loader",function(){let t=e(this);p({action:"epkb_load_resource_links_icons",_wpnonce_epkb_ajax_action:epkb_vars.nonce,active_icon:t.data("selected")},function(e){t.closest(".epkb-ml-resource-links-icons-loader-wrap").replaceWith(e.data)})}),e(document).on("click",".epkb-general_typography-loader",function(){let t=e(this);p({action:"epkb_load_general_typography",_wpnonce_epkb_ajax_action:epkb_vars.nonce,active_font_family:t.data("selected")},function(a){t.closest(".epkb-general_typography-loader-wrap").replaceWith(a.data),e("#general_typography_font_family").trigger("change")})}),e(document).on("click","#archive_page_v3_toggle .epkb-settings-control-toggle",function(){return C.addClass("epkb-dialog-box-form--active epkb-kb-archive-page--active"),e("#epkb-admin-page-reload-confirmation .epkb-dbf__body").html(epkb_vars.on_archive_page_v3_toggle),!1}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-archive-page--active .epkb-dbf__footer__accept__btn",function(){let t=e('input[name="archive_page_v3_toggle"]');t.prop("checked",!t.prop("checked")),C.removeClass("epkb-dialog-box-form--active epkb-kb-archive-page--active"),f(0,!0)}),e(document).on("click","#epkb-admin-page-reload-confirmation.epkb-kb-archive-page--active .epkb-dbf__footer__cancel__btn",function(){C.removeClass("epkb-kb-archive-page--active")}),e(".epkb-admin__link-scroll-top").on("click",function(){return e("html, body").animate({scrollTop:0},300),!1})});