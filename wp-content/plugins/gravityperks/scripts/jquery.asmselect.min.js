!function(v){v.fn.asmSelect=function(e){var u={listType:"ol",sortable:!1,highlight:!1,animate:!1,addItemTarget:"bottom",hideWhenAdded:!1,debugMode:!1,removeLabel:"remove",highlightAddedLabel:"Added: ",highlightRemovedLabel:"Removed: ",containerClass:"asmContainer",selectClass:"asmSelect",optionDisabledClass:"asmOptionDisabled",listClass:"asmList",listSortableClass:"asmListSortable",listItemClass:"asmListItem",listItemLabelClass:"asmListItemLabel",removeClass:"asmListItemRemove",highlightClass:"asmHighlight"};return v.extend(u,e),this.each(function(a){var e,n,d,o=v(this),r=!1,i=!1;function t(e){var t=v(this).children("option:selected").slice(0,1).attr("rel");f(t),!1,C(t,"add")}function s(){!0}function l(e){i?i=!1:(n.empty(),d.empty(),h(),d.hide().fadeIn("fast"))}function h(){r=!0,n.prepend("<option value=''>"+o.attr("title")+"</option>"),o.children("option").each(function(e){var t,i=v(this);i.attr("id")||i.attr("id","asm"+a+"option"+e),t=i.attr("id"),i.is(":selected")?(f(t),c(t,!0)):c(t)}),u.debugMode||o.hide(),p(),r=!1}function c(e,t){if(null==t)t=!1;var i=v("#"+e),a=v("<option>"+i.text()+"</option>").val(i.val()).attr("rel",e);t&&m(a),n.append(a)}function p(){n.children(":eq(0)").prop("selected",!0)}function m(e){e.addClass(u.optionDisabledClass).attr("selected",!1).attr("disabled",!0),u.hideWhenAdded&&e.hide(),n.hide().show()}function f(e){var t=v("#"+e);if(t){var i,a=v("<a></a>").attr("href","#").addClass(u.removeClass).prepend(u.removeLabel).click(function(){return function(e,t){if(null==t)var t=!0;v("#"+e).attr("selected",!1),$item=d.children("li[rel="+e+"]"),a=$item,u.animate&&!r?($prevItem=a.prev("li"),a.animate({opacity:"hide",height:"hide"},100,"linear",function(){$prevItem.animate({height:"-=2px"},50,"swing",function(){$prevItem.animate({height:"+=2px"},100,"swing")}),a.remove()})):a.remove(),i=v("[rel="+e+"]",u.removeWhenAdded?$selectRemoved:n),i.removeClass(u.optionDisabledClass).attr("disabled",!1),u.hideWhenAdded&&i.show(),n.hide().show(),t&&g($item,u.highlightRemovedLabel);var i;var a;C(e,"drop")}(v(this).parent("li").attr("rel")),!1}),s=v("<span></span>").addClass(u.listItemLabelClass).html(t.html()),l=v("<li></li>").attr("rel",e).addClass(u.listItemClass).append(s).append(a).hide();if(!r){if(t.is(":selected"))return;t.attr("selected",!0)}"top"!=u.addItemTarget||r?(d.append(l),u.sortable&&o.append(t)):(d.prepend(l),u.sortable&&o.prepend(t)),i=l,u.animate&&!r?i.animate({opacity:"show",height:"show"},100,"swing",function(){i.animate({height:"+=2px"},50,"swing",function(){i.animate({height:"-=2px"},25,"swing")})}):i.show(),m(v("[rel="+e+"]",n)),r||(g(l,u.highlightAddedLabel),p(),u.sortable&&d.sortable("refresh"))}}function g(e,t){if(u.highlight){n.next("#"+u.highlightClass+a).remove();var i=v("<span></span>").hide().addClass(u.highlightClass).attr("id",u.highlightClass+a).html(t+e.children("."+u.listItemLabelClass).slice(0,1).text());n.after(i),i.fadeIn("fast",function(){setTimeout(function(){i.fadeOut("slow")},50)})}}function C(e,t){i=!0,$option=v("#"+e),o.trigger("change",[{option:$option,value:$option.val(),id:e,item:d.children("[rel="+e+"]"),type:t}])}!function(){for(;0<v("#"+u.containerClass+a).length;)a++;n=v("<select></select>").addClass(u.selectClass).attr("name",u.selectClass+a).attr("id",u.selectClass+a),$selectRemoved=v("<select></select>"),d=v("<"+u.listType+"></"+u.listType+">").addClass(u.listClass).attr("id",u.listClass+a),e=v("<div></div>").addClass(u.containerClass).attr("id",u.containerClass+a),h(),n.change(t).click(s),o.change(l).wrap(e).before(n).before(d),u.sortable&&d.sortable({items:"li."+u.listItemClass,handle:"."+u.listItemLabelClass,axis:"y",update:function(e,t){var i;v(this).children("li").each(function(e){$option=v("#"+v(this).attr("rel")),v(this).is(".ui-sortable-helper")?i=$option.attr("id"):o.append($option)}),i&&C(i,"sort")}}).addClass(u.listSortableClass)}()})}}(jQuery);
//# sourceMappingURL=jquery.asmselect.js.map