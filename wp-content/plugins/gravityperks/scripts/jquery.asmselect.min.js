(u=>{u.fn.asmSelect=function(e){var f={listType:"ol",sortable:!1,highlight:!1,animate:!1,addItemTarget:"bottom",hideWhenAdded:!1,debugMode:!1,removeLabel:"remove",highlightAddedLabel:"Added: ",highlightRemovedLabel:"Removed: ",containerClass:"asmContainer",selectClass:"asmSelect",optionDisabledClass:"asmOptionDisabled",listClass:"asmList",listSortableClass:"asmListSortable",listItemClass:"asmListItem",listItemLabelClass:"asmListItemLabel",removeClass:"asmListItemRemove",highlightClass:"asmHighlight"};return u.extend(f,e),this.each(function(i){var e,l,n,d=u(this),o=!1,a=!1;function t(e){var t=u(this).children("option:selected").slice(0,1).attr("rel");g(t),v(t,"add")}function s(){0}function r(e){a?a=!1:(l.empty(),n.empty(),h(),n.hide().fadeIn("fast"))}function h(){o=!0,l.prepend("<option value=''>"+d.attr("title")+"</option>"),d.children("option").each(function(e){var t=u(this);t.attr("id")||t.attr("id","asm"+i+"option"+e),e=t.attr("id"),t.is(":selected")?(g(e),c(e,!0)):c(e)}),f.debugMode||d.hide(),p(),o=!1}function c(e,t){null==t&&(t=!1);var a=u("#"+e),a=u("<option>"+a.text()+"</option>").val(a.val()).attr("rel",e);t&&m(a),l.append(a)}function p(){l.children(":eq(0)").prop("selected",!0)}function m(e){e.addClass(f.optionDisabledClass).attr("selected",!1).attr("disabled",!0),f.hideWhenAdded&&e.hide(),l.hide().show()}function g(e){var t=u("#"+e);if(t){var a,i=u("<a></a>").attr("href","#").addClass(f.removeClass).prepend(f.removeLabel).click(function(){var e=u(this).parent("li").attr("rel"),t=void 0,a=(null==t&&(t=!0),u("#"+e).attr("selected",!1),$item=n.children("li[rel="+e+"]")),i=(f.animate&&!o?($prevItem=a.prev("li"),a.animate({opacity:"hide",height:"hide"},100,"linear",function(){$prevItem.animate({height:"-=2px"},50,"swing",function(){$prevItem.animate({height:"+=2px"},100,"swing")}),a.remove()})):a.remove(),u("[rel="+e+"]",f.removeWhenAdded?$selectRemoved:l));return i.removeClass(f.optionDisabledClass).attr("disabled",!1),f.hideWhenAdded&&i.show(),l.hide().show(),t&&C($item,f.highlightRemovedLabel),v(e,"drop"),!1}),s=u("<span></span>").addClass(f.listItemLabelClass).html(t.html()),s=u("<li></li>").attr("rel",e).addClass(f.listItemClass).append(s).append(i).hide();if(!o){if(t.is(":selected"))return;t.attr("selected",!0)}"top"!=f.addItemTarget||o?(n.append(s),f.sortable&&d.append(t)):(n.prepend(s),f.sortable&&d.prepend(t)),a=s,f.animate&&!o?a.animate({opacity:"show",height:"show"},100,"swing",function(){a.animate({height:"+=2px"},50,"swing",function(){a.animate({height:"-=2px"},25,"swing")})}):a.show(),m(u("[rel="+e+"]",l)),o||(C(s,f.highlightAddedLabel),p(),f.sortable&&n.sortable("refresh"))}}function C(e,t){var a;f.highlight&&(l.next("#"+f.highlightClass+i).remove(),a=u("<span></span>").hide().addClass(f.highlightClass).attr("id",f.highlightClass+i).html(t+e.children("."+f.listItemLabelClass).slice(0,1).text()),l.after(a),a.fadeIn("fast",function(){setTimeout(function(){a.fadeOut("slow")},50)}))}function v(e,t){a=!0,$option=u("#"+e),d.trigger("change",[{option:$option,value:$option.val(),id:e,item:n.children("[rel="+e+"]"),type:t}])}for(;0<u("#"+f.containerClass+i).length;)i++;l=u("<select></select>").addClass(f.selectClass).attr("name",f.selectClass+i).attr("id",f.selectClass+i),$selectRemoved=u("<select></select>"),n=u("<"+f.listType+"></"+f.listType+">").addClass(f.listClass).attr("id",f.listClass+i),e=u("<div></div>").addClass(f.containerClass).attr("id",f.containerClass+i),h(),l.change(t).click(s),d.change(r).wrap(e).before(l).before(n),f.sortable&&n.sortable({items:"li."+f.listItemClass,handle:"."+f.listItemLabelClass,axis:"y",update:function(e,t){var a;u(this).children("li").each(function(e){$option=u("#"+u(this).attr("rel")),u(this).is(".ui-sortable-helper")?a=$option.attr("id"):d.append($option)}),a&&v(a,"sort")}}).addClass(f.listSortableClass)})}})(jQuery);
//# sourceMappingURL=jquery.asmselect.js.map