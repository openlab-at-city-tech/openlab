/*! For license information please see index.js.LICENSE.txt */
!function(){"use strict";var e,t={3515:function(e,t,r){var n,a,o,i,c,l=r(8575),s=r(9967),u=r(6160),f=r(749),h=r(1630),p=r(4694),m=r(1254),d=r(5453),y=r(5979),v=r(1488),g=r(7818),b=r(537),E=wpmc_media_cleaner.prefix,w=wpmc_media_cleaner.domain,R=wpmc_media_cleaner.rest_url.replace(/\/+$/,""),x=wpmc_media_cleaner.api_url.replace(/\/+$/,""),_=wpmc_media_cleaner.plugin_url.replace(/\/+$/,""),k="1"===wpmc_media_cleaner.is_pro,O=k&&"1"===wpmc_media_cleaner.is_registered,L=wpmc_media_cleaner.rest_nonce,S=wpmc_media_cleaner.options,P="files"===S.method?S.filesystem_content:S.content,j="files"===S.method&&(null==S?void 0:S.media_library),T=r(8406),A=r(2788);function C(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var I=A.ZP.div(n||(n=C(["\n  color: white;\n  padding: 15px;\n  margin-bottom: -15px;\n\n  a {\n    color: #7dedff;\n    text-decoration: none;\n  }\n\n  p {\n    font-size: 15px;\n  }\n"]))),N=(0,A.ZP)(b.v)(a||(a=C(["\n\n  .nui-block-title {\n    display: none;\n  }\n\n  .plugin-desc {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    margin-left: 20px;\n\n  }\n\n  .nui-block-content {\n    display: flex;\n    padding: 10px;\n    item-align: center;\n\n    h2 {\n      color: #055082;\n      font-size: 18px;\n      margin: 0;\n\n      a {\n        text-decoration: none;\n      }\n    }\n\n    p {\n      margin: 0px;\n      font-size: 15px;\n    }\n  }\n"]))),M=A.ZP.img(o||(o=C(["\n  width: 85px;\n  height: 85px;\n  padding-right: 10px;\n"]))),D=A.ZP.div(i||(i=C(["\n\n  margin: 15px;\n\n  .center {\n    background: white;\n    border-radius: 10px;\n    padding: 10px;\n    max-width: 100%\n    overflow: none;\n\n    h2 {\n      font-size: 26px;\n    }\n\n    table {\n      width: 100%;\n\n      tr td:first-child {\n        width: 220px;\n        font-weight: bold;\n        color: #1e7cba;\n      }\n\n      * {\n        overflow-wrap: anywhere;\n      }\n    }\n  }\n\n  hr {\n    border-color: #1e7cba;\n  }\n"]))),F=A.ZP.ul(c||(c=C(["\n  margin-top: 10px;\n  background: rgb(0, 72, 88);\n  padding: 10px;\n  color: rgb(58, 212, 58);\n  max-height: 600px;\n  min-height: 200px;\n  display: block;\n  font-family: monospace;\n  font-size: 12px;\n  white-space: pre;\n  overflow-x: auto;\n  width: calc(100vw - 276px);\n\n  .log-date {\n    color: white;\n    margin-left: 8px;\n  }\n\n  .log-type {\n    background: #0000004d;\n    padding: 2px 5px;\n    border-radius: 8px;\n    text-transform: uppercase;\n  }\n\n  .log-content {\n    display: block;\n  }\n\n  .log-warning .log-type {\n    background: #ccb028;\n    color: white;\n  }\n\n  .log-fatal .log-type {\n    background: #cc2828;\n    color: white;\n  }\n"])));function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function B(){B=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==G(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function z(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){z(o,n,a,i,c,"next",e)}function c(e){z(o,n,a,i,c,"throw",e)}i(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Z(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){if(e){if("string"==typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y=wp.element,W=Y.useState,V=Y.useEffect,$="".concat(R,"/meow-common/v1"),J=function(e){var t=e.request,r=e.title,n=e.max,a=q(W(!1),2),o=a[0],i=a[1],c=q(W([]),2),l=c[0],f=c[1],h=l.length>0?l.reduce((function(e,t){return e+t})):0,p=l.length>0?Math.ceil(h/l.length):0,m=!l.length&&o;return V((function(){o&&setTimeout(U(B().mark((function e(){var r,n,a;return B().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),e.next=3,(0,s.PV)("".concat($,"/").concat(t),{method:"POST",nonce:L});case 3:n=(new Date).getTime(),a=n-r,f((function(e){return[].concat(function(e){if(Array.isArray(e))return H(e)}(t=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||Z(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[a]);var t}));case 6:case"end":return e.stop()}}),e)}))),1e3)}),[l]),React.createElement(I,{style:{width:200,textAlign:"center"}},React.createElement(u.O,{h2:!0,style:{color:"white"}},r),React.createElement(T._,{size:200,value:m?n:p,max:n},React.createElement("span",{style:{fontSize:20}},m?"START":p+" ms"),React.createElement("span",{style:{fontSize:12}},m?"YOUR ENGINE":l.length+" requests")),React.createElement(g._,{style:{width:"100%",marginTop:10},color:o?"#cc3627":"#ccb027",onClick:function(){o||f([]),i(!o)}},o?"Stop":"Start"))};function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==K(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==K(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function re(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){re(o,n,a,i,c,"next",e)}function c(e){re(o,n,a,i,c,"throw",e)}i(void 0)}))}}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ie=wp.element,ce=ie.useState,le=ie.useEffect;x&&R&&_||console.error("[@common/dashboard] apiUrl, restUrl and pluginUrl are mandatory.");var se="".concat(R,"/meow-common/v1"),ue=React.createElement(I,null,React.createElement(u.O,{p:!0},"Meow Apps is a suite of plugins for photography, imaging, optimization, and SEO, run by ",React.createElement("a",{target:"_blank",href:"https://offbeatjapan.org"},"Jordy Meow"),", a photographer and developer in Japan. The goal is to improve and speed up your website. Learn more at ",React.createElement("a",{href:"http://meowapps.com",target:"_blank"},"Meow Apps"),".")),fe=React.createElement(I,null,React.createElement(u.O,{p:!0},"â­ï¸ The ",React.createElement("b",null,"Empty Request Time")," helps you analyzing the raw performance of your install by giving you the average time it takes to run an empty request to your server. You can try to disable some plugins then start this again to see how it modifies the results. Keep it absolutely under 2,000 ms! That said, I recommend it to keep it below 500ms."),React.createElement(u.O,{p:!0},"â­ï¸ ",React.createElement("b",null,"File Operation Time")," creates a temporary size of 10MB every time."),React.createElement(u.O,{p:!0},"â­ï¸ ",React.createElement("b",null,"SQL Request Time")," counts the number of posts. Those two should be very fast, and almost the same as the ",React.createElement("b",null,"Empty Request Time"),".")),he=React.createElement(I,null,React.createElement(u.O,{p:!0},"Keep your WordPress install simple and efficient by using only necessary plugins and a reliable hosting service. Avoid trying to self-host unless you have professional experience. Follow best practices and stay up-to-date with the latest recommendations on the Meow Apps website.",React.createElement("ul",null,React.createElement("li",null,"ðŸ’œ ",React.createElement("a",{href:"https://meowapps.com/tutorial-improve-seo-wordpress/",target:"_blank"},"SEO Checklist & Optimization")),React.createElement("li",null,"ðŸ’œ ",React.createElement("a",{href:"https://meowapps.com/tutorial-faster-wordpress-optimize/",target:"_blank"},"Optimize your WordPress Speed")),React.createElement("li",null,"ðŸ’œ ",React.createElement("a",{href:"https://meowapps.com/tutorial-optimize-images-wordpress/",target:"_blank"},"Optimize Images (CDN, and so on)")),React.createElement("li",null,"ðŸ’œ ",React.createElement("a",{href:"https://meowapps.com/tutorial-hosting-service-wordpress/",target:"_blank"},"The Best Hosting Services for WordPress"))))),pe=["".concat(se,"/all_settings/"),{headers:{"X-WP-Nonce":L}}],me=function(){var e=ae(ce(!1),2),t=e[0],r=e[1],n=(0,l.ZP)(pe,s.SG),a=n.data,o=n.mutate,i=n.error,c=null==a?void 0:a.data,E=null==c?void 0:c.meowapps_hide_meowapps,w=null==c?void 0:c.force_sslverify,R=ae(ce(!1),2),x=R[0],k=R[1],O=ae(ce([]),2),S=O[0],P=O[1],j=ae(ce(""),2),T=j[0],A=j[1];le((function(){i&&!t&&(r(!0),console.error("Error from UseSWR",i.message))}),[i]),le((function(){var e=document.getElementById("meow-common-phpinfo");A(e.innerHTML)}),[]);var C=function(){var e=ne(X().mark((function e(t,r){var n,i;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ee({},a.data))[r]=t,o(ee(ee({},a),{},{data:n}),!1),k(!0),e.next=6,(0,s.PV)("".concat(se,"/update_option"),{method:"POST",nonce:L,json:{name:r,value:t}});case 6:i=e.sent,k(!1),i.success||alert(i.message),o();case 10:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),G=function(){var e=ne(X().mark((function e(){var t,r;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),e.next=3,(0,s.PV)("".concat(se,"/error_logs"),{method:"POST",nonce:L});case 3:t=e.sent,r=t&&t.data?t.data:[],P(r.reverse()),k(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=React.createElement(f.r,{title:"Main Menu"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"meowapps_hide_meowapps",label:"Hide (Not Recommended)",description:React.createElement(u.O,{p:!0},"This will hide the Meow Apps Menu (on the left side) and everything it contains. You can re-enable it through though an option that will be added in Settings â†’ General."),value:"1",disabled:x,checked:E,onChange:C}))),z=React.createElement(f.r,{title:"SSL Verify"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"force_sslverify",label:"Force (Not Recommended)",description:React.createElement(u.O,{p:!0},"This will enforce the usage of SSL when checking the license or updating the plugin."),value:"1",disabled:x,checked:w,onChange:C})));return React.createElement(m.s,{showRestError:t},React.createElement(d.B,{title:"The Dashboard"}),React.createElement(y.o,null,React.createElement(y.z,{full:!0},React.createElement(v.c,null,React.createElement(v.P,{title:"Meow Apps"},ue,React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(N,{title:"Media Cleaner",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/media-cleaner.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-cleaner/"},"Media Cleaner")),React.createElement("p",null,"Remove the useless media entries and files."))),React.createElement(N,{title:"Database Cleaner",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/database-cleaner.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner")),React.createElement("p",null,"Clean your database and make it faster."))),React.createElement(N,{title:"Media File Renamer",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/media-file-renamer.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/media-file-renamer/"},"Media File Renamer")),React.createElement("p",null,"Rename your filenames for a better SEO."))),React.createElement(N,{title:"Social Engine",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/social-engine.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/social-engine/"},"Social Engine")),React.createElement("p",null,"Share your articles and photos on the SNS."))),React.createElement(N,{title:"Meow Analytics",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/meow-analytics.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-analytics/"},"Meow Analytics")),React.createElement("p",null,"Google Analytics for your website.")))),React.createElement(y.z,{minimal:!0},React.createElement(N,{title:"Photo Engine",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/wplr-sync.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wplr-sync/"},"Photo Engine")),React.createElement("p",null,"Organize your photos in folders and collections.",React.createElement("br",null),"Synchronize with Lightroom."))),React.createElement(N,{title:"Meow Gallery",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/meow-gallery.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-gallery/"},"Meow Gallery")),React.createElement("p",null,"Fast and beautiful gallery with many layouts."))),React.createElement(N,{title:"Meow Lightbox",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/meow-lightbox.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/meow-lightbox/"},"Meow Lightbox")),React.createElement("p",null,"Sleek and performant lightbox with EXIF support."))),React.createElement(N,{title:"Perfect Images (Retina)",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/wp-retina-2x.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/wp-retina-2x/"},"Perfect Images")),React.createElement("p",null,"Optimize your thumbnails, retina, replace images, etc."))),React.createElement(N,{title:"Contact Form Block",className:"primary"},React.createElement(M,{src:"".concat(_,"/common/img/contact-form-block.png")}),React.createElement("div",{className:"plugin-desc"},React.createElement("h2",null,React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/contact-form-block/"},"Contact Form Block")),React.createElement("p",null,"Simple and straightforward contact form, in one block.")))))),React.createElement(v.P,{title:"Performance"},fe,React.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginBottom:25}},React.createElement(J,{title:"Empty Request Time",request:"empty_request",max:2500}),React.createElement(J,{title:"File Operation Time",request:"file_operation",max:2600}),React.createElement(J,{title:"SQL Request Time",request:"sql_request",max:2800})),he),React.createElement(v.P,{title:"PHP Info"},React.createElement(D,{dangerouslySetInnerHTML:{__html:T}})),React.createElement(v.P,{title:"PHP Error Logs"},React.createElement(I,null,React.createElement(g._,{style:{marginBottom:10},color:"#ccb027",onClick:G},"Load PHP Error Logs"),React.createElement(F,null,S.map((function(e){return React.createElement("li",{class:"log-".concat(e.type)},React.createElement("span",{class:"log-type"},e.type),React.createElement("span",{class:"log-date"},e.date),React.createElement("span",{class:"log-content"},e.content))}))),React.createElement(u.O,{p:!0},"If nothing appears after loading, it might be that your hosting service does not allow you to access the PHP error logs directly from here. Please contact them directly."))),React.createElement(v.P,{title:"Settings"},React.createElement(b.v,{title:"Settings",className:"primary"},B,z))))))},de=r(1492),ye=r(1203),ve=r(9137),ge=r(3506);function be(e){return be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},be(e)}function Ee(){Ee=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==be(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function we(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Re(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){we(o,n,a,i,c,"next",e)}function c(e){we(o,n,a,i,c,"throw",e)}i(void 0)}))}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ke=wp.element,Oe=ke.useState,Le=ke.useEffect,Se="".concat(R,"/meow-licenser/").concat(E,"/v1"),Pe=function(){var e=xe(Oe(!1),2),t=e[0],r=e[1],n=xe(Oe(!1),2),a=n[0],o=n[1],i=xe(Oe(null),2),c=i[0],l=i[1],h=xe(Oe(null),2),p=h[0],m=h[1],d=xe(Oe(""),2),y=d[0],v=d[1],E=O&&(!p||"valid"!==p.license),w=function(){var e=Re(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=2;break}return e.abrupt("return");case 2:return r(!0),e.next=5,(0,s.PV)("".concat(Se,"/get_license"),{method:"POST",nonce:L});case 5:t=e.sent,m(t.data),t.data.key&&v(t.data.key),r(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Re(Ee().mark((function e(){return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(0,s.PV)("".concat(Se,"/set_license"),{method:"POST",nonce:L,json:{serialKey:null}});case 3:e.sent.success&&(v(""),m(null),l("licenseRemoved")),r(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Re(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,(0,s.PV)("".concat(Se,"/set_license"),{method:"POST",nonce:L,json:{serialKey:y,override:!0}});case 3:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),r(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Re(Ee().mark((function e(){var t;return Ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("MEOW_OVERRIDE"!==y){e.next=5;break}return o(!0),m(null),v(""),e.abrupt("return");case 5:return r(!0),e.next=8,(0,s.PV)("".concat(Se,"/set_license"),{method:"POST",nonce:L,json:{serialKey:y}});case 8:(t=e.sent).success&&(m(t.data),t.data&&!t.data.issue&&l("licenseAdded")),r(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Le((function(){w()}),[]);var S=E?"Forced License":O?"Enabled":"Disabled",P=E||p&&"valid"===p.license,j="Your license is active. Thanks a lot for your support :)";E&&p&&p.check_url&&(j=React.createElement(React.Fragment,null,React.createElement("span",null,j),React.createElement("br",null),React.createElement("small",null,"This license was enabled manually. To check your license status, please click ",React.createElement("a",{target:"_blank",href:p.check_url+"&cache="+642e3*Math.random()},"here"),"."))),P||(p?"no_activations_left"===p.issue?j=React.createElement("span",null,"There are no activations left for this license. You can visit your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),", unregister a site, and click on ",React.createElement("i",null,"Retry to validate"),"."):"expired"===p.issue?j=React.createElement("span",null,"Your license has expired. You can get another license or renew the current one by visiting your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"Meow Apps Store"),"."):"missing"===p.issue?j="This license does not exist.":"disabled"===p.issue?j="This license has been disabled.":"item_name_mismatch"===p.issue?j="This license seems to be for a different plugin... isn't it? :)":"forced"===p.issue?j="ABC":(j=React.createElement("span",null,"There is an unknown error related to the system or this serial key. Really sorry about this! Make sure your security plugins and systems are off temporarily. If you are still experiencing an issue, please ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/contact/"},"contact us"),"."),console.error({license:p})):j="Unknown error :(");var T=React.createElement(b.v,{title:"Pro Version (Not Installed)",className:"primary"},"You will find more information about the Pro Version ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com"},"here"),". If you actually bought the Pro Version already, please remove the current plugin and download the Pro Version from your account at the ",React.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://meowapps.com/"},"Meow Apps Store"),"."),A=React.createElement(b.v,{title:"Pro Version (".concat(S,")"),busy:t,className:"primary"},React.createElement(f.r,{title:"Serial Key",style:{fontWeight:"bold"}},React.createElement(de.A,{id:"mfrh_pro_serial",name:"mfrh_pro_serial",disabled:t,value:y,onChange:function(e){return v(e)},placeholder:""})),p&&!P&&React.createElement(ge.G,null,j),p&&P&&React.createElement(ge.C,null,j),!p&&React.createElement(u.O,{p:!0},"Insert your serial key above. If you don't have one yet, you can get one ",React.createElement("a",{href:"https://meowapps.com"},"here"),". If there was an error during the validation, try the ",React.createElement("i",null,"Retry")," to ",React.createElement("i",null,"validate")," button."),React.createElement(f.r,{contentAlign:"right"},p&&!P&&React.createElement(g._,{className:"secondary",disabled:t||!y,onClick:_},"Retry to validate"),p&&p.key===y&&React.createElement(g._,{className:"secondary",disabled:t||!y,onClick:R},"Remove License"),React.createElement(g._,{disabled:t||!y||p&&p.key===y,onClick:_},"Validate License"),a&&!P&&React.createElement(g._,{disabled:t||!y||p&&p.key===y,onClick:x,className:"danger"},"Force License")),React.createElement(ye.L,{isOpen:"licenseAdded"===c,title:"Thank you :)",content:"The Pro features have been enabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}),React.createElement(ye.L,{isOpen:"licenseRemoved"===c,title:"Goodbye :(",content:"The Pro features have been disabled. This page should be now reloaded.",ok:"Reload",onOkClick:function(){return location.reload()}}));return k?A:T};function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Te(){Te=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==je(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ce(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==je(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===je(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Me(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Ne(o,n,a,i,c,"next",e)}function c(e){Ne(o,n,a,i,c,"throw",e)}i(void 0)}))}}function De(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ge=wp.element.useState,Be={marginTop:10,background:"rgb(0, 72, 88)",padding:10,color:"rgb(58, 212, 58)",maxHeight:600,minHeight:200,display:"block",fontFamily:"monospace",fontSize:12,whiteSpace:"pre",overflowX:"auto",width:"calc(100vw - 276px)"},ze=function(){var e=De(Ge(S),2),t=e[0],r=e[1],n=De(Ge(!1),2),a=n[0],o=n[1],i=De(Ge(""),2),c=i[0],l=i[1],R=De(Ge(),2),_=R[0],P=R[1],j=a,T=t.content,A=t.filesystem_content,C=t.media_library,I=t.live_content,N=t.debuglogs,M=t.images_only,D=t.attach_is_use,F=t.thumbnails_only,G=t.dirs_filter,B=t.files_filter,z=t.hide_thumbnails,U=t.hide_warning,q=t.skip_trash,Z=t.medias_buffer,H=t.posts_buffer,Y=t.analysis_buffer,W=t.file_op_buffer,V=t.delay,$=t.shortcodes_disabled,J=t.clean_uninstall,K=function(){var e=Me(Te().mark((function e(n,a){var i,c;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ce(Ce({},t),{},Ie({},a,n)),o(!0),e.prev=2,e.next=5,(0,s.ZL)("".concat(x,"/update_options"),{json:{options:i},nonce:L});case 5:(c=e.sent).success&&r(c.options),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),alert(e.t0.message);case 12:return e.prev=12,o(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=Me(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,(0,s.ZL)("".concat(x,"/reset_options"),{nonce:L});case 4:(t=e.sent).success&&r(t.options),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.message&&alert(e.t0.message);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Me(Te().mark((function e(){return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,s.ZL)("".concat(x,"/reset_db"),{nonce:L});case 3:P("resetDb"),o(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Me(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,s.ZL)("".concat(x,"/refresh_logs"),{nonce:L});case 3:(t=e.sent).success&&l(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Me(Te().mark((function e(){var t;return Te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,(0,s.ZL)("".concat(x,"/clear_logs"),{nonce:L});case 3:(t=e.sent).success&&l(t.data),o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=React.createElement(f.r,{title:"Content"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"content",label:"Check",description:"Checks if the media entries are used by the content (Posts, Pages and other Post Types, Metadata, Widgets, etc). Pagebuilders are only supported in the Pro Version.",value:"1",checked:T,onChange:K}))),ne=React.createElement(f.r,{title:"Content"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"filesystem_content",label:"Check",description:"Checks if the files are used by the content (Posts, Pages and other Post Types, Metadata, Widgets, etc).",value:"1",checked:A,onChange:K}))),ae=React.createElement(f.r,{title:"Media Library"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"media_library",label:"Check",description:"Checks if the files are properly registered in the Media Library.",value:"1",checked:C,onChange:K}))),oe=React.createElement(f.r,{title:"Live Content"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"live_content",label:"Check",description:"The live version of the site will be also analyzed (as if a visitor was loading it). It increases the accuracy of the results but slows down the speed dramatically.",value:"1",requirePro:!O,checked:I,onChange:K}))),ie=React.createElement(f.r,{title:"Images Only"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"images_only",label:"Enable",description:"Restricts the scan to images. Nothing else will be scanned.",value:"1",checked:M,onChange:K}))),ce=React.createElement(f.r,{title:"Attached Images"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"attach_is_use",label:"Consider as In Use",description:React.createElement(React.Fragment,null,"If a media entry is attached (in the Media Library, it is the ",React.createElement("b",null,"Uploaded To")," field), it will be considered as being used."),value:"1",checked:D,onChange:K}))),le=React.createElement(f.r,{title:"Thumbnails Only"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"thumbnails_only",label:"Enable",description:"Restricts Media Cleaner to scan thumbnails. With WordPress, those filenames contain the resolution.",value:"1",checked:F,onChange:K}))),se=React.createElement(f.r,{title:"Directories Filter"},React.createElement(de.A,{name:"dirs_filter",onReset:function(){K("","dirs_filter")},value:G,placeholder:"/regex/",onEnter:K,onBlur:K})),ue=React.createElement(f.r,{title:"Files Filter"},React.createElement(de.A,{name:"files_filter",onReset:function(){K("","files_filter")},value:B,placeholder:"/regex/",onEnter:K,onBlur:K})),fe=React.createElement(f.r,{title:"Thumbnails"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"hide_thumbnails",label:"Hide",description:"If you prefer not to see the thumbnails.",value:"1",checked:z,onChange:K}))),he=React.createElement(f.r,{title:"Skip Trash"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"skip_trash",label:"Yes",description:"This will disable the trash and the restore related features.",value:"1",checked:q,onChange:K}))),pe=React.createElement(f.r,{title:"Warning Message"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"hide_warning",label:"Hide",description:"Have you read it twice? If yes, hide it :)",requirePro:!O,value:"1",checked:U,onChange:K}))),me=React.createElement(f.r,{title:"Plugin Data"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"clean_uninstall",label:"Delete all",description:"The database and all the options of the plugin will be removed on uninstall. This also includes the information about the plugin's trash.",value:"1",checked:J,onChange:K}))),ge=React.createElement(f.r,{title:"Medias Buffer"},React.createElement(de.A,{name:"medias_buffer",type:"number",value:Z,min:"1",max:"1000",onEnter:K,onBlur:K,description:"The number of media entries to read at a time. This is fast, so the value should be between 50 and 1000."})),be=React.createElement(f.r,{title:"Posts Buffer"},React.createElement(de.A,{name:"posts_buffer",type:"number",value:H,min:"1",max:"100",onEnter:K,onBlur:K,description:"The number of posts (and any other post types) to analyze at a time. This is the most intense part of the process. Recommended value is between 1 (slow server) and 20 (excellent server)."})),Ee=React.createElement(f.r,{title:"Analysis Buffer"},React.createElement(de.A,{name:"analysis_buffer",type:"number",value:Y,min:"1",max:"1000",onEnter:K,onBlur:K,description:"The number of media entries or files to analyze at a time. This is the main part of the process, but is is much faster than analyzing each post. Recommended value is between 20 (slow server) and 1000 (excellent server)."})),we=React.createElement(f.r,{title:"File Operation Buffer"},React.createElement(de.A,{name:"file_op_buffer",type:"number",value:W,min:"1",max:"100",onEnter:K,onBlur:K,description:"The number of media entries or files to delete at a time. This highly depends on your server, it is normally quite fast. Recommended value is between 5 (slow server) and 100 (excellent server). "})),Re=React.createElement(f.r,{title:"Delay (in ms)"},React.createElement(de.A,{name:"delay",type:"number",value:V,min:"0",max:"20000",onEnter:K,onBlur:K,description:"Time to wait between each request (in milliseconds). The overall process is intensive so this gives the chance to your server to chill out a bit. A very good server doesn't need it, but a slow/shared hosting might even reject requests if they are too fast and frequent. Recommended value is actually 0, 100 for safety, 2000 or 5000 if your hosting is kind of cheap."})),xe=React.createElement(f.r,{title:"Shortcodes"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"shortcodes_disabled",label:"Disable Analysis",description:"Resolving shortcodes increase accuracy, but makes the process slower and takes more memory.",value:"1",checked:$,onChange:K}))),_e=React.createElement(f.r,{title:"Logs"},React.createElement(h.l,{max:"1"},React.createElement(p.P,{id:"debuglogs",label:"Enable",description:React.createElement(u.O,{p:!0},"Simple logging that explains which actions has been run."),value:"1",checked:N,onChange:K}),React.createElement("div",{style:{marginTop:20}},React.createElement(g._,{onClick:ee},"Refresh Logs"),React.createElement(g._,{className:"danger",onClick:te},"Clear Logs")))),ke=React.createElement(g._,{className:"danger",disabled:j,onClick:X},"Reset Options");return React.createElement(m.s,null,React.createElement(ye.L,{isOpen:"resetDb"===_,onRequestClose:function(){P(null)},title:"Done!",content:"The Media Cleaner's database has been deleted. It will be re-created automatically next time you visit the Media Cleaner Dashboard.",onOkClick:function(){P(null)}}),React.createElement(d.B,{title:"Media Cleaner | Settings",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(g._,{className:"header",onClick:function(){return window.open("https://meowapps.com/media-cleaner-tutorial/","_blank")}},"Tutorial"),React.createElement(g._,{className:"header",icon:"dashboard",onClick:function(){return location.href="upload.php?page=wpmc_dashboard"}},"Dashboard"))),React.createElement(y.o,null,React.createElement(y.z,{fullWidth:!0},React.createElement(ve.H,{footer:React.createElement(React.Fragment,null,React.createElement(g._,{className:"primary",onClick:function(){return location.href="upload.php?page=wpmc_dashboard"}},"Access Media Cleaner Dashboard"),React.createElement(g._,{className:"danger",onClick:Q},"Delete Cleaner DB"))},React.createElement(u.O,{p:!0},"There are two kinds of scan. Usually, the ",React.createElement("b",null,"Media Library")," should be scanned first for images which are not used (Content = Check). Then, the ",React.createElement("b",null,"Filesystem")," should be scanned for images which aren't registered in the Media Library (Media Library = Check). Check the ",React.createElement("a",{target:"_blank",href:"https://meowapps.com/media-cleaner-tutorial/"},"tutorial")," tutorial for more information. If you wish to clean your ",React.createElement("b",null,"Database"),", try ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner"),", you will love it! ðŸ’•")),React.createElement(v.c,{keepTabOnReload:!0},React.createElement(v.P,{title:"Media Library Scan"},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"Scanning",className:"primary"},re,oe,(T||I)&&React.createElement(u.O,{p:!0},"If you would like Media Cleaner to analyze your Media Library for broken entries, uncheck everything above."),!T&&!I&&React.createElement(u.O,{p:!0},React.createElement("b",null,"Since Content and Live Content are not checked, Media Cleaner will analyze your Media Library for ",React.createElement("u",null,"broken entries"),".")))),React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"Filters",className:"primary"},ie),React.createElement(b.v,{busy:j,title:"Extra Rules",className:"primary"},ce)))),React.createElement(v.P,{title:"Filesystem Scan",requirePro:!O},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"Scanning",className:"primary"},ae,ne,oe,React.createElement(u.O,{p:!0},"If none of the checks above are selected, you will get the list of all your files."))),React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"Filters",className:"primary"},le,se,ue)))),React.createElement(v.P,{title:"Advanced"},React.createElement(y.o,null,React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"UI & Logs",className:"primary"},fe,he,pe),React.createElement(b.v,{busy:j,title:"On Uninstall",className:"primary"},me),React.createElement(b.v,{busy:j,title:"For Advanced Users & Developers",className:"primary"},ke)),React.createElement(y.z,{minimal:!0},React.createElement(b.v,{busy:j,title:"Advanced Settings",className:"primary"},ge,be,Ee,we,Re,xe)))),React.createElement(v.P,{title:"License"},React.createElement(Pe,{domain:w,prefix:E,isPro:k,isRegistered:O})),React.createElement(v.P,{title:"Logs & Debug"},React.createElement(b.v,{busy:j,className:"primary"},_e),React.createElement("div",{style:Be},c))))))},Ue=r(4291),qe=r(5231),Ze=r(3565),He=r(8281),Ye=r(3899),We=r(3103),Ve=r(776),$e=r(3676),Je=r(7363);function Ke(e){return Ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(e)}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?et(Object(r),!0).forEach((function(t){rt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function rt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ke(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==Ke(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===Ke(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nt(){nt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==Ke(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function at(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ot(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){at(o,n,a,i,c,"next",e)}function c(e){at(o,n,a,i,c,"throw",e)}i(void 0)}))}}var it,ct,lt={issues:"-",ignored:"-",trash:"-"},st={accessor:"size",by:"desc"},ut=0,ft={filterBy:"issues",sort:st,page:1,limit:parseInt(S.posts_per_page),search:"",busy:!1,stats:lt,apiErrors:null,status:"",options:S,entries:[],selectedItems:[],total:0,method:S.method,content:P,mediaLibrary:j,hideThumbnails:S.hide_thumbnails,hideWarning:S.hide_warning,skipTrash:S.skip_trash,postsBuffer:parseInt(S.posts_buffer),mediasBuffer:parseInt(S.medias_buffer),analysisBuffer:parseInt(S.analysis_buffer),fileOpBuffer:parseInt(S.file_op_buffer),delay:parseInt(S.delay),modals:{deleteAll:!1,trashAll:!1,recoverAll:!1},mutateEntries:(ct=ot(nt().mark((function e(){return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return ct.apply(this,arguments)}),mutateStats:(it=ot(nt().mark((function e(){return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return it.apply(this,arguments)})},ht="PAGE_UPDATED",pt="LIMIT_UPDATED",mt="FILTER_UPDATED",dt="SORT_UPDATED",yt="SEARCH_UPDATED",vt="TOTAL_UPDATED",gt="STATUS_UPDATED",bt="SETTINGS_UPDATED",Et="TOGGLE_MODAL",wt="PUSH_BUSY",Rt="POP_BUSY",xt="ENTRIES_UPDATED",_t="ITEMS_SELECTED",kt="STATS_UPDATED",Ot="ERROR_UPDATED",Lt="SET_ENTRIES_MUTATE",St="SET_STATS_MUTATE",Pt=function(e,t){switch(t.type){case xt:var r=t.entries;return tt(tt({},e),{},{entries:r});case kt:var n=t.stats;return tt(tt({},e),{},{stats:n});case Ot:var a=t.apiErrors;return tt(tt({},e),{},{apiErrors:a});case ht:var o=t.page;return tt(tt({},e),{},{page:o});case Lt:var i=t.mutateEntries;return tt(tt({},e),{},{mutateEntries:i});case St:var c=t.mutateStats;return tt(tt({},e),{},{mutateStats:c});case pt:var l=t.limit;return tt(tt({},e),{},{limit:l});case mt:var s=t.filter;return tt(tt({},e),{},{filterBy:s});case dt:var u=t.sort,f=void 0===u?st:u;return tt(tt({},e),{},{sort:f});case yt:var h=t.search;return tt(tt({},e),{},{search:h});case vt:var p=t.total;return tt(tt({},e),{},{total:p});case Et:var m=t.modal,d=t.enable;if(void 0===e.modals[m])return alert("The modal ".concat(m," doesn't exist.")),console.error("The modal ".concat(m," doesn't exist.")),e;void 0===d&&(d=!e.modals[m]);var y=tt({},e);return y.modals=tt({},y.modals),y.modals[m]=d,y;case wt:var v=t.status,g=void 0===v?"":v;return tt(tt({},e),{},{busy:++ut>0,status:g});case Rt:var b=t.status,E=void 0===b?"":b;return tt(tt({},e),{},{busy:--ut>0,status:E});case gt:var w=t.status,R=void 0===w?"":w;return tt(tt({},e),{},{status:R});case bt:var x=t.options,_=x.method,k="files"===x.method?x.filesystem_content:x.content,O="files"===x.method&&(null==x?void 0:x.media_library),L=x.hide_thumbnails,S=x.hide_warning,P=x.skip_trash,j=x.posts_buffer?parseInt(x.posts_buffer):5,T=x.medias_buffer?parseInt(x.medias_buffer):100,A=x.analysis_buffer?parseInt(x.analysis_buffer):100,C=x.file_op_buffer?parseInt(x.file_op_buffer):20,I=x.delay?parseInt(x.delay):0,N=x.posts_per_page?parseInt(x.posts_per_page):10;return tt(tt({},e),{},{options:x,method:_,content:k,mediaLibrary:O,hideThumbnails:L,hideWarning:S,skipTrash:P,postsBuffer:j,mediasBuffer:T,analysisBuffer:A,fileOpBuffer:C,delay:I,limit:N});case _t:var M=t.selectedItems;return tt(tt({},e),{},{selectedItems:M});default:return e}},jt=(0,Je.createContext)(),Tt=function(e){var t=e.children,r=Xe((0,Je.useReducer)(Pt,ft),2),n=r[0],a=r[1],o=n.filterBy,i=n.sort,c=n.search,u=n.page,f=n.limit,h=(0,Je.useMemo)((function(){return[(0,s.Ln)("".concat(x,"/entries"),{limit:f,skip:(u-1)*f,filterBy:o,orderBy:i.accessor,order:i.by,search:c}),{headers:{"X-WP-Nonce":L}}]}),[o,i,c,u,f,x,L,s.Ln]),p=(0,Je.useMemo)((function(){return[(0,s.Ln)("".concat(x,"/stats"),{search:c}),{headers:{"X-WP-Nonce":L}}]}),[c,x,L,s.Ln]),m=(0,l.ZP)(h,s.SG),d=m.data,y=m.mutate,v=(0,Ue.Fq)(d,[],!0),g=v.busy,b=v.data,E=v.total,w=v.error;(0,Je.useEffect)((function(){a({type:Lt,mutateEntries:y})}),[y]),(0,Je.useEffect)((function(){a({type:g?wt:Rt})}),[g]),(0,Je.useEffect)((function(){a({type:xt,entries:b})}),[b]),(0,Je.useEffect)((function(){a({type:vt,total:E})}),[E]),(0,Je.useEffect)((function(){a({type:Ot,apiError:w})}),[w]);var R=(0,l.ZP)(p,s.SG),_=R.data,k=R.mutate,O=(0,Ue.Fq)(_,lt,!0),S=O.busy,P=O.data,j=O.error;return(0,Je.useEffect)((function(){a({type:St,mutateStats:k})}),[k]),(0,Je.useEffect)((function(){a({type:S?wt:Rt})}),[S]),(0,Je.useEffect)((function(){a({type:kt,stats:P})}),[P]),(0,Je.useEffect)((function(){a({type:Ot,apiError:j})}),[j]),React.createElement(jt.Provider,{value:[n,a]},t)},At=function(){var e={},t=Xe((0,Je.useContext)(jt),2),r=t[0],n=t[1];return e.setSelectedItems=function(e){n({type:_t,selectedItems:e})},e.setStatus=function(e){n({type:gt,status:e})},e.updateOption=function(){var e=ot(nt().mark((function e(t,a){var o,i;return nt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:wt}),o=tt(tt({},r.options),{},rt({},a,t)),e.prev=2,e.next=5,(0,s.ZL)("".concat(x,"/update_options"),{json:{options:o},nonce:L});case 5:(i=e.sent).success&&n({type:bt,options:i.options}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&alert(e.t0.message);case 12:return e.prev=12,n({type:Rt}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,r){return e.apply(this,arguments)}}(),e.setPage=function(e){n({type:ht,page:e})},e.setLimit=function(e){n({type:pt,limit:e})},e.setFilter=function(e){n({type:mt,filter:e})},e.setSort=function(e){n({type:dt,sort:e})},e.setSearch=function(e){n({type:yt,search:e})},e.toggleModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;n({type:Et,modal:e,enable:t})},e.pushBusy=function(){n({type:wt})},e.popBusy=function(){n({type:Rt})},tt(tt({},r),e)},Ct={borderLeft:"4px solid #007bba"},It={borderLeft:"4px solid #f1ad31"},Nt={borderLeft:"4px solid #d85960"},Mt=function(){var e=At(),t=e.hideWarning,r=e.method,n=e.content,a=e.mediaLibrary,o=S.incompatible_plugins,i=React.createElement(React.Fragment,null,React.createElement(g._,{className:"secondary",onClick:function(){return window.open("https://meowapps.com/plugin/media-cleaner/","_blank")}},"Get the Pro Version"),React.createElement(g._,{className:"primary",onClick:function(){return window.open("https://meowapps.com/media-cleaner-tutorial/","_blank")}},"Read the tutorial"));return React.createElement(React.Fragment,null,"media"===r&&!n&&React.createElement(ve.H,{style:Ct},React.createElement(u.O,{p:!0,style:{fontSize:15}},"Media Cleaner will scan your Media Library for broken entries.")),"media"===r&&n&&React.createElement(ve.H,{style:Ct},React.createElement(u.O,{p:!0,style:{fontSize:15}},"Media Cleaner will scan your Media Library for entries which aren't used in your content.")),"files"===r&&n&&a&&React.createElement(ve.H,{style:Ct},React.createElement(u.O,{p:!0,style:{fontSize:15}},"Media Cleaner will scan your physical directories for files which are not registered in the Media Library or not used directly in your content.")),"files"===r&&!n&&a&&React.createElement(ve.H,{style:Ct},React.createElement(u.O,{p:!0,style:{fontSize:15}},"Media Cleaner will scan your physical directories for files which are not registered in the Media Library.")),"files"===r&&!n&&!a&&React.createElement(ve.H,{style:Ct},React.createElement(u.O,{p:!0,style:{fontSize:15}},"Media Cleaner will return all the files from your physical directories, without checking if the files are used or not.")),!t&&React.createElement(ve.H,{style:It},React.createElement(u.O,{p:!0},React.createElement("p",null,React.createElement("b",null,React.createElement("span",{style:{color:"red"}},"This is important.")," Backup your DB and your /uploads directory before using Media Cleaner.")," The deleted files will be temporarily moved to the ",React.createElement("i",null,"uploads/wpmc-trash")," directory. After testing your site, you can check the ",React.createElement("i",null,"Trash")," in order to empty it or to recover your files. That said, you still must have a backup! If you don't know how, give a try to this: ",React.createElement("a",{href:"http://meow.click/blogvault",target:"_blank"},"BlogVault"),"."),React.createElement("p",null,React.createElement("b",null,React.createElement("span",{style:{color:"red"}},"Please be considerate.")," Don't blame Media Cleaner if it deleted too many (or not enough) of your files.")," WordPress being a very dynamic and pluggable system, it is impossible to predict all the situations in which your files are used. Please do not post a bad review because it broke your install; if you have a proper backup, there is no risk! You can disable this big warning in the options if you have the Pro Version. Read this warning twice. Media Cleaner is awesome and constantly gets better so I sincerely hope you will enjoy it. Thank you :)"))),!O&&React.createElement(ve.H,{footer:i},React.createElement(u.O,{p:!0},"You must ",React.createElement("b",null,"backup the uploads folder and DB")," before using the Cleaner. If you don't know how, give a try to ",React.createElement("a",{target:"_blank",href:"https://meow.click/blogvault"},"BlogVault"),". It is also highly recommanded to read the tutorial. Last but not least, check the ",React.createElement("b",null,"Pro Version"),", as it adds many features and also supports the development. This message is only displayed in the free version. Thank you!")),o&&o.length>0&&React.createElement(ve.H,{style:Nt},React.createElement(u.O,{p:!0,style:{fontSize:15}},React.createElement("p",null,"Important note about the following plugin(s) which you are using:"),React.createElement("ul",null,o.map((function(e){return React.createElement("li",null,"- ",e)}))),React.createElement("p",null,"They require additional checks which are only implemented in ",React.createElement("a",{target:"_blank",href:"//meowapps.com/plugin/media-cleaner"},"Media Cleaner Pro"),"."))))},Dt=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function Ft(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Gt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bt=wp.element,zt=Bt.useMemo,Ut=Bt.useCallback;function qt(e){return qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qt(e)}function Zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!==qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===qt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ht(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Kt(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw o}}}}function Yt(e){return function(e){if(Array.isArray(e))return Xt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Kt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wt(){Wt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,a){var o=t&&t.prototype instanceof h?t:h,i=Object.create(o.prototype),c=new k(a||[]);return n(i,"_invoke",{value:w(e,r,c)}),i}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function h(){}function p(){}function m(){}var d={};l(d,o,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(O([])));v&&v!==t&&r.call(v,o)&&(d=v);var g=m.prototype=h.prototype=Object.create(d);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function a(n,o,i,c){var l=u(e[n],e,o);if("throw"!==l.type){var s=l.arg,f=s.value;return f&&"object"==qt(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return a("throw",e,i,c)}))}c(l.arg)}var o;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){a(e,r,t,n)}))}return o=o?o.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return{value:void 0,done:!0}}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var c=R(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=u(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===f)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function R(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,R(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=u(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,f;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:p,configurable:!0}),p.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(E.prototype),l(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(s(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(g),l(g,c,"Generator"),l(g,o,(function(){return this})),l(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=O,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;_(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function Vt(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function $t(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){Vt(o,n,a,i,c,"next",e)}function c(e){Vt(o,n,a,i,c,"throw",e)}i(void 0)}))}}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||Kt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kt(e,t){if(e){if("string"==typeof e)return Xt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xt(e,t):void 0}}function Xt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Qt=wp.element,er=Qt.useState,tr=Qt.useEffect,rr=Qt.useMemo,nr=[{id:"media",value:"media",label:"Media Library",requirePro:!1},{id:"files",value:"files",label:"Filesystem",requirePro:!O}],ar={width:40,height:40,objectFit:"cover"},or={NO_CONTENT:"Not found in content",ORPHAN_MEDIA:"Not attached file",ORPHAN_FILE:"Not in library",ORPHAN_RETINA:"Orphan @2x",ORPHAN_WEBP:"Orphan WebP"},ir=function(){var e,t,r,n,a,o,i,c,l,u=At(),f=u.apiErrors,h=u.busy,p=u.selectedItems,v=u.entries,b=u.stats,E=u.total,w=u.filterBy,R=u.search,_=(u.hideWarning,u.status),k=u.sort,O=u.page,S=u.limit,P=u.method,j=u.content,T=u.mediaLibrary,A=u.hideThumbnails,C=u.postsBuffer,I=(u.skipTrash,u.mediasBuffer),N=u.analysisBuffer,M=u.fileOpBuffer,D=u.delay,F=u.modals,G=At(),B=G.setSelectedItems,z=G.setSearch,U=G.setStatus,q=G.setSort,Z=G.setPage,H=G.setLimit,Y=G.setFilter,W=G.mutateEntries,V=G.mutateStats,$=G.pushBusy,J=G.popBusy,K=G.toggleModal,X=G.updateOption,Q=(t={pressShift:(0,Ue.vU)().pressShift,list:v,selectedList:p,setSelectedList:B},n=t.list,a=t.selectedList,o=t.setSelectedList,c=void 0===(i=t.key)?"id":i,l=zt((function(){if(!r||!a.length)return null;var e=a[a.length-1];return n.findIndex((function(t){return t[c]===e}))}),[r=t.pressShift]),{onSelect:Ut((function(e){if(null!==l){var t=e[0],r=n.findIndex((function(e){return e[c]===t})),i=(l<r?l:r)+1,s=l<r?r:l,u=n.slice(i,s).map((function(e){return e[c]})).filter((function(e){return!a.some((function(t){return t===e}))}));o([].concat(Ft(a),Ft(u),Ft(e)))}else o([].concat(Ft(a),Ft(e)))}),[a,l,n])}).onSelect,ee=Jt(er(1),2),te=ee[0],re=ee[1],ne=Jt(er(1),2),ae=ne[0],oe=ne[1],ie=Jt(er(""),2),ce=ie[0],le=ie[1],se=Jt(er(!1),2),ue=se[0],fe=se[1],he=(0,Ue.qj)(),pe=Jt(er(),2),me=pe[0],ve=pe[1],ge=rr((function(){return v.map((function(e){var t="_blank",r="trash"===w?e.image_url:"/wp-admin/post.php?post=".concat(e.postId,"&action=edit");return{id:e.id,thumbnail_url:React.createElement(React.Fragment,null,"ORPHAN_MEDIA"!==e.issue&&React.createElement("a",{href:e.image_url,title:"Open Image",target:t},React.createElement("img",{src:e.thumbnail_url,style:ar}))),type:React.createElement("span",null,0==e.type&&"Filesystem",1==e.type&&React.createElement("a",{href:r,target:t},"ID ",e.postId)),path:React.createElement("div",{style:{display:"flex",flexDirection:"column"}},e.title&&React.createElement("a",{href:r,target:t},React.createElement("span",null,e.title)),React.createElement("span",null,e.path)),issue:React.createElement("span",null,or[e.issue]?or[e.issue]:e.issue),size:React.createElement("span",null,(e.size/1e3).toFixed(2)," KB")}}))}),[v]),be=[{accessor:"type",title:"Origin",sortable:!0},{accessor:"path",title:"Title & Path",sortable:!0},{accessor:"issue",title:"Issue",sortable:!0},{accessor:"size",title:"Size",sortable:!0}];A||be.unshift({accessor:"thumbnail_url",title:"",style:{width:16}}),tr((function(){B([]),q(),Z(1)}),[w]);var Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;(e=null!==e?e:he.getErrorCount())>0&&le("The process has finished, but ".concat(e," error(s) occurred.")),he.reset(),B([]),W(),V()},we=function(){var e=$t(Wt().mark((function e(t){var r,n,a=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:null,e.next=3,(0,s.ZL)("".concat(x,"/all_ids"),{json:{source:t,search:r},nonce:L});case 3:if((n=e.sent).success){e.next=7;break}return alert(n.message),e.abrupt("return",[]);case 7:return e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=$t(Wt().mark((function e(t){var r;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(D>0)){e.next=3;break}return e.next=3,Dt(D);case 3:return e.next=5,(0,s.ZL)("".concat(x,"/count"),{json:{source:t},nonce:L});case 5:return r=e.sent,e.abrupt("return",r.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=$t(Wt().mark((function e(){var t,r,n,a,o,i,c=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:null,r=c.length>1&&void 0!==c[1]&&c[1],n=c.length>2&&void 0!==c[2]?c[2]:null,U("Getting IDs..."),$(),!t){e.next=9;break}e.t0=t,e.next=12;break;case 9:return e.next=11,we(r?"trash":"issues",n);case 11:e.t0=e.sent;case 12:if(!(a=e.t0)){e.next=20;break}return U(r?"Emptying...":"Deleting..."),o=(0,s.wr)(a,M),i=o.map((function(e){return function(){var t=$t(Wt().mark((function t(r){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(D>0)){t.next=3;break}return t.next=3,Dt(D);case 3:return t.next=5,(0,s.ZL)("".concat(x,"/delete"),{json:{entryIds:e},signal:r,nonce:L});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=19,he.start(i);case 19:Ee();case 20:J(),U();case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=$t(Wt().mark((function e(){var t,r,n,a,o=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=o.length>0&&void 0!==o[0]?o[0]:null,U("Getting IDs..."),$(),!t){e.next=7;break}e.t0=t,e.next=10;break;case 7:return e.next=9,we("trash");case 9:e.t0=e.sent;case 10:if(!(r=e.t0)){e.next=17;break}return n=(0,s.wr)(r,M),a=n.map((function(e){return function(){var t=$t(Wt().mark((function t(r){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U("Recovering..."),!(D>0)){t.next=4;break}return t.next=4,Dt(D);case 4:return t.next=6,(0,s.ZL)("".concat(x,"/recover"),{json:{entryIds:e},signal:r,nonce:L});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=16,he.start(a);case 16:Ee();case 17:J(),U();case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=$t(Wt().mark((function e(){var t,r,n,a,o,i=arguments;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(i.length>0&&void 0!==i[0])||i[0],r=i.length>1&&void 0!==i[1]?i[1]:null,U("Getting IDs..."),$(),!r){e.next=8;break}e.t0=r,e.next=11;break;case 8:return e.next=10,we("issues");case 10:e.t0=e.sent;case 11:if(!(n=e.t0)){e.next=19;break}return U("".concat(t?"Ignoring...":"Undoing...")),a=(0,s.wr)(n,N),o=a.map((function(e){return function(){var r=$t(Wt().mark((function r(n){return Wt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(D>0)){r.next=3;break}return r.next=3,Dt(D);case 3:return r.next=5,(0,s.ZL)("".concat(x,"/set_ignore"),{json:{entryIds:e,ignore:t},signal:n,nonce:L});case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()})),e.next=18,he.start(o);case 18:Ee();case 19:J(),U();case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=$t(Wt().mark((function e(t){return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X(t,"posts_per_page");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=$t(Wt().mark((function e(){return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:he.stop();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){Le(),Ee(),J(),U()},Pe=function(){var e=$t(Wt().mark((function e(){var t,r,n,a,o,i,c,l,u,f,h,p,m,d,y,v,g;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,$(),ve(Date.now()),fe(!0),B([]),re(1),oe(3+(j?1:0)+("files"===P&&T?1:0)),U("Resetting issues..."),e.next=10,(0,s.ZL)("".concat(x,"/reset_issues"),{nonce:L});case 10:if(re((function(e){return e+1})),!j){e.next=24;break}return U("Extract from content..."),e.next=15,Re("posts");case 15:for(r=e.sent,n=[],a=0;a<r;a+=C)n.push(a);return o=n.map((function(e){return function(){var t=$t(Wt().mark((function t(r){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(D>0)){t.next=3;break}return t.next=3,Dt(D);case 3:return t.next=5,(0,s.ZL)("".concat(x,"/extract_references"),{json:{source:"content",limit:e},signal:r,nonce:L});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=21,he.start(o);case 21:t+=he.getErrorCount(),he.reset(),re((function(e){return e+1}));case 24:if("files"!==P||!T){e.next=37;break}return U("Extract from library..."),e.next=28,Re("medias");case 28:for(i=e.sent,c=[],l=0;l<i;l+=C)c.push(l);return u=c.map((function(e){return function(){var t=$t(Wt().mark((function t(r){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(D>0)){t.next=3;break}return t.next=3,Dt(D);case 3:return t.next=5,(0,s.ZL)("".concat(x,"/extract_references"),{json:{source:"media",limit:e},signal:r,nonce:L});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=34,he.start(u);case 34:he.reset(),t+=he.getErrorCount(),re((function(e){return e+1}));case 37:if(f=[],"media"!==P){e.next=53;break}return U("Listing media..."),e.next=42,Re("medias");case 42:for(h=e.sent,p=[],m=0;m<h;m+=I)p.push(m);return d=p.map((function(e){return function(){var t=$t(Wt().mark((function t(r){var n;return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(D>0)){t.next=3;break}return t.next=3,Dt(D);case 3:return t.next=5,(0,s.ZL)("".concat(x,"/retrieve_medias"),{json:{limit:e},signal:r,nonce:L});case 5:return(n=t.sent).data&&(f=[].concat(Yt(f),Yt(n.data.results))),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=48,he.start(d);case 48:he.reset(),t+=he.getErrorCount(),re((function(e){return e+1})),e.next=64;break;case 53:if("files"!==P){e.next=63;break}return U("Listing files..."),y=function(){var e=$t(Wt().mark((function e(t,r){var n,a,o,i,c;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.ZL)("".concat(x,"/retrieve_files"),{json:{path:t},signal:r,nonce:L});case 2:n=e.sent,a=n.data,o=Ht(a.results),e.prev=5,c=Wt().mark((function e(){var t;return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"dir"===(t=i.value).type?he.addTask($t(Wt().mark((function e(){return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t.path,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))):f.push(t.path);case 2:case"end":return e.stop()}}),e)})),o.s();case 8:if((i=o.n()).done){e.next=12;break}return e.delegateYield(c(),"t0",10);case 10:e.next=8;break;case 12:e.next=17;break;case 14:e.prev=14,e.t1=e.catch(5),o.e(e.t1);case 17:return e.prev=17,o.f(),e.finish(17);case 20:return e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[5,14,17,20]])})));return function(t,r){return e.apply(this,arguments)}}(),e.next=58,he.start([function(){var e=$t(Wt().mark((function e(t){return Wt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y("",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]);case 58:he.reset(),t+=he.getErrorCount(),re((function(e){return e+1})),e.next=64;break;case 63:alert("This method is not known!");case 64:if(!f){e.next=71;break}return U("Matching with content..."),v=(0,s.wr)(f,N),g=v.map((function(e){return function(){var t=$t(Wt().mark((function t(r){return Wt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(D>0)){t.next=3;break}return t.next=3,Dt(D);case 3:return t.next=5,(0,s.ZL)("".concat(x,"/check_targets"),{json:{method:P,targets:e},signal:r,nonce:L});case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),e.next=70,he.start(g);case 70:t+=he.getErrorCount();case 71:Ee(t),ve(),fe(),J(),U();case 76:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return React.createElement(m.s,{nekoErrors:[f]},React.createElement(d.B,{title:"Media Cleaner | Dashboard",subtitle:"By Jordy Meow"},React.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},React.createElement(g._,{className:"header",onClick:function(){return window.open("https://meowapps.com/media-cleaner-tutorial/","_blank")}},"Tutorial"),React.createElement(g._,{icon:"cog",className:"header",onClick:function(){return location.href="admin.php?page=wpmc_settings"}},"Settings"))),React.createElement(y.o,null,React.createElement(y.z,{fullWidth:!0},React.createElement(Mt,null),React.createElement(qe.P,null,!p.length&&React.createElement(React.Fragment,null,React.createElement(g._,{icon:"play",disabled:h,isBusy:ue,startTime:me,onClick:function(){return Pe()}},"Scan"),!_&&React.createElement(Ze.N,{id:"method",scrolldown:!0,disabled:h,name:"method",style:{width:200},onChange:X,value:P},nr.map((function(e){return React.createElement(Ze.Z,{key:e.id,id:e.id,value:e.value,label:e.label,requirePro:e.requirePro})})))),p.length>0&&React.createElement(g._,{disabled:h,onClick:function(){return B([])}},"Unselect All"),_&&React.createElement("div",{style:(e={display:"flex",fontFamily:"Lato",padding:"0 10px",flexDirection:"column",fontWeight:600,width:200},Zt(e,"flexDirection","column"),Zt(e,"height",30),Zt(e,"lineHeight","16px"),Zt(e,"justifyContent","center"),Zt(e,"textTransform","uppercase"),e)},React.createElement("div",{style:{color:"#144675",fontSize:17}},"STEP ".concat(te,"/").concat(ae)),React.createElement("div",{style:{color:"#007bba"}},_)),!h&&"issues"===w&&p.length>0&&React.createElement(React.Fragment,null,React.createElement(g._,{className:"secondary",onClick:function(){return ke(!0,p)}},"Ignore ",React.createElement("strong",null,p.length)," entries"),React.createElement(g._,{className:"danger",onClick:function(){return xe(p)}},"Delete ",React.createElement("strong",null,p.length)," entries")),!h&&"ignored"===w&&p.length>0&&React.createElement(React.Fragment,null,React.createElement(g._,{className:"secondary",onClick:function(){return ke(!1,p)}},"Undo ",React.createElement("strong",null,p.length)," entries")),!h&&"trash"===w&&p.length>0&&React.createElement(React.Fragment,null,React.createElement(g._,{icon:"delete",className:"secondary",onClick:function(){return _e(p)}},"Recover ",React.createElement("strong",null,p.length)," entries")),React.createElement("div",{style:{flex:1}},_&&React.createElement(He.U,{status:function(e){return"".concat(he.max?"".concat(e,"%"):"+=")},busy:he.busy,value:he.value,max:he.max,onStopClick:he.stop})),!h&&React.createElement(React.Fragment,null,React.createElement(de.A,{onBlur:function(e){z(e)},onEnter:function(e){z(e)},value:R,onReset:function(){z("")}}),!R&&React.createElement(Ye.J,{icon:"search",width:24,style:{position:"relative",left:-34,marginRight:-22},color:"#5a5a5a82"})),!h&&"issues"===w&&b.issues>0&&React.createElement(React.Fragment,null,React.createElement(g._,{icon:"delete",className:"danger",onClick:function(){return K("deleteAll")}},"Delete ",React.createElement("strong",null,"All"))),!h&&"trash"===w&&b.trash>0&&React.createElement(React.Fragment,null,React.createElement(g._,{className:"primary",onClick:function(){return K("recoverAll")}},"Recover ",React.createElement("strong",null,"All")),React.createElement(g._,{icon:"delete",className:"danger",onClick:function(){return K("trashAll")}},"Empty Trash"))),React.createElement("p",null,"There are ",React.createElement("b",null,b.issues," issue",b.issues>1?"s":"")," with your files, accounting for ",React.createElement("b",null,(b.issues_size/1e6).toFixed(2)," MB"),". Your trash contains ",React.createElement("b",null,(b.trash_size/1e6).toFixed(2)," MB"),"."),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10,marginBottom:10}},React.createElement(We.h,{value:w,busy:h,onChange:function(e){Y(e),Z(1)}},React.createElement(We.S,{title:"Issues",value:"issues",count:b.issues}),React.createElement(We.S,{title:"Ignored",value:"ignored",count:b.ignored}),React.createElement(We.S,{title:"Trash",value:"trash",count:b.trash})),React.createElement(Ve.Q,{currentPage:O,limit:S,total:E,onClick:function(e){return Z(e)}})),React.createElement($e.a,{busy:h,data:ge,columns:be,sort:k,onSortChange:function(e,t){q({accessor:e,by:t})},onSelect:function(e){Q(e)},onUnselect:function(e){B(Yt(p.filter((function(t){return!e.includes(t)}))))},selectedItems:p,emptyMessage:React.createElement(React.Fragment,null,"It's all clean & nice here! ðŸ‘",React.createElement("br",null),"Why not trying to give a boost to your database with ",React.createElement("a",{target:"_blank",href:"https://wordpress.org/plugins/database-cleaner/"},"Database Cleaner"),"? ðŸ˜Œ")}),React.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10}},React.createElement(Ze.N,{scrolldown:!0,value:S,onChange:function(e){H(e),Z(1),Oe(e)}},React.createElement(Ze.Z,{value:5,label:"5 items / page"}),React.createElement(Ze.Z,{value:10,label:"10 items / page"}),React.createElement(Ze.Z,{value:25,label:"25 items / page"}),React.createElement(Ze.Z,{value:50,label:"50 items / page"}),React.createElement(Ze.Z,{value:100,label:"100 items / page"}),React.createElement(Ze.Z,{value:250,label:"250 items / page"}),React.createElement(Ze.Z,{value:500,label:"500 items / page"}),React.createElement(Ze.Z,{value:1e3,label:"1000 items / page"})),React.createElement(Ve.Q,{currentPage:O,limit:S,total:E,onClick:function(e){return Z(e)}}))),React.createElement(ye.L,{isOpen:F.deleteAll,onRequestClose:function(){return K("deleteAll",!1)},title:"Delete All",content:React.createElement("span",null,"If you continue, ",React.createElement("b",null,E," issue",E<2?"":"s"," will be deleted"),". Make absolutely sure you have a backup of your site."),onOkClick:function(){K("deleteAll",!1),xe(null,!1,R)},onCancelClick:function(){K("deleteAll",!1)}}),React.createElement(ye.L,{isOpen:F.trashAll,onRequestClose:function(){return K("trashAll",!1)},title:"Delete All",content:React.createElement("span",null,"If you continue, ",React.createElement("b",null,"the trash will be entirely emptied"),". Make absolutely sure you have a backup of your site."),onOkClick:function(){K("trashAll",!1),xe(null,!0)},onCancelClick:function(){K("trashAll",!1)}}),React.createElement(ye.L,{isOpen:F.recoverAll,onRequestClose:function(){return K("recoverAll",!1)},title:"Recover All",content:"Are you sure you really want to recover all the files from the trash?",onOkClick:function(){K("recoverAll",!1),_e()},onCancelClick:function(){K("recoverAll",!1)}}),React.createElement(ye.L,{isOpen:he.error,onRequestClose:Se,title:"Error",content:React.createElement(React.Fragment,null,React.createElement("b",null,he.error?he.error.message:"N/A"),React.createElement("p",null)),customButtons:React.createElement("div",{style:{display:"flex",width:"100%",flexDirection:"column"}},React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement(g._,{className:"primary",onClick:function(){he.retry()}},"Retry"),React.createElement("small",{style:{marginLeft:5}},React.createElement("a",{href:"#",onClick:function(){he.autoRetry(10)}},"AUTO RETRY")),React.createElement("div",{style:{flex:"auto"}}),React.createElement(g._,{className:"secondary",onClick:function(){he.resume()}},"Skip"),React.createElement("small",{style:{marginLeft:5,marginRight:10}},React.createElement("a",{href:"#",onClick:function(){he.setAlwaysSkip(),he.resume()}},"ALWAYS SKIP")),React.createElement(g._,{className:"danger",onClick:Se},"Stop")),React.createElement("small",{style:{marginTop:10,lineHeight:"13px"}},"AUTO RETRY will retry the actions up to 10 times. At every retry, it will increase the delay (in order to avoid timeouts). Skipping errors is not recommended at all as it will result in a lot of false-positives. Check your browser console for more information."))}),React.createElement(ye.L,{isOpen:ce,title:"Finished",ok:"Close",content:ce,onOkClick:function(){le(""),he.reset()}})))},cr=wp.element.render,lr={fetcher:s.SG,revalidateOnFocus:!1};document.addEventListener("DOMContentLoaded",(function(e){var t=document.getElementById("wpmc-admin-settings");t&&cr(React.createElement(l.J$,{value:lr},React.createElement(ze,null)),t),(t=document.getElementById("wpmc-dashboard"))&&cr(React.createElement(l.J$,{value:lr},React.createElement(Tt,null,React.createElement(ir,null))),t);var r=document.getElementById("meow-common-dashboard");r&&cr(React.createElement(me,null),r)}))},7363:function(e){e.exports=React},1533:function(e){e.exports=ReactDOM}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,n.amdO={},e=[],n.O=function(t,r,a,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],o=e[u][2];for(var c=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e={826:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],c=r[1],l=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(l)var u=l(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(u)},r=self.wpJsonWpmc=self.wpJsonWpmc||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),n.nc=void 0;var a=n.O(void 0,[736],(function(){return n(3515)}));a=n.O(a)}();
//# sourceMappingURL=index.js.map