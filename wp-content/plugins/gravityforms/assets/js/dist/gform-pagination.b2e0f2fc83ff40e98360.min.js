"use strict";(self.webpackChunkgravityforms=self.webpackChunkgravityforms||[]).push([[145],{7943:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var n=a(455),r=a(9280),s=a.n(r),i=a(5798),o=a(3771),c=a(2557),g=function(e){var t=(0,i.getNodes)("#gform_".concat(e," .gform_page"),!0,document,!0),a={currentPage:0,lastPage:0,firstPage:0,currentStep:0,activePageCount:0,totalPageCount:0,inactivePages:[],previousPage:0,nextPage:0},n=0;t.forEach((function(e,t){var r=t+1;"hidden"!==e.getAttribute("data-conditional-logic")?(a.activePageCount++,a.firstPage=0===a.firstPage?r:a.firstPage,a.lastPage=r,"none"!==e.style.display?(a.currentPage=r,a.currentStep=a.activePageCount,a.previousPage=n):a.currentPage>0&&0===a.nextPage&&(a.nextPage=r),n=r):a.inactivePages.push(r);a.totalPageCount++})),o.hZ(e,"pagination/pages",a)},u=function(e,t){var a=(0,i.getNodes)(".gf_step",!0,e,!0),n=0;a.forEach((function(e,a){var r=a+1,s=t.inactivePages.includes(r);e.classList.toggle("gf_step_hidden",s),e.classList.toggle("gf_step_active",r===t.currentPage),e.classList.toggle("gf_step_previous",r===t.previousPage),e.classList.toggle("gf_step_next",r===t.nextPage),e.classList.toggle("gf_step_first",r===t.firstPage),e.classList.toggle("gf_step_last",r===t.lastPage),e.classList.toggle("gf_step_completed",r<t.currentPage),e.classList.toggle("gf_step_pending",r>t.currentPage),s||(n++,e.querySelector(".gf_step_number").innerText=n)}))},p=a(9143),l=a(6443),d=a.n(l),f=function(){var e=(0,n.A)(s().mark((function e(t){var a,n,r,o,c,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=d().common.form.ajax.i18n.step_announcement,n=(0,i.getNode)(".gf_step_current_page",t,!0),r=(0,i.getNode)(".gf_step_page_count",t,!0),n&&r){e.next=5;break}return e.abrupt("return");case 5:a=(a=a.replace("%1$s",n.innerText)).replace("%2$s",r.innerText),o="",(c=(0,i.getNode)(".gf_step_page_name",t,!0))&&(o=c.innerText.replace("-","").trim()),g=(0,i.getNode)(".gf_step_active .gf_step_label",t,!0),!c&&g&&(o=g.innerText),a=a.replace("%3$s",o),setTimeout((function(){(0,i.speak)(a,"polite")}),500);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=(0,n.A)(s().mark((function e(t,a,n){var r,o,c,g,u,l,d,_,m;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,i.getNode)(".gf_progressbar_percentage",t,!0),o=(0,i.getNode)(".gf_step_current_page",t,!0),c=(0,i.getNode)(".gf_step_page_name",t,!0),g=(0,i.getNode)(".gf_step_page_count",t,!0),u=(u=(0,i.getNode)("span",r,!0))||r,r){e.next=8;break}return e.abrupt("return");case 8:if(l=parseInt(r.style.width),d=n.display_progressbar_on_confirmation?1:0,_=parseInt((a.currentStep-d)/a.activePageCount*100),r.classList.replace("percentbar_".concat(l),"percentbar_".concat(_)),r.style.width=_+"%",u.textContent=_+"%",g&&(g.textContent=a.activePageCount),o&&(o.textContent=parseInt(a.currentStep)),!c){e.next=21;break}return e.next=19,(0,p.pn)(null==n?void 0:n.pages[a.currentPage-1]);case 19:m=e.sent,c.textContent=m?" - "+m:"";case 21:f(t);case 22:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(e,t){var a=e.dataset.formid,n=t.currentPage===t.lastPage,r=(0,i.getNode)("#gform_".concat(a," .gform_page:nth-child( ").concat(t.currentPage," )"),document,!0),s=(0,i.getNode)('[id^="gform_next_button_"]',r,!0),o=(0,i.getNode)("#gform_submit_button_"+a,e,!0);n&&s?(v(s),b(o,s)):s&&P(s)},v=function(e){void 0===e.dataset.originalType&&(e.dataset.originalType=e.type,e.dataset.originalClass=e.className,"image"===e.type?(e.dataset.originalSrc=e.src,e.dataset.originalAlt=e.alt):e.dataset.originalValue=e.value)},P=function(e){void 0!==e.dataset.originalType&&(e.type=e.dataset.originalType,e.className=e.dataset.originalClass,"image"===e.type?(e.src=e.dataset.originalSrc,e.alt=e.dataset.originalAlt):e.value=e.dataset.originalValue,"hidden"===e.getAttribute("data-conditional-logic")?e.style.display="none":(e.style.display="",e.classList.remove("screen-reader-text")),e.removeAttribute("disabled"))},b=function(e,t){t.type=e.type,t.className=e.className,"image"===e.type?(t.src=e.src,t.alt=e.alt):t.value=e.value,"hidden"===e.getAttribute("data-conditional-logic")?(t.style.display="none",t.setAttribute("disabled","disabled")):(t.style.display="",t.removeAttribute("disabled"))},y=function(){document.addEventListener("gform/frontend_pages/evaluated",(function(e){g(e.detail.formId)})),document.addEventListener("gform/ajax/post_page_change",(function(e){g(e.detail.formId)})),document.addEventListener("gform/conditionalLogic/applyRules/end",(function(e){var t=(0,i.getNode)("#gform_".concat(e.detail.formId),document,!0);if(t){var a=o.Jt(e.detail.formId,"pagination/pages");m(t,a)}}))},x=function(){var e=(0,n.A)(s().mark((function e(t,a,n){var r,o,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n[a].value,o=(0,i.getNode)("#gform_".concat(t),document,!0)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,(0,c.x)("gform_theme_config/common/form/pagination",t);case 6:g=e.sent,e.t0=g.type,e.next="steps"===e.t0?10:"percentage"===e.t0?12:14;break;case 10:return u(o,r),e.abrupt("break",14);case 12:return _(o,r,g),e.abrupt("break",14);case 14:m(o,r);case 15:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),h=function(e){o.wB(e,["pagination/pages"],x),g(e),(0,i.runOnce)(y)()}}}]);