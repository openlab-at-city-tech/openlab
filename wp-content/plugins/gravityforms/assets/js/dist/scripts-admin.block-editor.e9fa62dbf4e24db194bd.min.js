"use strict";(self.webpackChunkgravityforms=self.webpackChunkgravityforms||[]).push([[832],{1714:function(t,e,o){o.r(e);var r=o(8140),n=o(527),i=o(4309),c=o(7143),a=o(6087),l=o(3963),s=o.n(l),u=o(1533);function d(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function f(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?d(Object(o),!0).forEach((function(e){(0,n.A)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var p=o.n(u)().block_editor["gravityforms/form"].i18n,m=function(){if(k()){var t=(0,c.select)("core/block-editor").getSelectedBlock();navigator.clipboard.writeText(JSON.stringify(y(t.attributes))).then()}},g=function(){k()&&_()&&navigator.clipboard.readText().then((function(t){var e=f({},(0,c.select)("core/block-editor").getSelectedBlock());try{var o=y(JSON.parse(t));e.attributes=f(f({},e.attributes),o),(0,c.dispatch)("core/block-editor").updateBlock(e.clientId,e)}catch(t){v(p.invalid_form_styles,p.please_ensure_correct_format)}}))},y=function(t){var e=Object.entries(t).filter((function(t){var e=(0,r.A)(t,2),o=e[0],n=e[1];return b().includes(o)&&"string"==typeof n}));return Object.fromEntries(e)},b=function(){return["theme","inputSize","inputBorderRadius","inputBorderColor","inputBackgroundColor","inputPrimaryColor","inputColor","inputImageChoiceAppearance","inputImageChoiceStyle","inputImageChoiceSize","labelFontSize","labelColor","descriptionFontSize","descriptionColor","buttonPrimaryBackgroundColor","buttonPrimaryColor"]},v=function(t,e){new(s())({alertButtonText:p.ok,content:e,closeButtonTitle:p.close,id:"copy-paste-error-alert",maskBlur:!1,maskTheme:"none",mode:"alert",title:t,titleIcon:"circle-delete",titleIconColor:"#DD301D",zIndex:100055}).showDialog()},k=function(){return!!window.isSecureContext||(v(p.copy_and_paste_not_available,p.copy_and_paste_requires_secure_connection),!1)},_=function(){return!(navigator.userAgent.indexOf("Firefox")>-1)||"function"==typeof navigator.clipboard.readText||(v(p.paste_not_available,p.your_browser_no_permission_to_paste),!1)};e.default=function(){return React.createElement(a.Fragment,null,React.createElement(i.PluginBlockSettingsMenuItem,{allowedBlocks:["gravityforms/form"],icon:"",label:p.copy_form_styles,onClick:function(){return m()}}),React.createElement(i.PluginBlockSettingsMenuItem,{allowedBlocks:["gravityforms/form"],icon:"",label:p.paste_form_styles,onClick:function(){return g()}}))}},1026:function(t,e,o){o.r(e),o.d(e,{default:function(){return y}});var r=o(5798),n=o(2279),i=o(1533),c=o.n(i),a=window.wp||{},l=(null===c()||void 0===c()?void 0:c().block_editor["gravityforms/form"])||{},s=l.i18n,u={ready:!1},d={insertButton:null},f=function(t){return a.data.select("core/blocks").getBlockTypes().filter((function(e){return!t||"gravityforms/form"!==e.name})).map((function(t){return t.name}))},p=function(){a.data.dispatch("core/edit-post").showBlockTypes(f(!1))},m=function(){var t;window.wp.data.dispatch("core/edit-post").setIsInserterOpened(!0),t=f(!0),a.data.dispatch("core/edit-post").hideBlockTypes(t),a.data.dispatch("core/edit-post").showBlockTypes(["gravityforms/form"]);var e=setInterval((function(){var t,o,n;d.insertButton=document.querySelector(".editor-block-list-item-gravityforms-form"),d.insertButton&&(u.ready=!0,o=document.createElement("div"),n=d.insertButton.getBoundingClientRect(),o.innerHTML='\n\t<div class="gform-block__tooltip-inner">\n\t\t<span class="gform-block__tooltip-title">'.concat(s.insert_gform_block_title,"</span>\n\t\t").concat((0,r.sprintf)(s.insert_gform_block_content,'<a class="gform-link" href="'.concat(l.data.block_docs_url,'" rel="noopener" target="_blank">'),"</a>"),"\n\t</div>\n\t"),o.classList.add("gform-block__tooltip"),(0,r.isRtl)()?o.style="left: ".concat(n.right-(275+d.insertButton.clientWidth),"px; top: ").concat(n.top+d.insertButton.clientHeight/2,"px;"):o.style="left: ".concat(n.right+20,"px; top: ").concat(n.top+d.insertButton.clientHeight/2,"px;"),d.insertButton.addEventListener("mouseenter",(function(){o&&(o.style.opacity="0",setTimeout((function(){o.style.zIndex="-1"}),200))})),d.insertButton.parentNode.appendChild(o),t=a.data.subscribe((function(){a.data.select("core/block-editor").getBlocks().filter((function(t){return"gravityforms/form"===t.name&&void 0===t.originalContent})).length&&(t(),p())}))),u.ready&&clearInterval(e)}),500)},g=function(){var t=(0,r.queryToJson)();null!=t&&t.gfAddBlock&&(m(),window.addEventListener("beforeunload",p),(0,r.consoleInfo)("Gravity Forms Admin: Initialized block editor insert form scripts."))},y=function(){if(g(),void 0!==o(4309)){var t=o(1714);(0,n.registerPlugin)("gravityforms",{render:t.default}),(0,r.consoleInfo)("Gravity Forms Admin: Initialized all block editor scripts.")}}}}]);