/*! event-organiser 3.10.8-0-g92a62d9 2021-10-12 23:07 */
var eo_venue=eo_venue||{marker:!1};jQuery(document).ready(function(a){postboxes.add_postbox_toggles(pagenow);var b=a("#eo_venue_Lat").val(),c=a("#eo_venue_Lng").val(),d=15;if(0===b&&0===c){var e=[];a(".eo_addressInput").each(function(){e.push(a(this).val())}),e.join("")||(d=1)}eovenue.init_map("venuemap",{lat:b,lng:c,zoom:d,draggable:!0,markerIcon:eo_venue.marker,onDrag:function(b){this.dragging=!0,a("#eo-venue-latllng-text").text(b.target.latlng.lat+", "+b.target.latlng.lng)},onDragend:function(b){this.dragging=!1;var c=b.target.latlng.lat+", "+b.target.latlng.lng;a("#eo_venue_Lat").val(b.target.latlng.lat),a("#eo_venue_Lng").val(b.target.latlng.lng),a("#eo-venue-latllng-text").text(c),b.target.map.setCenter(b.target.latlng)},onPositionchanged:function(b){if(!this.dragging){var c=b.target.latlng.lat+", "+b.target.latlng.lng;a("#eo_venue_Lat").val(b.target.latlng.lat),a("#eo_venue_Lng").val(b.target.latlng.lng),a("#eo-venue-latllng-text").text(c),b.target.map.setCenter(b.target.latlng)}}}),a(".eo_addressInput").change(function(){var b={};a(".eo_addressInput").each(function(){var c=a(this).attr("id").replace(/^eo-venue-/,"");b[c]=a(this).val()?a(this).val():null}),eovenue.geocode(b,function(a){a&&eovenue.get_map("venuemap").marker[0].setPosition({lat:a.lat,lng:a.lng})})}),a("#eo-venue-latllng-text").blur(function(){var b=a(this).text().trim().replace(/ /g,""),c=b.match(/^(-?[0-9]{1,3}\.[0-9]+),(-?[0-9]{1,3}\.[0-9]+)$/),d=a(this).data("eo-lat"),e=a(this).data("eo-lng");if(c){var f=c[1],g=c[2];(f!=d||g!=e)&&(a(this).data("eo-lat",f),a(this).data("eo-lng",g),eovenue.get_map("venuemap").marker[0].setPosition({lat:parseFloat(f),lng:parseFloat(g)}))}else a(this).text(d+", "+e)}),a("#eo-venue-latllng-text").keydown(function(b){13===b.which&&a(this).blur()})});