/*! event-organiser 3.7.4-0-g97fa171 2018-08-26 22:24 */
var eventorganiser=eventorganiser||{};eventorganiser.versionCompare=function(a,b){if(typeof a+typeof b!="stringstring")return!1;for(var c=a.split("."),d=b.split("."),e=Math.max(c.length,d.length),f=0;e>f;f++){if(c[f]&&!d[f]&&parseInt(c[f],10)>0||parseInt(c[f],10)>parseInt(d[f],10))return 1;if(d[f]&&!c[f]&&parseInt(d[f],10)>0||parseInt(c[f],10)<parseInt(d[f],10))return-1}return 0},jQuery(document).ready(function(a){var b;eventOrganiserSchedulePicker.init({views:{start_date:"#eo-start-date",start_time:"#eo-start-time",end_date:"#eo-end-date",end_time:"#eo-end-time",occurrence_picker:"#eo-occurrence-datepicker",occurrence_picker_toggle:".eo_occurrence_toggle",schedule_last_date:"#eo-schedule-last-date",schedule:"#eo-event-recurrence",is_all_day:"#eo-all-day",frequency:"#eo-recurrence-frequency",week_repeat:"#eo-day-of-week-repeat",month_repeat:"#eo-day-of-month-repeat",recurrence_section:".reocurrence_row",include:"#eo-occurrence-includes",exclude:"#eo-occurrence-excludes",schedule_span:"#eo-recurrence-schedule-label",summary:"#eo-event-summary"},format:EO_Ajax_Event.format,is24hour:Boolean(EO_Ajax_Event.is24hour),startday:EO_Ajax_Event.startday,schedule:window.eventOrganiserSchedule,locale:EO_Ajax_Event.locale,editable:"once"==a("#eo-event-recurrence").val()}),a("#eo-event-recurrring-notice").click(function(){window.eventOrganiserSchedulePicker.options.editable=a("#eo-event-recurrring-notice").is(":checked"),window.eventOrganiserSchedulePicker.update_form()}),eovenue.init_map("venuemap",{lat:a("#eo_venue_Lat").val(),lng:a("#eo_venue_Lng").val(),draggable:!1,onPositionchanged:function(a){a.target.latlng.lat+", "+a.target.latlng.lng;jQuery("#eo_venue_Lat").val(a.target.latlng.lat),jQuery("#eo_venue_Lng").val(a.target.latlng.lng),a.target.map.setCenter(a.target.latlng),a.target.map.setZoom(15)}}),a.widget("ui.combobox",{_create:function(){var c=this.element.hide(),d=c.attr("id"),e=c.children(":selected"),f=e.val()?e.text():"",g=a("<span>").addClass("ui-combobox eo-venue-input").insertAfter(c),h=a('<input type="hidden" name="'+c.attr("name")+'" value="'+e.val()+'"/>'),i=a("<input>").attr("id",d).appendTo(g).val(f).addClass("ui-combobox-input"),j={delay:0,minLength:0,source:function(b,c){i.addClass("eo-waiting"),a.getJSON(EO_Ajax_Event.ajaxurl+"?action=eo-search-venue",b,function(b){var d=a.map(b,function(a){return a.label=a.name,a});c(d),i.removeClass("eo-waiting")})},select:function(b,c){a(".venue_row").length>0&&(0===parseInt(c.item.term_id,10)?(a(".venue_row").hide(),a("#eventorganiser_detail .eo-add-new-venue").hide()):(a(".venue_row").show(),a("#eventorganiser_detail .eo-add-new-venue").hide()),eovenue.get_map("venuemap").marker[0].setPosition({lat:c.item.venue_lat,lng:c.item.venue_lng})),h.val(c.item.term_id)}};i.autocomplete(j).addClass("ui-widget-content ui-corner-left"),this.element.replaceWith(h);var k=a.ui?a.ui.version||0:-1,l=eventorganiser.versionCompare(k,"1.10")>=0?"ui-autocomplete":"autocomplete";i.data(l)._renderItem=function(b,c){if(0===parseInt(c.term_id,10))return a("<li></li>").data(l+"-item",c).append("<a>"+c.label+"</a>").appendTo(b);var d=[c.venue_address,c.venue_city,c.venue_state,c.venue_postcode,c.venue_country],e=a.grep(d,function(a){return a}).join(", "),f=eventorganiser.versionCompare(k,"1.10")>=0?"ui-autocomplete-item":"item.autocomplete";return a("<li></li>").data(f,c).append("<a>"+c.label+"</br> <span style='font-size: 0.8em'><em>"+e+"</span></em></a>").appendTo(b)};var m=a("<span>").addClass("eo-venue-combobox-buttons").appendTo(g);a("<a href='#' style='vertical-align: top;margin: 0px -1px;padding: 0px;height:27px;'>").attr("title","Show All Venues").appendTo(m).button({icons:{primary:"ui-icon-triangle-1-s"},text:!1}).removeClass("ui-corner-all").addClass("eo-ui-button ui-corner-right ui-combobox-toggle ui-combobox-button").mousedown(function(){wasOpen=i.autocomplete("widget").is(":visible")}).click(function(b){b.preventDefault(),wasOpen||(a(this).blur(),i.autocomplete("search","").focus())}),EO_Ajax_Event.current_user_can.manage_venues&&a("<a href='#' style='vertical-align: top;margin: 0px -1px;padding: 0px;height:27px;'>").attr("title","Create New Venue").appendTo(m).button({icons:{primary:"ui-icon-plus"},text:!1}).removeClass("ui-corner-all").addClass("eo-ui-button ui-corner-right add-new-venue ui-combobox-button").click(function(c){c.preventDefault(),a("#eventorganiser_detail .eo-add-new-venue").show(),a(".venue_row").show(),b={id:a("[name='eo_input[event-venue]']").val(),label:a(".eo-venue-input input").val(),lat:a("#eo_venue_Lat").val(),lng:a("#eo_venue_Lng").val()},a("[name='eo_input[event-venue]']").val(0),a(".eo-venue-combobox-select").hide(),a(".eo-venue-input input").val("");var d=EO_Ajax_Event.location;d?(d=d.split("/"),eovenue.geocode({city:d[d.length-1]},function(a){a&&eovenue.get_map("venuemap").marker[0].setPosition(a)})):(eovenue.get_map("venuemap").marker[0].setPosition({lat:0,lng:0}),eovenue.get_map("venuemap").map.setZoom(1)),a("#eventorganiser_detail .eo-add-new-venue input").first().focus()})}}),a("#venue_select").combobox(),a(".eo_addressInput").change(function(){var b={};a(".eo_addressInput").each(function(){var c=a(this).attr("id").replace("eo_venue_add-","");b[c]=a(this).val()}),eovenue.geocode(b,function(a){a&&eovenue.get_map("venuemap").marker[0].setPosition(a)})}),a(".eo-add-new-venue-cancel").click(function(c){c.preventDefault(),a(".eo-venue-combobox-select").show().find("input:visible").first().focus(),a(".eo-add-new-venue input").val(""),eovenue.get_map("venuemap").marker[0].setPosition({lat:b.lat,lng:b.lng}),a("[name='eo_input[event-venue]']").val(b.id),a(".eo-venue-input input").val(b.label),a("#eventorganiser_detail .eo-add-new-venue").hide()})});