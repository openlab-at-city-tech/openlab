/*! event-organiser 3.7.4-0-g97fa171 2018-08-26 22:24 */
!function(a){"function"==typeof define&&define.amd?define(["jquery","moment"],a):a(jQuery,moment)}(function(a,b){function c(a){d(za,a)}function d(b){function c(c,f){a.isPlainObject(f)&&a.isPlainObject(b[c])&&!e(c)?b[c]=d({},b[c],f):void 0!==f&&(b[c]=f)}for(var f=1;f<arguments.length;f++)a.each(arguments[f],c);return b}function e(a){return/(Time|Duration)$/.test(a)}function f(a){var c=b.localeData||b.langData;return c.call(b,a)||c.call(b,"en")}function g(a,b){b.left&&a.css({"border-left-width":1,"margin-left":b.left-1}),b.right&&a.css({"border-right-width":1,"margin-right":b.right-1})}function h(a){a.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function i(){a("body").addClass("fc-not-allowed")}function j(){a("body").removeClass("fc-not-allowed")}function k(a){return"pointerdown"==a.type||"pointerup"==a.type||"pointermove"==a.type?"touch"===a.originalEvent.pointerType?!0:!1:"touchstart"==a.type||"touchmove"==a.type||"touchend"==a.type||"touchcancel"==a.type?!0:!1}function l(a){var b={x:0,y:0};if("pointerdown"==a.type||"pointerup"==a.type||"pointermove"==a.type||"mousedown"==a.type||"mouseup"==a.type||"mousemove"==a.type||"mouseover"==a.type||"mouseout"==a.type||"mouseenter"==a.type||"mouseleave"==a.type)b.x=a.pageX,b.y=a.pageY;else if(k(a)){var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];b.x=c.pageX,b.y=c.pageY}return b}function m(){return window.navigator.msPointerEnabled?"pointerdown":!Ka&&"ontouchstart"in document.documentElement?"touchstart":"mousedown"}function n(){return window.navigator.msPointerEnabled?"pointerup":!Ka&&"ontouchstart"in document.documentElement?"touchend":"mouseup"}function o(){return window.navigator.msPointerEnabled?"pointermove":!Ka&&"ontouchstart"in document.documentElement?"touchmove":"mousemove"}function p(b,c,d){var e=Math.floor(c/b.length),f=Math.floor(c-e*(b.length-1)),g=[],h=[],i=[],j=0;q(b),b.each(function(c,d){var k=c===b.length-1?f:e,l=a(d).outerHeight(!0);k>l?(g.push(d),h.push(l),i.push(a(d).height())):j+=l}),d&&(c-=j,e=Math.floor(c/g.length),f=Math.floor(c-e*(g.length-1))),a(g).each(function(b,c){var d=b===g.length-1?f:e,j=h[b],k=i[b],l=d-(j-k);d>j&&a(c).height(l)})}function q(a){a.height("")}function r(b){var c=0;return b.find("> *").each(function(b,d){var e=a(d).outerWidth();e>c&&(c=e)}),c++,b.width(c),c}function s(a,b){return a.height(b).addClass("fc-scroller"),a[0].scrollHeight-1>a[0].clientHeight?!0:(t(a),!1)}function t(a){a.height("").removeClass("fc-scroller")}function u(b){var c=b.css("position"),d=b.parents().filter(function(){var b=a(this);return/(auto|scroll)/.test(b.css("overflow")+b.css("overflow-y")+b.css("overflow-x"))}).eq(0);return"fixed"!==c&&d.length?d:a(b[0].ownerDocument||document)}function v(a){var b=a.offset().left,c=b+a.width(),d=a.children(),e=d.offset().left,f=e+d.outerWidth();return{left:e-b,right:c-f}}function w(a){return k(a)?!0:1==a.which&&!a.ctrlKey}function x(a,b){var c,d,e,f,g=a.start,h=a.end,i=b.start,j=b.end;return h>i&&j>g?(g>=i?(c=g.clone(),e=!0):(c=i.clone(),e=!1),j>=h?(d=h.clone(),f=!0):(d=j.clone(),f=!1),{start:c,end:d,isStart:e,isEnd:f}):void 0}function y(a,b){if(a=a||{},void 0!==a[b])return a[b];for(var c,d=b.split(/(?=[A-Z])/),e=d.length-1;e>=0;e--)if(c=a[d[e].toLowerCase()],void 0!==c)return c;return a["default"]}function z(a,c){return b.duration({days:a.clone().stripTime().diff(c.clone().stripTime(),"days"),ms:a.time()-c.time()})}function A(a,c){return b.duration({days:a.clone().stripTime().diff(c.clone().stripTime(),"days")})}function B(a,b){var c,d,e;for(c=0;c<Na.length&&(d=Na[c],e=C(d,a,b),!(e>=1&&P(e)));c++);return d}function C(a,c,d){return null!=d?d.diff(c,a,!0):b.isDuration(c)?c.as(a):c.end.diff(c.start,a,!0)}function D(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function E(a){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(a)}function F(a){var b=function(){};return b.prototype=a,new b}function G(a,b){for(var c in a)H(a,c)&&(b[c]=a[c])}function H(a,b){return Oa.call(a,b)}function I(b){return/undefined|null|boolean|number|string/.test(a.type(b))}function J(b,c,d){if(a.isFunction(b)&&(b=[b]),b){var e,f;for(e=0;e<b.length;e++)f=b[e].apply(c,d)||f;return f}}function K(){for(var a=0;a<arguments.length;a++)if(void 0!==arguments[a])return arguments[a]}function L(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function M(a){return a.replace(/&.*?;/g,"")}function N(a){return a.charAt(0).toUpperCase()+a.slice(1)}function O(a,b){return a-b}function P(a){return a%1===0}function Q(a,b){var c,d,e,f,g=function(){var h=+new Date-f;b>h&&h>0?c=setTimeout(g,b-h):(c=null,a.apply(e,d),c||(e=d=null))};return function(){e=this,d=arguments,f=+new Date,c||(c=setTimeout(g,b))}}function R(c,d,e){var f,g,h,i,j=c[0],k=1==c.length&&"string"==typeof j;return b.isMoment(j)?(i=b.apply(null,c),T(j,i)):D(j)||void 0===j?i=b.apply(null,c):(f=!1,g=!1,k?Pa.test(j)?(j+="-01",c=[j],f=!0,g=!0):(h=Qa.exec(j))&&(f=!h[5],g=!0):a.isArray(j)&&(g=!0),i=d||f?b.utc.apply(b,c):b.apply(null,c),f?(i._ambigTime=!0,i._ambigZone=!0):e&&(g?i._ambigZone=!0:k&&i.zone(j))),i._fullCalendar=!0,i}function S(a,c){var d,e,f=!1,g=!1,h=a.length,i=[];for(d=0;h>d;d++)e=a[d],b.isMoment(e)||(e=Ca.moment.parseZone(e)),f=f||e._ambigTime,g=g||e._ambigZone,i.push(e);for(d=0;h>d;d++)e=i[d],c||!f||e._ambigTime?g&&!e._ambigZone&&(i[d]=e.clone().stripZone()):i[d]=e.clone().stripTime();return i}function T(a,b){a._ambigTime?b._ambigTime=!0:b._ambigTime&&(b._ambigTime=!1),a._ambigZone?b._ambigZone=!0:b._ambigZone&&(b._ambigZone=!1)}function U(a,b){a.year(b[0]||0).month(b[1]||0).date(b[2]||0).hours(b[3]||0).minutes(b[4]||0).seconds(b[5]||0).milliseconds(b[6]||0)}function V(a,b){return Sa.format.call(a,b)}function W(a,b){return X(a,aa(b))}function X(a,b){var c,d="";for(c=0;c<b.length;c++)d+=Y(a,b[c]);return d}function Y(a,b){var c,d;return"string"==typeof b?b:(c=b.token)?Ta[c]?Ta[c](a):V(a,c):b.maybe&&(d=X(a,b.maybe),d.match(/[1-9]/))?d:""}function Z(a,b,c,d,e){var f;return a=Ca.moment.parseZone(a),b=Ca.moment.parseZone(b),f=(a.localeData||a.lang).call(a),c=f.longDateFormat(c)||c,d=d||" - ",$(a,b,aa(c),d,e)}function $(a,b,c,d,e){var f,g,h,i,j="",k="",l="",m="",n="";for(g=0;g<c.length&&(f=_(a,b,c[g]),f!==!1);g++)j+=f;for(h=c.length-1;h>g&&(f=_(a,b,c[h]),f!==!1);h--)k=f+k;for(i=g;h>=i;i++)l+=Y(a,c[i]),m+=Y(b,c[i]);return(l||m)&&(n=e?m+d+l:l+d+m),j+n+k}function _(a,b,c){var d,e;return"string"==typeof c?c:(d=c.token)&&(e=Ua[d.charAt(0)],e&&a.isSame(b,e))?V(a,d):!1}function aa(a){return a in Va?Va[a]:Va[a]=ba(a)}function ba(a){for(var b,c=[],d=/\[([^\]]*)\]|\(([^\)]*)\)|(LT|(\w)\4*o?)|([^\w\[\(]+)/g;b=d.exec(a);)b[1]?c.push(b[1]):b[2]?c.push({maybe:ba(b[2])}):b[3]?c.push({token:b[3]}):b[5]&&c.push(b[5]);return c}function ca(){}function da(a,b){return a||b?a&&b?a.grid===b.grid&&a.row===b.row&&a.col===b.col:!1:!0}function ea(a){var b=ga(a);return"background"===b||"inverse-background"===b}function fa(a){return"inverse-background"===ga(a)}function ga(a){return K((a.source||{}).rendering,a.rendering)}function ha(a){var b,c,d={};for(b=0;b<a.length;b++)c=a[b],(d[c._id]||(d[c._id]=[])).push(c);return d}function ia(a,b){return a.eventStartMS-b.eventStartMS}function ja(a,b){return a.eventStartMS-b.eventStartMS||b.eventDurationMS-a.eventDurationMS||b.event.allDay-a.event.allDay||(a.event.title||"").localeCompare(b.event.title)}function ka(c){var d,e,f,g,h=Ca.dataAttrPrefix;return h&&(h+="-"),d=c.data(h+"event")||null,d&&(d="object"==typeof d?a.extend({},d):{},e=d.start,null==e&&(e=d.time),f=d.duration,g=d.stick,delete d.start,delete d.time,delete d.duration,delete d.stick),null==e&&(e=c.data(h+"start")),null==e&&(e=c.data(h+"time")),null==f&&(f=c.data(h+"duration")),null==g&&(g=c.data(h+"stick")),e=null!=e?b.duration(e):null,f=null!=f?b.duration(f):null,g=Boolean(g),{eventProps:d,startTime:e,duration:f,stick:g}}function la(a,b){var c,d;for(c=0;c<b.length;c++)if(d=b[c],d.leftCol<=a.rightCol&&d.rightCol>=a.leftCol)return!0;return!1}function ma(a,b){return a.leftCol-b.leftCol}function na(a){var b,c,d;if(a.sort(ja),b=oa(a),pa(b),c=b[0]){for(d=0;d<c.length;d++)qa(c[d]);for(d=0;d<c.length;d++)ra(c[d],0,0)}}function oa(a){var b,c,d,e=[];for(b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&sa(c,e[d]).length;d++);c.level=d,(e[d]||(e[d]=[])).push(c)}return e}function pa(a){var b,c,d,e,f;for(b=0;b<a.length;b++)for(c=a[b],d=0;d<c.length;d++)for(e=c[d],e.forwardSegs=[],f=b+1;f<a.length;f++)sa(e,a[f],e.forwardSegs)}function qa(a){var b,c,d=a.forwardSegs,e=0;if(void 0===a.forwardPressure){for(b=0;b<d.length;b++)c=d[b],qa(c),e=Math.max(e,1+c.forwardPressure);a.forwardPressure=e}}function ra(a,b,c){var d,e=a.forwardSegs;if(void 0===a.forwardCoord)for(e.length?(e.sort(ua),ra(e[0],b+1,c),a.forwardCoord=e[0].backwardCoord):a.forwardCoord=1,a.backwardCoord=a.forwardCoord-(a.forwardCoord-c)/(b+1),d=0;d<e.length;d++)ra(e[d],0,a.forwardCoord)}function sa(a,b,c){c=c||[];for(var d=0;d<b.length;d++)ta(a,b[d])&&c.push(b[d]);return c}function ta(a,b){return a.bottom>b.top&&a.top<b.bottom}function ua(a,b){return b.forwardPressure-a.forwardPressure||(a.backwardCoord||0)-(b.backwardCoord||0)||ja(a,b)}function va(c,e){function g(a){return(a.locale||a.lang).call(a,$.lang).humanize()}function h(a){da?k()&&(r(),l(a)):i()}function i(){ea=$.theme?"ui":"fc",c.addClass("fc"),$.isRTL?c.addClass("fc-rtl"):c.addClass("fc-ltr"),$.theme?c.addClass("ui-widget"):c.addClass("fc-unthemed"),da=a("<div class='fc-view-container'/>").prependTo(c),ba=new wa(Y,$),ca=ba.render(),ca&&c.prepend(ca),l($.defaultView),$.handleWindowResize&&(ha=Q(t,$.windowResizeDelay),a(window).resize(ha))}function j(){fa&&fa.destroyView(),ba.destroy(),da.remove(),c.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),a(window).unbind("resize",ha)}function k(){return c.is(":visible")}function l(b){na++,fa&&b&&fa.type!==b&&(ba.deactivateButton(fa.type),S(),fa.start&&fa.destroyView(),fa.el.remove(),fa=null),!fa&&b&&(fa=m(b),fa.el=a("<div class='fc-view fc-"+b+"-view' />").appendTo(da),ba.activateButton(b)),fa&&(ia=fa.massageCurrentDate(ia),fa.start&&ia.isWithin(fa.intervalStart,fa.intervalEnd)||k()&&(S(),fa.start&&fa.destroyView(),fa.setDate(ia),fa.renderView(),T(),C(),D(),x())),T(),na--}function m(a){var b=n(a);return new b["class"](Y,b.options,a)}function n(c){function d(b){"function"==typeof b?f=b:"object"==typeof b&&a.extend(e,b)}var e,f,h,i,j,k=$.defaultButtonText||{},l=$.buttonText||{},m=$.views||{},n=c,o=[],p=!1;if(ma[c])return ma[c];for(;n&&!f;)e={},d(Da[n]),d(m[n]),o.unshift(e),n=e.type;return o.unshift({}),e=a.extend.apply(a,o),f?(h=e.duration||f.duration,h&&(h=b.duration(h),i=B(h),p=1===h.as(i)),p&&m[i]&&(e=a.extend({},m[i],e)),j=l[c]||(p?l[i]:null)||k[c]||(p?k[i]:null)||e.buttonText||f.buttonText||(h?g(h):null)||c,ma[c]={"class":f,options:e,buttonText:j}):void 0}function o(a){return Boolean(n(a))}function p(a){var b=n(a);return b?b.buttonText:void 0}function q(a){return k()?(a&&s(),na++,fa.updateSize(!0),na--,!0):void 0}function r(){k()&&s()}function s(){ga="number"==typeof $.contentHeight?$.contentHeight:"number"==typeof $.height?$.height-(ca?ca.outerHeight(!0):0):"undefined"!=typeof $.height&&"parent"===$.height?a(la).parent().height()-(ca?ca.outerHeight(!0):0):Math.round(da.width()/Math.max($.aspectRatio,.5))}function t(a){!na&&a.target===window&&fa.start&&q(!0)&&fa.trigger("windowResize",la)}function u(){w(),y()}function v(){k()&&(S(),fa.destroyViewEvents(),fa.renderViewEvents(oa),T())}function w(){S(),fa.destroyViewEvents(),T()}function x(){!$.lazyFetching||ja(fa.start,fa.end)?y():v()}function y(){ka(fa.start,fa.end)}function z(a){oa=a,v()}function A(){v()}function C(){ba.updateTitle(fa.title)}function D(){var a=Y.getNow();a.isWithin(fa.intervalStart,fa.intervalEnd)?ba.disableButton("today"):ba.enableButton("today")}function E(a,b){a=Y.moment(a),b=b?Y.moment(b):a.hasTime()?a.clone().add(Y.defaultTimedEventDuration):a.clone().add(Y.defaultAllDayEventDuration),fa.select({start:a,end:b})}function G(){fa&&fa.unselect()}function H(){ia=fa.computePrevDate(ia),l()}function I(){ia=fa.computeNextDate(ia),l()}function J(){ia.add(-1,"years"),l()}function K(){ia.add(1,"years"),l()}function L(){ia=Y.getNow(),l()}function M(a){ia=Y.moment(a),l()}function O(a){ia.add(b.duration(a)),l()}function P(a,b){var c,d;b&&o(b)||(b=b||"day",c=ba.getViewsWithButtons().join(" "),d=c.match(new RegExp("\\w+"+N(b))),d||(d=c.match(/\w+Day/)),b=d?d[0]:"agendaDay"),ia=a,l(b)}function R(){return ia.clone()}function S(){da.css({width:"100%",height:da.height(),overflow:"hidden"})}function T(){da.css({width:"",height:"",overflow:""})}function U(){return Y}function V(){return fa}function W(a,b){return void 0===b?$[a]:void(("height"==a||"contentHeight"==a||"aspectRatio"==a)&&($[a]=b,q(!0)))}function X(a,b){return $[a]?$[a].apply(b||la,Array.prototype.slice.call(arguments,2)):void 0}var Y=this;e=e||{};var Z,$=d({},za,e);Z=$.lang in Ea?Ea[$.lang]:Ea[za.lang],Z&&($=d({},za,Z,e)),$.isRTL&&($=d({},za,Ba,Z||{},e)),Y.options=$,Y.render=h,Y.destroy=j,Y.refetchEvents=u,Y.reportEvents=z,Y.reportEventChange=A,Y.rerenderEvents=v,Y.changeView=l,Y.select=E,Y.unselect=G,Y.prev=H,Y.next=I,Y.prevYear=J,Y.nextYear=K,Y.today=L,Y.gotoDate=M,Y.incrementDate=O,Y.zoomTo=P,Y.getDate=R,Y.getCalendar=U,Y.getView=V,Y.option=W,Y.trigger=X,Y.isValidViewType=o,Y.getViewButtonText=p;var _=F(f($.lang));if($.monthNames&&(_._months=$.monthNames),$.monthNamesShort&&(_._monthsShort=$.monthNamesShort),$.dayNames&&(_._weekdays=$.dayNames),$.dayNamesShort&&(_._weekdaysShort=$.dayNamesShort),null!=$.firstDay){var aa=F(_._week);aa.dow=$.firstDay,_._week=aa}Y.defaultAllDayEventDuration=b.duration($.defaultAllDayEventDuration),Y.defaultTimedEventDuration=b.duration($.defaultTimedEventDuration),Y.moment=function(){var a;return"local"===$.timezone?(a=Ca.moment.apply(null,arguments),a.hasTime()&&a.local()):a="UTC"===$.timezone?Ca.moment.utc.apply(null,arguments):Ca.moment.parseZone.apply(null,arguments),"_locale"in a?a._locale=_:a._lang=_,a},Y.getIsAmbigTimezone=function(){return"local"!==$.timezone&&"UTC"!==$.timezone},Y.rezoneDate=function(a){return Y.moment(a.toArray())},Y.getNow=function(){var a=$.now;return"function"==typeof a&&(a=a()),Y.moment(a)},Y.calculateWeekNumber=function(a){var b=$.weekNumberCalculation;return"function"==typeof b?b(a):"local"===b?a.week():"ISO"===b.toUpperCase()?a.isoWeek():void 0},Y.getEventEnd=function(a){return a.end?a.end.clone():Y.getDefaultEventEnd(a.allDay,a.start)},Y.getDefaultEventEnd=function(a,b){var c=b.clone();return a?c.stripTime().add(Y.defaultAllDayEventDuration):c.add(Y.defaultTimedEventDuration),Y.getIsAmbigTimezone()&&c.stripZone(),c},xa.call(Y,$);var ba,ca,da,ea,fa,ga,ha,ia,ja=Y.isFetchNeeded,ka=Y.fetchEvents,la=c[0],ma={},na=0,oa=[];ia=null!=$.defaultDate?Y.moment($.defaultDate):Y.getNow(),Y.getSuggestedViewHeight=function(){return void 0===ga&&r(),ga},Y.isHeightAuto=function(){return"auto"===$.contentHeight||"auto"===$.height}}function wa(b,c){function d(){var b=c.header;return n=c.theme?"ui":"fc",b?o=a("<div class='fc-toolbar'/>").append(f("left")).append(f("right")).append(f("center")).append('<div class="fc-clear"/>'):void 0}function e(){o.remove()}function f(d){var e=a('<div class="fc-'+d+'"/>'),f=c.header[d];return f&&a.each(f.split(" "),function(d){var f,g=a(),h=!0;a.each(this.split(","),function(d,e){var f,i,j,k,l,m,o,q,r;if("title"==e)g=g.add(a('<h2 aria-live="polite">&nbsp;</h2>')),h=!1;else if(a.isFunction(c.customButtons[e])){var s=a(c.customButtons[e](c));g=g.add(s)}else b[e]?f=function(){b[e]()}:b.isValidViewType(e)&&(f=function(){b.changeView(e)},p.push(e),l=b.getViewButtonText(e)),f&&(i=y(c.themeButtonIcons,e),j=y(c.buttonIcons,e),k=y(c.defaultButtonText,e),m=y(c.buttonText,e),o=l||m?L(l||m):i&&c.theme?"<span class='ui-icon ui-icon-"+i+"'></span>":j&&!c.theme?"<span class='fc-icon fc-icon-"+j+"'></span>":L(k||e),q=["fc-"+e+"-button",n+"-button",n+"-state-default"],r=a('<button type="button" class="'+q.join(" ")+'">'+o+"</button>").click(function(){r.hasClass(n+"-state-disabled")||(f(),(r.hasClass(n+"-state-active")||r.hasClass(n+"-state-disabled"))&&r.removeClass(n+"-state-hover"))}).mousedown(function(){r.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-down")}).mouseup(function(){r.removeClass(n+"-state-down")}).hover(function(){r.not("."+n+"-state-active").not("."+n+"-state-disabled").addClass(n+"-state-hover")},function(){r.removeClass(n+"-state-hover").removeClass(n+"-state-down")}),g=g.add(r))}),h&&g.first().addClass(n+"-corner-left").end().last().addClass(n+"-corner-right").end(),g.length>1||h?(f=a("<div/>"),h&&f.addClass("fc-button-group"),f.append(g),e.append(f)):e.append(g)}),e}function g(a){o.find("h2").text(a)}function h(a){o.find(".fc-"+a+"-button").addClass(n+"-state-active")}function i(a){o.find(".fc-"+a+"-button").removeClass(n+"-state-active")}function j(a){o.find(".fc-"+a+"-button").attr("disabled","disabled").addClass(n+"-state-disabled")}function k(a){o.find(".fc-"+a+"-button").removeAttr("disabled").removeClass(n+"-state-disabled")}function l(){return p}var m=this;m.render=d,m.destroy=e,m.updateTitle=g,m.activateButton=h,m.deactivateButton=i,m.disableButton=j,m.enableButton=k,m.getViewsWithButtons=l;var n,o=a(),p=[]}function xa(c){function d(a,b){return!Q||a.clone().stripZone()<Q.clone().stripZone()||b.clone().stripZone()>R.clone().stripZone()}function e(a,b){Q=a,R=b,$=[];var c=++X,d=W.length;Y=d;for(var e=0;d>e;e++)f(W[e],c)}function f(b,c){g(b,function(d){var e,f,g,h=a.isArray(b.events);if(c==X){if(d)for(e=0;e<d.length;e++)f=d[e],g=h?f:u(f,b),g&&$.push.apply($,y(g));Y--,Y||U($)}})}function g(b,d){var e,f,h=Ca.sourceFetchers;for(e=0;e<h.length;e++){if(f=h[e].call(P,b,Q.clone(),R.clone(),c.timezone,d),f===!0)return;if("object"==typeof f)return void g(f,d)}var i=b.events;if(i)a.isFunction(i)?(s(),i.call(P,Q.clone(),R.clone(),c.timezone,function(a){d(a),t()})):a.isArray(i)?d(i):d();else{var j=b.url;if(j){var k,l=b.success,m=b.error,n=b.complete;k=a.isFunction(b.data)?b.data():b.data;var o=a.extend({},k||{}),p=K(b.startParam,c.startParam),q=K(b.endParam,c.endParam),r=K(b.timezoneParam,c.timezoneParam);p&&(o[p]=Q.format()),q&&(o[q]=R.format()),c.timezone&&"local"!=c.timezone&&(o[r]=c.timezone),s(),a.ajax(a.extend({},eb,b,{data:o,success:function(b){b=b||[];var c=J(l,this,arguments);a.isArray(c)&&(b=c),d(b)},error:function(){J(m,this,arguments),d()},complete:function(){J(n,this,arguments),t()}}))}else d()}}function h(a){var b=i(a);b&&(W.push(b),Y++,f(b,X))}function i(b){var c,d,e=Ca.sourceNormalizers;if(a.isFunction(b)||a.isArray(b)?c={events:b}:"string"==typeof b?c={url:b}:"object"==typeof b&&(c=a.extend({},b)),c){for(c.className?"string"==typeof c.className&&(c.className=c.className.split(/\s+/)):c.className=[],a.isArray(c.events)&&(c.origArray=c.events,c.events=a.map(c.events,function(a){return u(a,c)})),d=0;d<e.length;d++)e[d].call(P,c);return c}}function j(b){W=a.grep(W,function(a){return!k(a,b)}),$=a.grep($,function(a){return!k(a.source,b)}),U($)}function k(a,b){return a&&b&&l(a)==l(b)}function l(a){return("object"==typeof a?a.origArray||a.googleCalendarId||a.url||a.events:null)||a}function m(a){a.start=P.moment(a.start),a.end?a.end=P.moment(a.end):a.end=null,B(a,n(a)),U($)}function n(b){var c={};return a.each(b,function(a,b){o(a)&&void 0!==b&&I(b)&&(c[a]=b)}),c}function o(a){return!/^_|^(id|allDay|start|end)$/.test(a)}function p(a,b){var c,d,e,f=u(a);if(f){for(c=y(f),d=0;d<c.length;d++)e=c[d],e.source||(b&&(V.events.push(e),e.source=V),$.push(e));return U($),c}return[]}function q(b){var c,d;for(null==b?b=function(){return!0}:a.isFunction(b)||(c=b+"",b=function(a){return a._id==c}),$=a.grep($,b,!0),d=0;d<W.length;d++)a.isArray(W[d].events)&&(W[d].events=a.grep(W[d].events,b,!0));U($)}function r(b){return a.isFunction(b)?a.grep($,b):null!=b?(b+="",a.grep($,function(a){return a._id==b})):$}function s(){Z++||S("loading",null,!0,T())}function t(){--Z||S("loading",null,!1,T())}function u(d,e){var f,g,h,i={};if(c.eventDataTransform&&(d=c.eventDataTransform(d)),e&&e.eventDataTransform&&(d=e.eventDataTransform(d)),a.extend(i,d),e&&(i.source=e),i._id=d._id||(void 0===d.id?"_fc"+fb++:d.id+""),d.className?"string"==typeof d.className?i.className=d.className.split(/\s+/):i.className=d.className:i.className=[],f=d.start||d.date,g=d.end,E(f)&&(f=b.duration(f)),E(g)&&(g=b.duration(g)),d.dow||b.isDuration(f)||b.isDuration(g))i.start=f?b.duration(f):null,i.end=g?b.duration(g):null,i._recurring=!0;else{if(f&&(f=P.moment(f),!f.isValid()))return!1;g&&(g=P.moment(g),g.isValid()||(g=null)),h=d.allDay,void 0===h&&(h=K(e?e.allDayDefault:void 0,c.allDayDefault)),v(f,g,h,i)}return i}function v(a,b,c,d){d.start=a,d.end=b,d.allDay=c,w(d),ya(d)}function w(a){null==a.allDay&&(a.allDay=!(a.start.hasTime()||a.end&&a.end.hasTime())),a.allDay?(a.start.stripTime(),a.end&&a.end.stripTime()):(a.start.hasTime()||(a.start=P.rezoneDate(a.start)),a.end&&!a.end.hasTime()&&(a.end=P.rezoneDate(a.end))),a.end&&!a.end.isAfter(a.start)&&(a.end=null),a.end||(c.forceEventDuration?a.end=P.getDefaultEventEnd(a.allDay,a.start):a.end=null)}function x(a){var b;return a.end||(b=a.allDay,null==b&&(b=!a.start.hasTime()),a={start:a.start,end:P.getDefaultEventEnd(b,a.start)}),a}function y(b,c,d){var e,f,g,h,i,j,k,l,m,n=[];if(c=c||Q,d=d||R,b)if(b._recurring){if(f=b.dow)for(e={},g=0;g<f.length;g++)e[f[g]]=!0;for(h=c.clone().stripTime();h.isBefore(d);)(!e||e[h.day()])&&(i=b.start,j=b.end,k=h.clone(),l=null,i&&(k=k.time(i)),j&&(l=h.clone().time(j)),m=a.extend({},b),v(k,l,!i&&!j,m),n.push(m)),h.add(1,"days")}else n.push(b);return n}function B(b,c){var d,e,f,g,h={};return c=c||{},c.start||(c.start=b.start.clone()),void 0===c.end&&(c.end=b.end?b.end.clone():null),null==c.allDay&&(c.allDay=b.allDay),w(c),d=null!==b._end&&null===c.end,e=c.allDay?A(c.start,b._start):z(c.start,b._start),!d&&c.end&&(f=z(c.end,c.start).subtract(z(b._end||P.getDefaultEventEnd(b._allDay,b._start),b._start))),a.each(c,function(a,b){o(a)&&void 0!==b&&(h[a]=b)}),g=C(r(b._id),d,c.allDay,e,f,h),{dateDelta:e,durationDelta:f,undo:g}}function C(b,c,d,e,f,g){var h=P.getIsAmbigTimezone(),i=[];return e&&!e.valueOf()&&(e=null),f&&!f.valueOf()&&(f=null),a.each(b,function(b,j){var k,l;k={start:j.start.clone(),end:j.end?j.end.clone():null,allDay:j.allDay},a.each(g,function(a){k[a]=j[a]}),l={start:j._start,end:j._end,allDay:j._allDay},c&&(l.end=null),l.allDay=d,w(l),e&&(l.start.add(e),l.end&&l.end.add(e)),f&&(l.end||(l.end=P.getDefaultEventEnd(l.allDay,l.start)),l.end.add(f)),h&&!l.allDay&&(e||f)&&(l.start.stripZone(),l.end&&l.end.stripZone()),a.extend(j,g,l),ya(j),i.push(function(){a.extend(j,k),ya(j)})}),function(){for(var a=0;a<i.length;a++)i[a]()}}function D(){var b,d=c.businessHours,e={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},f=P.getView();return d&&(b="object"==typeof d?a.extend({},e,d):e),b?y(u(b),f.start,f.end):[]}function F(a,b){var d=b.source||{},e=K(b.constraint,d.constraint,c.eventConstraint),f=K(b.overlap,d.overlap,c.eventOverlap);return a=x(a),L(a,e,f,b)}function G(a){return L(a,c.selectConstraint,c.selectOverlap)}function H(b,c){var d,e;return c&&(d=a.extend({},c,b),e=y(u(d))[0]),e?F(b,e):(b=x(b),G(b))}function L(a,b,c,d){var e,f,g,h,i;if(a={start:a.start.clone().stripZone(),end:a.end.clone().stripZone()},null!=b){for(e=M(b),f=!1,g=0;g<e.length;g++)if(N(e[g],a)){f=!0;break}if(!f)return!1}for(g=0;g<$.length;g++)if(h=$[g],(!d||d._id!==h._id)&&O(h,a)){if(c===!1)return!1;if("function"==typeof c&&!c(h,d))return!1;if(d){if(i=K(h.overlap,(h.source||{}).overlap),i===!1)return!1;if("function"==typeof i&&!i(d,h))return!1}}return!0}function M(a){return"businessHours"===a?D():"object"==typeof a?y(u(a)):r(a)}function N(a,b){var c=a.start.clone().stripZone(),d=P.getEventEnd(a).stripZone();return b.start>=c&&b.end<=d}function O(a,b){var c=a.start.clone().stripZone(),d=P.getEventEnd(a).stripZone();return b.start<d&&b.end>c}var P=this;P.isFetchNeeded=d,P.fetchEvents=e,P.addEventSource=h,P.removeEventSource=j,P.updateEvent=m,P.renderEvent=p,P.removeEvents=q,P.clientEvents=r,P.mutateEvent=B,P.normalizeEventDateProps=w,P.ensureVisibleEventRange=x;var Q,R,S=P.trigger,T=P.getView,U=P.reportEvents,V={events:[]},W=[V],X=0,Y=0,Z=0,$=[];a.each((c.events?[c.events]:[]).concat(c.eventSources||[]),function(a,b){var c=i(b);c&&W.push(c)}),P.getBusinessHoursEvents=D,P.isEventRangeAllowed=F,P.isSelectionRangeAllowed=G,P.isExternalDropRangeAllowed=H}function ya(a){a._allDay=a.allDay,a._start=a.start.clone(),a._end=a.end?a.end.clone():null}var za={titleRangeSeparator:" â€” ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,defaultButtonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},Aa={dayPopoverFormat:"dddd, MMMM D"},Ba={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}},Ca=a.fullCalendar={version:"2.2.7"},Da=Ca.views={};a.fn.fullCalendar=function(b){var c=Array.prototype.slice.call(arguments,1),d=this;return this.each(function(e,f){var g,h=a(f),i=h.data("fullCalendar");"string"==typeof b?i&&a.isFunction(i[b])&&(g=i[b].apply(i,c),e||(d=g),"destroy"===b&&h.removeData("fullCalendar")):i||(i=new va(h,b),h.data("fullCalendar",i),i.render())}),d};var Ea=Ca.langs={};Ca.datepickerLang=function(b,c,d){var e=Ea[b]||(Ea[b]={});e.isRTL=d.isRTL,e.weekNumberTitle=d.weekHeader,a.each(Fa,function(a,b){e[a]=b(d)}),a.datepicker&&(a.datepicker.regional[c]=a.datepicker.regional[b]=d,a.datepicker.regional.en=a.datepicker.regional[""],a.datepicker.setDefaults(d))},Ca.lang=function(b,c){var e,g;e=Ea[b]||(Ea[b]={}),c&&d(e,c),g=f(b),a.each(Ga,function(a,b){void 0===e[a]&&(e[a]=b(g,e))}),za.lang=b};var Fa={defaultButtonText:function(a){return{prev:M(a.prevText),next:M(a.nextText),today:M(a.currentText)}},monthYearFormat:function(a){return a.showMonthAfterYear?"YYYY["+a.yearSuffix+"] MMMM":"MMMM YYYY["+a.yearSuffix+"]"}},Ga={dayOfMonthFormat:function(a,b){var c=a.longDateFormat("l");return c=c.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),b.isRTL?c+=" ddd":c="ddd "+c,c},smallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(a){return a.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},noMeridiemTimeFormat:function(a){return a.longDateFormat("LT").replace(/\s*a$/i,"")}};Ca.lang("en",Aa),Ca.intersectionToSeg=x,Ca.applyAll=J,Ca.debounce=Q;var Ha,Ia,Ja,Ka=-1!==navigator.userAgent.toLowerCase().indexOf("phantom"),La=!1,Ma=["sun","mon","tue","wed","thu","fri","sat"],Na=["year","month","week","day","hour","minute","second","millisecond"],Oa={}.hasOwnProperty,Pa=/^\s*\d{4}-\d\d$/,Qa=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ra=b.fn,Sa=a.extend({},Ra);Ca.moment=function(){return R(arguments)},Ca.moment.utc=function(){var a=R(arguments,!0);return a.hasTime()&&a.utc(),a},Ca.moment.parseZone=function(){return R(arguments,!0,!0)},Ra.clone=function(){var a=Sa.clone.apply(this,arguments);return T(this,a),this._fullCalendar&&(a._fullCalendar=!0),a},Ra.time=function(a){if(!this._fullCalendar)return Sa.time.apply(this,arguments);if(null==a)return b.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,b.isDuration(a)||b.isMoment(a)||(a=b.duration(a));var c=0;return b.isDuration(a)&&(c=24*Math.floor(a.asDays())),this.hours(c+a.hours()).minutes(a.minutes()).seconds(a.seconds()).milliseconds(a.milliseconds())},Ra.stripTime=function(){var a;return this._ambigTime||(a=this.toArray(),this.utc(),Ia(this,a.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ra.hasTime=function(){return!this._ambigTime},Ra.stripZone=function(){var a,b;return this._ambigZone||(a=this.toArray(),b=this._ambigTime,this.utc(),Ia(this,a),this._ambigTime=b||!1,this._ambigZone=!0),this},Ra.hasZone=function(){return!this._ambigZone},Ra.local=function(){var a=this.toArray(),b=this._ambigZone;return Sa.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,b&&Ja(this,a),this},Ra.utc=function(){return Sa.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},a.each(["zone","utcOffset"],function(a,b){Sa[b]&&(Ra[b]=function(a){return null!=a&&(this._ambigTime=!1,this._ambigZone=!1),Sa[b].apply(this,arguments)})}),Ra.format=function(){return this._fullCalendar&&arguments[0]?W(this,arguments[0]):this._ambigTime?V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):Sa.format.apply(this,arguments)},Ra.toISOString=function(){return this._ambigTime?V(this,"YYYY-MM-DD"):this._ambigZone?V(this,"YYYY-MM-DD[T]HH:mm:ss"):Sa.toISOString.apply(this,arguments)},Ra.isWithin=function(a,b){var c=S([this,a,b]);return c[0]>=c[1]&&c[0]<c[2]},Ra.isSame=function(a,b){var c;return this._fullCalendar?b?(c=S([this,a],!0),Sa.isSame.call(c[0],c[1],b)):(a=Ca.moment.parseZone(a),Sa.isSame.call(this,a)&&Boolean(this._ambigTime)===Boolean(a._ambigTime)&&Boolean(this._ambigZone)===Boolean(a._ambigZone)):Sa.isSame.apply(this,arguments)},a.each(["isBefore","isAfter"],function(a,b){Ra[b]=function(a,c){var d;return this._fullCalendar?(d=S([this,a]),Sa[b].call(d[0],d[1],c)):Sa[b].apply(this,arguments)}}),Ha="_d"in b()&&"updateOffset"in b,Ia=Ha?function(a,c){a._d.setTime(Date.UTC.apply(Date,c)),b.updateOffset(a,!1)}:U,Ja=Ha?function(a,c){a._d.setTime(+new Date(c[0]||0,c[1]||0,c[2]||0,c[3]||0,c[4]||0,c[5]||0,c[6]||0)),b.updateOffset(a,!1)}:U;var Ta={t:function(a){return V(a,"a").charAt(0)},T:function(a){return V(a,"A").charAt(0)}};Ca.formatRange=Z;var Ua={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Va={};Ca.Class=ca,ca.extend=function(a){var b,c=this;return a=a||{},H(a,"constructor")&&(b=a.constructor),"function"!=typeof b&&(b=a.constructor=function(){c.apply(this,arguments)}),b.prototype=F(c.prototype),G(a,b.prototype),G(c,b),b},ca.mixin=function(a){G(a.prototype||a,this.prototype)};var Wa=ca.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(a){this.options=a||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var b=this,c=this.options;this.el=a('<div class="fc-popover"/>').addClass(c.className||"").css({top:0,left:0}).append(c.content).appendTo(c.parentEl),this.el.on("click",".fc-close",function(){b.hide()}),c.autoHide&&a(document).on(m(),this.documentMousedownProxy=a.proxy(this,"documentMousedown"))},documentMousedown:function(b){this.el&&!a(b.target).closest(this.el).length&&(this.hide(),b.stopPropagation())},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),
a(document).off(m(),this.documentMousedownProxy)},position:function(){var b,c,d,e,f,g=this.options,h=this.el.offsetParent().offset(),i=this.el.outerWidth(),j=this.el.outerHeight(),k=a(window),l=u(this.el);e=g.top||0,f=void 0!==g.left?g.left:void 0!==g.right?g.right-i:0,l.is(window)||l.is(document)?(l=k,b=0,c=0):(d=l.offset(),b=d.top,c=d.left),b+=k.scrollTop(),c+=k.scrollLeft(),g.viewportConstrain!==!1&&(e=Math.min(e,b+l.outerHeight()-j-this.margin),e=Math.max(e,b+this.margin),f=Math.min(f,c+l.outerWidth()-i-this.margin),f=Math.max(f,c+this.margin)),this.el.css({top:e-h.top,left:f-h.left})},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))}}),Xa=ca.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,minX:null,maxX:null,minY:null,maxY:null,constructor:function(a){this.grid=a},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(a,b){var c,d,e,f=this.rowCoords,g=this.colCoords,h=null,i=null;if(this.inBounds(a,b)){for(c=0;c<f.length;c++)if(d=f[c],b>=d.top&&b<d.bottom){h=c;break}for(c=0;c<g.length;c++)if(d=g[c],a>=d.left&&a<d.right){i=c;break}if(null!==h&&null!==i)return e=this.grid.getCell(h,i),e.grid=this.grid,e}return null},computeBounds:function(){var a;this.containerEl&&(a=this.containerEl.offset(),this.minX=a.left,this.maxX=a.left+this.containerEl.outerWidth(),this.minY=a.top,this.maxY=a.top+this.containerEl.outerHeight())},inBounds:function(a,b){return this.containerEl?a>=this.minX&&a<this.maxX&&b>=this.minY&&b<this.maxY:!0}}),Ya=ca.extend({coordMaps:null,constructor:function(a){this.coordMaps=a},build:function(){var a,b=this.coordMaps;for(a=0;a<b.length;a++)b[a].build()},getCell:function(a,b){var c,d=this.coordMaps,e=null;for(c=0;c<d.length&&!e;c++)e=d[c].getCell(a,b);return e},clear:function(){var a,b=this.coordMaps;for(a=0;a<b.length;a++)b[a].clear()}}),Za=ca.extend({coordMap:null,options:null,isListening:!1,isDragging:!1,origCell:null,cell:null,mouseX0:null,mouseY0:null,mousemoveProxy:null,mouseupProxy:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(a,b){this.coordMap=a,this.options=b||{}},mousedown:function(a){w(a)&&(k(a)||a.preventDefault(),this.startListening(a),this.options.distance||this.startDrag(a))},startListening:function(b){var c,d;this.isListening||(b&&this.options.scroll&&(c=u(a(b.target)),c.is(window)||c.is(document)||(this.scrollEl=c,this.scrollHandlerProxy=Q(a.proxy(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),this.computeCoords(),b&&(d=this.getCell(b),this.origCell=d,this.mouseX0=l(b).x,this.mouseY0=l(b).y),a(document).on(o(),this.mousemoveProxy=a.proxy(this,"mousemove")).on(n(),this.mouseupProxy=a.proxy(this,"mouseup")).on("selectstart",this.preventDefault),this.isListening=!0,this.trigger("listenStart",b))},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},mousemove:function(a){var b,c;this.isDragging||(b=this.options.distance||1,c=Math.pow(l(a).x-this.mouseX0,2)+Math.pow(l(a).y-this.mouseY0,2),c>=b*b&&this.startDrag(a)),this.isDragging&&this.drag(a)},startDrag:function(a){var b;this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.trigger("dragStart",a),b=this.getCell(a),b&&this.cellOver(b))},drag:function(a){var b;this.isDragging&&(b=this.getCell(a),da(b,this.cell)||(this.cell&&this.cellOut(),!b||k(a)&&!La||this.cellOver(b)),this.dragScroll(a))},cellOver:function(a){this.cell=a,this.trigger("cellOver",a,da(a,this.origCell))},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cell=null)},mouseup:function(a){this.stopDrag(a),this.stopListening(a)},stopDrag:function(a){this.isDragging&&(this.stopScrolling(),this.trigger("dragStop",a),this.isDragging=!1)},stopListening:function(b){this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),a(document).off(o(),this.mousemoveProxy).off(n(),this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.trigger("listenStop",b),this.origCell=this.cell=null,this.coordMap.clear())},getCell:function(a){return this.coordMap.getCell(l(a).x,l(a).y)},trigger:function(a){this.options[a]&&this.options[a].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(a){a.preventDefault()},computeScrollBounds:function(){var a,b=this.scrollEl;b&&(a=b.offset(),this.scrollBounds={top:a.top,left:a.left,bottom:a.top+b.outerHeight(),right:a.left+b.outerWidth()})},dragScroll:function(a){var b,c,d,e,f=this.scrollSensitivity,g=this.scrollBounds,h=0,i=0;g&&(b=(f-(l(a).y-g.top))/f,c=(f-(g.bottom-l(a).y))/f,d=(f-(l(a).x-g.left))/f,e=(f-(g.right-l(a).x))/f,b>=0&&1>=b?h=b*this.scrollSpeed*-1:c>=0&&1>=c&&(h=c*this.scrollSpeed),d>=0&&1>=d?i=d*this.scrollSpeed*-1:e>=0&&1>=e&&(i=e*this.scrollSpeed)),this.setScrollVel(h,i)},setScrollVel:function(b,c){this.scrollTopVel=b,this.scrollLeftVel=c,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(a.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var a=this.scrollEl;this.scrollTopVel<0?a.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&a.scrollTop()+a[0].clientHeight>=a[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?a.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&a.scrollLeft()+a[0].clientWidth>=a[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var a=this.scrollEl,b=this.scrollIntervalMs/1e3;this.scrollTopVel&&a.scrollTop(a.scrollTop()+this.scrollTopVel*b),this.scrollLeftVel&&a.scrollLeft(a.scrollLeft()+this.scrollLeftVel*b),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.computeCoords())},scrollHandler:function(){this.scrollIntervalId||this.computeCoords()}}),$a=ca.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(b,c){this.options=c=c||{},this.sourceEl=b,this.parentEl=c.parentEl?a(c.parentEl):b.parent()},start:function(b){this.isFollowing||(this.isFollowing=!0,this.mouseY0=l(b).y,this.mouseX0=l(b).x,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),a(document).on(o(),this.mousemoveProxy=a.proxy(this,"mousemove")))},stop:function(b,c){function d(){this.isAnimating=!1,e.destroyEl(),this.top0=this.left0=null,c&&c()}var e=this,f=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,a(document).off(o(),this.mousemoveProxy),b&&f&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:f,complete:d})):d())},getEl:function(){var a=this.el;return a||(this.sourceEl.width(),a=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),a},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var a,b;this.getEl(),null===this.top0&&(this.sourceEl.width(),a=this.sourceEl.offset(),b=this.el.offsetParent().offset(),this.top0=a.top-b.top,this.left0=a.left-b.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(a){this.topDelta=l(a).y-this.mouseY0,this.leftDelta=l(a).x-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),_a=ca.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(a){this.view=a,this.isRTL=a.opt("isRTL")},rowHtml:function(a,b){var c,d,e=this.getHtmlRenderer("cell",a),f="";for(b=b||0,c=0;c<this.colCnt;c++)d=this.getCell(b,c),f+=e(d);return f=this.bookendCells(f,a,b),"<tr>"+f+"</tr>"},bookendCells:function(a,b,c){var d=this.getHtmlRenderer("intro",b)(c||0),e=this.getHtmlRenderer("outro",b)(c||0),f=this.isRTL?e:d,g=this.isRTL?d:e;return"string"==typeof a?f+a+g:a.prepend(f).append(g)},getHtmlRenderer:function(a,b){var c,d,e,f,g=this.view;return c=a+"Html",b&&(d=b+N(a)+"Html"),d&&(f=g[d])?e=g:d&&(f=this[d])?e=this:(f=g[c])?e=g:(f=this[c])&&(e=this),"function"==typeof f?function(){return f.apply(e,arguments)||""}:function(){return f||""}}}),ab=Ca.Grid=_a.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,documentDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventEnd:null,constructor:function(){_a.apply(this,arguments),this.coordMap=new Xa(this),this.elsByFill={},this.documentDragStartProxy=a.proxy(this,"documentDragStart")},render:function(){this.bindHandlers()},destroy:function(){this.unbindHandlers()},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventEnd:function(){return!1},setRange:function(a){var b=this.view;this.start=a.start.clone(),this.end=a.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=b.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=b.opt("timeFormat")||this.computeEventTimeFormat(),this.displayEventEnd=b.opt("displayEventEnd"),null==this.displayEventEnd&&(this.displayEventEnd=this.computeDisplayEventEnd())},updateCells:function(){},rangeToSegs:function(a){},getCell:function(b,c){var d;return null==c&&("number"==typeof b?(c=b%this.colCnt,b=Math.floor(b/this.colCnt)):(c=b.col,b=b.row)),d={row:b,col:c},a.extend(d,this.getRowData(b),this.getColData(c)),a.extend(d,this.computeCellRange(d)),d},computeCellRange:function(a){},getRowData:function(a){return this.rowData[a]||{}},getColData:function(a){return this.colData[a]||{}},getRowEl:function(a){},getColEl:function(a){},getCellDayEl:function(a){return this.getColEl(a.col)||this.getRowEl(a.row)},computeRowCoords:function(){var a,b,c,d=[];for(a=0;a<this.rowCnt;a++)b=this.getRowEl(a),c={top:b.offset().top},a>0&&(d[a-1].bottom=c.top),d.push(c);return c.bottom=c.top+b.outerHeight(),d},computeColCoords:function(){var a,b,c,d=[];for(a=0;a<this.colCnt;a++)b=this.getColEl(a),c={left:b.offset().left},a>0&&(d[a-1].right=c.left),d.push(c);return c.right=c.left+b.outerWidth(),d},bindHandlers:function(){var b=this;this.el.on(m(),function(c){a(c.target).is(".fc-event-container *, .fc-more")||b.view.el.find(".fc-popover").length||a(c.target).closest(".fc-popover").length||b.dayMousedown(c)}),this.bindSegHandlers(),a(document).on("dragstart",this.documentDragStartProxy)},unbindHandlers:function(){a(document).off("dragstart",this.documentDragStartProxy)},dayMousedown:function(a){var b,c,d=this,e=this.view,f=e.opt("selectable"),g=new Za(this.coordMap,{scroll:e.opt("dragScroll"),dragStart:function(){e.unselect()},cellOver:function(a,e){var h=g.origCell;h&&(b=e?a:null,f&&(c=d.computeSelection(h,a),c?d.renderSelection(c):i()))},cellOut:function(a){b=null,c=null,d.destroySelection(),j()},listenStop:function(a){b&&(a.preventDefault(),e.trigger("dayClick",d.getCellDayEl(b),b.start,a)),c&&e.reportSelection(c,a),j()}});g.mousedown(a)},renderRangeHelper:function(a,b){var c;c=b?F(b.event):{},c.start=a.start.clone(),c.end=a.end?a.end.clone():null,c.allDay=null,this.view.calendar.normalizeEventDateProps(c),c.className=(c.className||[]).concat("fc-helper"),b||(c.editable=!1),this.renderHelper(c,b)},renderHelper:function(a,b){},destroyHelper:function(){},renderSelection:function(a){this.renderHighlight(a)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(a,b){var c,d=[a.start,a.end,b.start,b.end];return d.sort(O),c={start:d[0].clone(),end:d[3].clone()},this.view.calendar.isSelectionRangeAllowed(c)?c:null},renderHighlight:function(a){this.renderFill("highlight",this.rangeToSegs(a))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(a,b){},destroyFill:function(a){var b=this.elsByFill[a];b&&(b.remove(),delete this.elsByFill[a])},renderFillSegEls:function(b,c){var d,e=this,f=this[b+"SegEl"],g="",h=[];if(c.length){for(d=0;d<c.length;d++)g+=this.fillSegHtml(b,c[d]);a(g).each(function(b,d){var g=c[b],i=a(d);f&&(i=f.call(e,g,i)),i&&(i=a(i),i.is(e.fillSegTag)&&(g.el=i,h.push(g)))})}return h},fillSegTag:"div",fillSegHtml:function(a,b){var c=this[a+"SegClasses"],d=this[a+"SegStyles"],e=c?c.call(this,b):[],f=d?d.call(this,b):"";return"<"+this.fillSegTag+(e.length?' class="'+e.join(" ")+'"':"")+(f?' style="'+f+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(a){var b=this.view,c=a.start;return'<th class="fc-day-header '+b.widgetHeaderClass+" fc-"+Ma[c.day()]+'">'+L(c.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(a){var b=this.view,c=a.start,d=this.getDayClasses(c);return d.unshift("fc-day",b.widgetContentClass),'<td class="'+d.join(" ")+'" data-date="'+c.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(a){var b=this.view,c=b.calendar.getNow().stripTime(),d=["fc-"+Ma[a.day()]];return"month"===b.name&&a.month()!=b.intervalStart.month()&&d.push("fc-other-month"),a.isSame(c,"day")?d.push("fc-today",b.highlightStateClass):c>a?d.push("fc-past"):d.push("fc-future"),d}});ab.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,segs:null,renderEvents:function(a){var b,c,d=this.eventsToSegs(a),e=[],f=[];for(b=0;b<d.length;b++)c=d[b],ea(c.event)?e.push(c):f.push(c);e=this.renderBgSegs(e)||e,f=this.renderFgSegs(f)||f,this.segs=e.concat(f)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(a){},destroyFgSegs:function(){},renderFgSegEls:function(b,c){var d,e=this.view,f="",g=[];if(b.length){for(d=0;d<b.length;d++)f+=this.fgSegHtml(b[d],c);a(f).each(function(c,d){var f=b[c],h=e.resolveEventEl(f.event,a(d));h&&(h.data("fc-seg",f),f.el=h,g.push(f))})}return g},fgSegHtml:function(a,b){},renderBgSegs:function(a){return this.renderFill("bgEvent",a)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(a,b){return this.view.resolveEventEl(a.event,b)},bgEventSegClasses:function(a){var b=a.event,c=b.source||{};return["fc-bgevent"].concat(b.className,c.className||[])},bgEventSegStyles:function(a){var b=this.view,c=a.event,d=c.source||{},e=c.color,f=d.color,g=b.opt("eventColor"),h=c.backgroundColor||e||d.backgroundColor||f||b.opt("eventBackgroundColor")||g;return h?"background-color:"+h:""},businessHoursSegClasses:function(a){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var b=this,c=this.view,d={};d.mouseenter=function(a,c){b.triggerSegMouseover(a,c)},d.mouseleave=function(a,c){b.triggerSegMouseout(a,c)},d.click=function(a,b){return c.trigger("eventClick",this,a.event,b)},d[m()]=function(d,e){a(e.target).is(".fc-resizer")&&c.isEventResizable(d.event)?b.segResizeMousedown(d,e):!c.isEventDraggable(d.event)||k(e)&&!La||b.segDragMousedown(d,e)},a.each(d,function(c,d){b.el.on(c,".fc-event-container > *",function(c){var e=a(this).data("fc-seg");return!e||b.isDraggingSeg||b.isResizingSeg?void 0:d.call(this,e,c)})})},triggerSegMouseover:function(a,b){this.mousedOverSeg||(this.mousedOverSeg=a,this.view.trigger("eventMouseover",a.el[0],a.event,b))},triggerSegMouseout:function(a,b){b=b||{},this.mousedOverSeg&&(a=a||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",a.el[0],a.event,b))},segDragMousedown:function(a,b){var c,d=this,e=this.view,f=a.el,g=a.event,h=new $a(a.el,{parentEl:e.el,opacity:e.opt("dragOpacity"),revertDuration:e.opt("dragRevertDuration"),zIndex:2}),k=new Za(e.coordMap,{distance:5,scroll:e.opt("dragScroll"),listenStart:function(a){h.hide(),h.start(a)},dragStart:function(b){d.triggerSegMouseout(a,b),d.isDraggingSeg=!0,e.hideEvent(g),e.trigger("eventDragStart",f[0],g,b,{})},cellOver:function(b,f){var j=a.cell||k.origCell;c=d.computeEventDrop(j,b,g),c?(e.renderDrag(c,a)?h.hide():h.show(),f&&(c=null)):(h.show(),i())},cellOut:function(){c=null,e.destroyDrag(),h.show(),j()},dragStop:function(a){h.stop(!c,function(){d.isDraggingSeg=!1,e.destroyDrag(),e.showEvent(g),e.trigger("eventDragStop",f[0],g,a,{}),c&&e.reportEventDrop(g,c,f,a)}),j()},listenStop:function(){h.stop()}});k.mousedown(b)},computeEventDrop:function(a,b,c){var d,e,f,g,h,i=a.start,j=b.start;return i.hasTime()===j.hasTime()?(d=z(j,i),e=c.start.clone().add(d),f=null===c.end?null:c.end.clone().add(d),g=c.allDay):(e=j.clone(),f=null,g=!j.hasTime()),h={start:e,end:f,allDay:g},this.view.calendar.isEventRangeAllowed(h,c)?h:null},documentDragStart:function(b,c){var d,e,f=this.view;f.opt("droppable")&&(d=a(b.target),e=f.opt("dropAccept"),(a.isFunction(e)?e.call(d[0],d):d.is(e))&&this.startExternalDrag(d,b,c))},startExternalDrag:function(b,c,d){var e,f,g=this,h=ka(b);e=new Za(this.coordMap,{cellOver:function(a){f=g.computeExternalDrop(a,h),f?g.renderDrag(f):i()},cellOut:function(){f=null,g.destroyDrag(),j()}}),a(document).one("dragstop",function(a,c){g.destroyDrag(),j(),f&&g.view.reportExternalDrop(h,f,b,a,c)}),e.startDrag(c)},computeExternalDrop:function(a,b){var c={start:a.start.clone(),end:null};return b.startTime&&!c.start.hasTime()&&c.start.time(b.startTime),b.duration&&(c.end=c.start.clone().add(b.duration)),this.view.calendar.isExternalDropRangeAllowed(c,b.eventProps)?c:null},renderDrag:function(a,b){},destroyDrag:function(){},segResizeMousedown:function(a,b){function c(){f.destroyEventResize(),g.showEvent(l),j()}var d,e,f=this,g=this.view,h=g.calendar,k=a.el,l=a.event,m=l.start,n=h.getEventEnd(l);e=new Za(this.coordMap,{distance:5,scroll:g.opt("dragScroll"),dragStart:function(b){f.triggerSegMouseout(a,b),f.isResizingSeg=!0,g.trigger("eventResizeStart",k[0],l,b,{})},cellOver:function(b){d=b.end,d.isAfter(m)||(d=m.clone().add(z(b.end,b.start))),d.isSame(n)?d=null:h.isEventRangeAllowed({start:m,end:d},l)?(f.renderEventResize({start:m,end:d},a),g.hideEvent(l)):(d=null,i())},cellOut:function(){d=null,c()},dragStop:function(a){f.isResizingSeg=!1,c(),g.trigger("eventResizeStop",k[0],l,a,{}),d&&g.reportEventResize(l,d,k,a)}}),e.mousedown(b)},renderEventResize:function(a,b){},destroyEventResize:function(){},getEventTimeText:function(a,b){return b=b||this.eventTimeFormat,a.end&&this.displayEventEnd?this.view.formatRange(a,b):a.start.format(b)},getSegClasses:function(a,b,c){var d=a.event,e=["fc-event",a.isStart?"fc-start":"fc-not-start",a.isEnd?"fc-end":"fc-not-end"].concat(d.className,d.source?d.source.className:[]);return b&&e.push("fc-draggable"),c&&e.push("fc-resizable"),e},getEventSkinCss:function(a){var b=this.view,c=a.source||{},d=a.color,e=c.color,f=b.opt("eventColor"),g=a.backgroundColor||d||c.backgroundColor||e||b.opt("eventBackgroundColor")||f,h=a.borderColor||d||c.borderColor||e||b.opt("eventBorderColor")||f,i=a.textColor||c.textColor||b.opt("eventTextColor"),j=[];return g&&j.push("background-color:"+g),h&&j.push("border-color:"+h),i&&j.push("color:"+i),j.join(";")},eventsToSegs:function(a,b){var c,d=this.eventsToRanges(a),e=[];for(c=0;c<d.length;c++)e.push.apply(e,this.eventRangeToSegs(d[c],b));return e},eventsToRanges:function(b){var c=this,d=ha(b),e=[];return a.each(d,function(a,b){b.length&&e.push.apply(e,fa(b[0])?c.eventsToInverseRanges(b):c.eventsToNormalRanges(b))}),e},eventsToNormalRanges:function(a){var b,c,d,e,f=this.view.calendar,g=[];for(b=0;b<a.length;b++)c=a[b],d=c.start.clone().stripZone(),e=f.getEventEnd(c).stripZone(),g.push({event:c,start:d,end:e,eventStartMS:+d,eventDurationMS:e-d});return g},eventsToInverseRanges:function(a){var b,c,d=this.view,e=d.start.clone().stripZone(),f=d.end.clone().stripZone(),g=this.eventsToNormalRanges(a),h=[],i=a[0],j=e;for(g.sort(ia),b=0;b<g.length;b++)c=g[b],c.start>j&&h.push({event:i,start:j,end:c.start}),j=c.end;return f>j&&h.push({event:i,start:j,end:f}),h},eventRangeToSegs:function(a,b){var c,d,e;for(c=b?b(a):this.rangeToSegs(a),d=0;d<c.length;d++)e=c[d],e.event=a.event,e.eventStartMS=a.eventStartMS,e.eventDurationMS=a.eventDurationMS;return c}}),Ca.compareSegs=ja,Ca.dataAttrPrefix="";var bb=ab.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,render:function(a){var b,c,d,e=this.view,f=this.rowCnt,g=this.colCnt,h=f*g,i="";for(b=0;f>b;b++)i+=this.dayRowHtml(b,a);for(this.el.html(i),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),c=0;h>c;c++)d=this.getCell(c),e.trigger("dayRender",null,d.start,this.dayEls.eq(c));ab.prototype.render.call(this)},destroy:function(){this.destroySegPopover(),ab.prototype.destroy.call(this)},dayRowHtml:function(a,b){var c=this.view,d=["fc-row","fc-week",c.widgetContentClass];return b&&d.push("fc-rigid"),'<div class="'+d.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",a)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",a)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(a){return this.bgCellHtml(a)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var a,b,c,d;if(this.updateCellDates(),a=this.cellDates,this.breakOnWeeks){for(b=a[0].day(),d=1;d<a.length&&a[d].day()!=b;d++);c=Math.ceil(a.length/d)}else c=1,d=a.length;this.rowCnt=c,this.colCnt=d},updateCellDates:function(){for(var a=this.view,b=this.start.clone(),c=[],d=-1,e=[];b.isBefore(this.end);)a.isHiddenDay(b)?e.push(d+.5):(d++,e.push(d),c.push(b.clone())),b.add(1,"days");this.cellDates=c,this.dayToCellOffsets=e},computeCellRange:function(a){var b=this.colCnt,c=a.row*b+(this.isRTL?b-a.col-1:a.col),d=this.cellDates[c].clone(),e=d.clone().add(1,"day");return{start:d,end:e}},getRowEl:function(a){return this.rowEls.eq(a)},getColEl:function(a){return this.dayEls.eq(a)},getCellDayEl:function(a){return this.dayEls.eq(a.row*this.colCnt+a.col)},computeRowCoords:function(){var a=ab.prototype.computeRowCoords.call(this);return a[a.length-1].bottom+=this.bottomCoordPadding,a},rangeToSegs:function(a){var b,c,d,e,f,g,h,i,j,k,l=this.isRTL,m=this.rowCnt,n=this.colCnt,o=[];for(a=this.view.computeDayRange(a),b=this.dateToCellOffset(a.start),c=this.dateToCellOffset(a.end.subtract(1,"days")),d=0;m>d;d++)e=d*n,f=e+n-1,i=Math.max(e,b),j=Math.min(f,c),i=Math.ceil(i),j=Math.floor(j),j>=i&&(g=i===b,h=j===c,i-=e,j-=e,k={row:d,isStart:g,isEnd:h},l?(k.leftCol=n-j-1,k.rightCol=n-i-1):(k.leftCol=i,k.rightCol=j),o.push(k));return o},dateToCellOffset:function(a){var b=this.dayToCellOffsets,c=a.diff(this.start,"days");return 0>c?b[0]-1:c>=b.length?b[b.length-1]+1:b[c]},renderDrag:function(a,b){var c;return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a)),b&&!b.el.closest(this.el).length?(this.renderRangeHelper(a,b),c=this.view.opt("dragOpacity"),void 0!==c&&this.helperEls.css("opacity",c),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(a,b){this.renderHighlight(a),this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(b,c){var d,e=[],f=this.eventsToSegs([b]);f=this.renderFgSegEls(f),d=this.renderSegRows(f),this.rowEls.each(function(b,f){var g,h=a(f),i=a('<div class="fc-helper-skeleton"><table/></div>');g=c&&c.row===b?c.el.position().top:h.find(".fc-content-skeleton tbody").position().top,i.css("top",g).find("table").append(d[b].tbodyEl),h.append(i),e.push(i[0])}),this.helperEls=a(e)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(b,c){var d,e,f,g=[];for(c=this.renderFillSegEls(b,c),d=0;d<c.length;d++)e=c[d],f=this.renderFillRow(b,e),this.rowEls.eq(e.row).append(f),g.push(f[0]);return this.elsByFill[b]=a(g),c},renderFillRow:function(b,c){var d,e,f=this.colCnt,g=c.leftCol,h=c.rightCol+1;return d=a('<div class="fc-'+b.toLowerCase()+'-skeleton"><table><tr/></table></div>'),e=d.find("tr"),g>0&&e.append('<td colspan="'+g+'"/>'),e.append(c.el.attr("colspan",h-g)),f>h&&e.append('<td colspan="'+(f-h)+'"/>'),this.bookendCells(e,b),d}});bb.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),ab.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return ab.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(b){var c=a.grep(b,function(a){return a.event.allDay});return ab.prototype.renderBgSegs.call(this,c)},renderFgSegs:function(b){var c;return b=this.renderFgSegEls(b),c=this.rowStructs=this.renderSegRows(b),this.rowEls.each(function(b,d){a(d).find(".fc-content-skeleton > table").append(c[b].tbodyEl)}),b},destroyFgSegs:function(){for(var a,b=this.rowStructs||[];a=b.pop();)a.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(a){var b,c,d=[];for(b=this.groupSegRows(a),c=0;c<b.length;c++)d.push(this.renderSegRow(c,b[c]));return d},fgSegHtml:function(a,b){var c,d=this.view,e=a.event,f=d.isEventDraggable(e),g=!b&&e.allDay&&a.isEnd&&d.isEventResizable(e),h=this.getSegClasses(a,f,g),i=this.getEventSkinCss(e),j="";h.unshift("fc-day-grid-event"),!e.allDay&&a.isStart&&(j='<span class="fc-time">'+L(this.getEventTimeText(e))+"</span>");var k='<span class="eo-fullcalendar-screen-reader-text screen-reader-text"> '+L(this.getEventTimeText(e,"dddd, MMMM Do YYYY"))+" </span>";return c='<span class="fc-title">'+(L(e.title||"")||"&nbsp;")+"</span>",'<a class="'+h.join(" ")+'"'+(e.url?' href="'+L(e.url)+'"':"")+(i?' style="'+i+'"':"")+'><div class="fc-content">'+(this.isRTL?c+" "+j+k:k+j+" "+c)+"</div>"+(g?'<div class="fc-resizer"/>':"")+"</a>"},renderSegRow:function(b,c){function d(b){for(;b>g;)k=(r[e-1]||[])[g],k?k.attr("rowspan",parseInt(k.attr("rowspan")||1,10)+1):(k=a("<td/>"),h.append(k)),q[e][g]=k,r[e][g]=k,g++}var e,f,g,h,i,j,k,l=this.colCnt,m=this.buildSegLevels(c),n=Math.max(1,m.length),o=a("<tbody/>"),p=[],q=[],r=[];for(e=0;n>e;e++){if(f=m[e],g=0,h=a("<tr/>"),p.push([]),q.push([]),r.push([]),f)for(i=0;i<f.length;i++){for(j=f[i],d(j.leftCol),k=a('<td class="fc-event-container"/>').append(j.el),j.leftCol!=j.rightCol?k.attr("colspan",j.rightCol-j.leftCol+1):r[e][g]=k;g<=j.rightCol;)q[e][g]=k,p[e][g]=j,g++;h.append(k)}d(l),this.bookendCells(h,"eventSkeleton"),o.append(h)}return{row:b,tbodyEl:o,cellMatrix:q,segMatrix:p,segLevels:m,segs:c}},buildSegLevels:function(a){var b,c,d,e=[];for(a.sort(ja),b=0;b<a.length;b++){for(c=a[b],d=0;d<e.length&&la(c,e[d]);d++);c.level=d,(e[d]||(e[d]=[])).push(c)}for(d=0;d<e.length;d++)e[d].sort(ma);return e},groupSegRows:function(a){var b,c=[];for(b=0;b<this.rowCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].row].push(a[b]);return c}}),bb.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(a){var b,c,d=this.rowStructs||[];for(b=0;b<d.length;b++)this.unlimitRow(b),c=a?"number"==typeof a?a:this.computeRowLevelLimit(b):!1,c!==!1&&this.limitRow(b,c)},computeRowLevelLimit:function(a){var b,c,d=this.rowEls.eq(a),e=d.height(),f=this.rowStructs[a].tbodyEl.children();for(b=0;b<f.length;b++)if(c=f.eq(b).removeClass("fc-limited"),c.position().top+c.outerHeight()>e)return b;return!1},limitRow:function(b,c){function d(d){for(;d>x;)e=u.getCell(b,x),k=u.getCellSegs(e,c),k.length&&(n=g[c-1][x],t=u.renderMoreLink(e,k),s=a("<div/>").append(t),n.append(s),w.push(s[0])),x++}var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u=this,v=this.rowStructs[b],w=[],x=0;if(c&&c<v.segLevels.length){for(f=v.segLevels[c-1],g=v.cellMatrix,h=v.tbodyEl.children().slice(c).addClass("fc-limited").get(),i=0;i<f.length;i++){for(j=f[i],d(j.leftCol),m=[],l=0;x<=j.rightCol;)e=this.getCell(b,x),k=this.getCellSegs(e,c),m.push(k),l+=k.length,x++;if(l){for(n=g[c-1][j.leftCol],o=n.attr("rowspan")||1,p=[],q=0;q<m.length;q++)r=a('<td class="fc-more-cell"/>').attr("rowspan",o),k=m[q],e=this.getCell(b,j.leftCol+q),t=this.renderMoreLink(e,[j].concat(k)),s=a("<div/>").append(t),r.append(s),p.push(r[0]),w.push(r[0]);n.addClass("fc-limited").after(a(p)),h.push(n[0])}}d(this.colCnt),v.moreEls=a(w),v.limitedEls=a(h)}},unlimitRow:function(a){var b=this.rowStructs[a];b.moreEls&&(b.moreEls.remove(),b.moreEls=null),b.limitedEls&&(b.limitedEls.removeClass("fc-limited"),b.limitedEls=null)},renderMoreLink:function(b,c){var d=this,e=this.view;return a('<a class="fc-more"/>').text(this.getMoreLinkText(c.length)).on("click",function(f){var g=e.opt("eventLimitClick"),h=b.start,i=a(this),j=d.getCellDayEl(b),k=d.getCellSegs(b),l=d.resliceDaySegs(k,h),m=d.resliceDaySegs(c,h);"function"==typeof g&&(g=e.trigger("eventLimitClick",null,{date:h,dayEl:j,moreEl:i,segs:l,hiddenSegs:m},f)),"popover"===g?d.showSegPopover(b,i,l):"string"==typeof g&&e.calendar.zoomTo(h,g)})},showSegPopover:function(a,b,c){var d,e,f=this,g=this.view,h=b.parent();d=1==this.rowCnt?g.el:this.rowEls.eq(a.row),e={className:"fc-more-popover",content:this.renderSegPopoverContent(a,c),parentEl:this.el,top:d.offset().top,autoHide:!0,viewportConstrain:g.opt("popoverViewportConstrain"),hide:function(){f.segPopover.destroy(),f.segPopover=null,f.popoverSegs=null}},this.isRTL?e.right=h.offset().left+h.outerWidth()+1:e.left=h.offset().left-1,this.segPopover=new Wa(e),this.segPopover.show()},renderSegPopoverContent:function(b,c){var d,e=this.view,f=e.opt("theme"),g=b.start.format(e.opt("dayPopoverFormat")),h=a('<div class="fc-header '+e.widgetHeaderClass+'"><span class="fc-close '+(f?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+L(g)+'</span><div class="fc-clear"/></div><div class="fc-body '+e.widgetContentClass+'"><div class="fc-event-container"></div></div>'),i=h.find(".fc-event-container");for(c=this.renderFgSegEls(c,!0),this.popoverSegs=c,d=0;d<c.length;d++)c[d].cell=b,i.append(c[d].el);return h},resliceDaySegs:function(b,c){var d=a.map(b,function(a){return a.event}),e=c.clone().stripTime(),f=e.clone().add(1,"days"),g={start:e,end:f};return this.eventsToSegs(d,function(a){var b=x(a,g);return b?[b]:[]})},getMoreLinkText:function(a){var b=this.view.opt("eventLimitText");return"function"==typeof b?b(a):"+"+a+" "+b},getCellSegs:function(a,b){for(var c,d=this.rowStructs[a.row].segMatrix,e=b||0,f=[];e<d.length;)c=d[e][a.col],c&&f.push(c),e++;return f}});var cb=ab.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){ab.apply(this,arguments),this.processOptions()},render:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr"),this.computeSlatTops(),this.renderBusinessHours(),ab.prototype.render.call(this)},renderBusinessHours:function(){var a=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(a),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(a){return this.bgCellHtml(a)},slatRowHtml:function(){for(var a,c,d,e=this.view,f=this.isRTL,g="",h=this.slotDuration.asMinutes()%15===0,i=b.duration(+this.minTime);i<this.maxTime;)a=this.start.clone().time(i),
c=a.minutes(),d='<td class="fc-axis fc-time '+e.widgetContentClass+'" '+e.axisStyleAttr()+">"+(h&&c?"":"<span>"+L(a.format(this.axisFormat))+"</span>")+"</td>",g+="<tr "+(c?'class="fc-minor"':"")+">"+(f?"":d)+'<td class="'+e.widgetContentClass+'"/>'+(f?d:"")+"</tr>",i.add(this.slotDuration);return g},processOptions:function(){var a=this.view,c=a.opt("slotDuration"),d=a.opt("snapDuration");c=b.duration(c),d=d?b.duration(d):c,this.slotDuration=c,this.snapDuration=d,this.minTime=b.duration(a.opt("minTime")),this.maxTime=b.duration(a.opt("maxTime")),this.axisFormat=a.opt("axisFormat")||a.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var a,b=this.view,c=[];for(a=this.start.clone();a.isBefore(this.end);)c.push({day:a.clone()}),a.add(1,"day"),a=b.skipHiddenDays(a);this.isRTL&&c.reverse(),this.colData=c,this.colCnt=c.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellRange:function(a){var b=this.computeSnapTime(a.row),c=this.view.calendar.rezoneDate(a.day).time(b),d=c.clone().add(this.snapDuration);return{start:c,end:d}},getColEl:function(a){return this.dayEls.eq(a)},computeSnapTime:function(a){return b.duration(this.minTime+this.snapDuration*a)},rangeToSegs:function(a){var b,c,d,e,f=this.colCnt,g=[];for(a={start:a.start.clone().stripZone(),end:a.end.clone().stripZone()},c=0;f>c;c++)d=this.colData[c].day,e={start:d.clone().time(this.minTime),end:d.clone().time(this.maxTime)},b=x(a,e),b&&(b.col=c,g.push(b));return g},resize:function(){this.computeSlatTops(),this.updateSegVerticals()},computeRowCoords:function(){var a,b,c=this.el.offset().top,d=[];for(a=0;a<this.rowCnt;a++)b={top:c+this.computeTimeTop(this.computeSnapTime(a))},a>0&&(d[a-1].bottom=b.top),d.push(b);return b.bottom=b.top+this.computeTimeTop(this.computeSnapTime(a)),d},computeDateTop:function(a,c){return this.computeTimeTop(b.duration(a.clone().stripZone()-c.clone().stripTime()))},computeTimeTop:function(a){var b,c,d,e,f=(a-this.minTime)/this.slotDuration;return f=Math.max(0,f),f=Math.min(this.slatEls.length,f),b=Math.floor(f),c=f-b,d=this.slatTops[b],c?(e=this.slatTops[b+1],d+(e-d)*c):d},computeSlatTops:function(){var b,c=[];this.slatEls.each(function(d,e){b=a(e).position().top,c.push(b)}),c.push(b+this.slatEls.last().outerHeight()),this.slatTops=c},renderDrag:function(a,b){var c;return b?(this.renderRangeHelper(a,b),c=this.view.opt("dragOpacity"),void 0!==c&&this.helperEl.css("opacity",c),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(a))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(a,b){this.renderRangeHelper(a,b)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(b,c){var d,e,f,g,h=this.eventsToSegs([b]);for(h=this.renderFgSegEls(h),d=this.renderSegTable(h),e=0;e<h.length;e++)f=h[e],c&&c.col===f.col&&(g=c.el,f.el.css({left:g.css("left"),right:g.css("right"),"margin-left":g.css("margin-left"),"margin-right":g.css("margin-right")}));this.helperEl=a('<div class="fc-helper-skeleton"/>').append(d).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(a){this.view.opt("selectHelper")?this.renderRangeHelper(a):this.renderHighlight(a)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(b,c,d){var e,f,g,h,i,j,k,l,m,n;if(c.length){for(c=this.renderFillSegEls(b,c),e=this.groupSegCols(c),d=d||b.toLowerCase(),f=a('<div class="fc-'+d+'-skeleton"><table><tr/></table></div>'),g=f.find("tr"),h=0;h<e.length;h++)if(i=e[h],j=a("<td/>").appendTo(g),i.length)for(k=a('<div class="fc-'+d+'-container"/>').appendTo(j),l=this.colData[h].day,m=0;m<i.length;m++)n=i[m],k.append(n.el.css({top:this.computeDateTop(n.start,l),bottom:-this.computeDateTop(n.end,l)}));this.bookendCells(g,b),this.el.append(f),this.elsByFill[b]=f}return c}});cb.mixin({eventSkeletonEl:null,renderFgSegs:function(b){return b=this.renderFgSegEls(b),this.el.append(this.eventSkeletonEl=a('<div class="fc-content-skeleton"/>').append(this.renderSegTable(b))),b},destroyFgSegs:function(a){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(b){var c,d,e,f,g,h,i=a("<table><tr/></table>"),j=i.find("tr");for(c=this.groupSegCols(b),this.computeSegVerticals(b),f=0;f<c.length;f++){for(g=c[f],na(g),h=a('<div class="fc-event-container"/>'),d=0;d<g.length;d++)e=g[d],e.el.css(this.generateSegPositionCss(e)),e.bottom-e.top<30&&e.el.addClass("fc-short"),h.append(e.el);j.append(a("<td/>").append(h))}return this.bookendCells(j,"eventSkeleton"),i},updateSegVerticals:function(){var a,b=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(b),a=0;a<b.length;a++)b[a].el.css(this.generateSegVerticalCss(b[a]))},computeSegVerticals:function(a){var b,c;for(b=0;b<a.length;b++)c=a[b],c.top=this.computeDateTop(c.start,c.start),c.bottom=this.computeDateTop(c.end,c.start)},fgSegHtml:function(a,b){var c,d,e,f=this.view,g=a.event,h=f.isEventDraggable(g),i=!b&&a.isEnd&&f.isEventResizable(g),j=this.getSegClasses(a,h,i),k=this.getEventSkinCss(g);return j.unshift("fc-time-grid-event"),f.isMultiDayEvent(g)?(a.isStart||a.isEnd)&&(c=this.getEventTimeText(a),d=this.getEventTimeText(a,"LT"),e=this.getEventTimeText({start:a.start})):(c=this.getEventTimeText(g),d=this.getEventTimeText(g,"LT"),e=this.getEventTimeText({start:g.start})),'<a class="'+j.join(" ")+'"'+(g.url?' href="'+L(g.url)+'"':"")+(k?' style="'+k+'"':"")+'><div class="fc-content">'+(c?'<div class="fc-time" data-start="'+L(e)+'" data-full="'+L(d)+'"><span>'+L(c)+"</span></div>":"")+(g.title?'<div class="fc-title">'+L(g.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(i?'<div class="fc-resizer"/>':"")+"</a>"},generateSegPositionCss:function(a){var b,c,d=this.view.opt("slotEventOverlap"),e=a.backwardCoord,f=a.forwardCoord,g=this.generateSegVerticalCss(a);return d&&(f=Math.min(1,e+2*(f-e))),this.isRTL?(b=1-f,c=e):(b=e,c=1-f),g.zIndex=a.level+1,g.left=100*b+"%",g.right=100*c+"%",d&&a.forwardPressure&&(g[this.isRTL?"marginLeft":"marginRight"]=20),g},generateSegVerticalCss:function(a){return{top:a.top,bottom:-a.bottom}},groupSegCols:function(a){var b,c=[];for(b=0;b<this.colCnt;b++)c.push([]);for(b=0;b<a.length;b++)c[a[b].col].push(a[b]);return c}});var db=Ca.View=ca.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(c,d,e){this.calendar=c,this.options=d,this.type=this.name=e,this.nextDayThreshold=b.duration(this.opt("nextDayThreshold")),this.initTheming(),this.initHiddenDays(),this.documentMousedownProxy=a.proxy(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(b){var c;return c=this.options[b],void 0!==c?c:(c=this.calendar.options[b],a.isPlainObject(c)&&!e(b)?y(c,this.type):c)},trigger:function(a,b){var c=this.calendar;return c.trigger.apply(c,[a,b||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(a){this.setRange(this.computeRange(a))},setRange:function(b){a.extend(this,b),this.updateTitle()},computeRange:function(a){var c,d,e=b.duration(this.opt("duration")||this.constructor.duration||{days:1}),f=B(e),g=a.clone().startOf(f),h=g.clone().add(e);return/year|month|week|day/.test(f)?(g.stripTime(),h.stripTime()):(g.hasTime()||(g=this.calendar.rezoneDate(g)),h.hasTime()||(h=this.calendar.rezoneDate(h))),c=g.clone(),c=this.skipHiddenDays(c),d=h.clone(),d=this.skipHiddenDays(d,-1,!0),{intervalDuration:e,intervalUnit:f,intervalStart:g,intervalEnd:h,start:c,end:d}},computePrevDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(a){return this.massageCurrentDate(a.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(a,c){return this.intervalDuration<=b.duration({days:1})&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,c),a.startOf("day")),a},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(a,b,c){var d=a.end;return d.hasTime()||(d=d.clone().subtract(1)),Z(a.start,d,b,c,this.opt("isRTL"))},renderView:function(){this.render(),this.updateSize(),this.initializeScroll(),this.trigger("viewRender",this,this,this.el),a(document).on(m(),this.documentMousedownProxy)},render:function(){},destroyView:function(){this.unselect(),this.destroyViewEvents(),this.destroy(),this.trigger("viewDestroy",this,this,this.el),a(document).off(m(),this.documentMousedownProxy)},destroy:function(){this.el.empty()},initTheming:function(){var a=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=a+"-widget-header",this.widgetContentClass=a+"-widget-content",this.highlightStateClass=a+"-state-highlight"},updateSize:function(a){a&&this.recordScroll(),this.updateHeight(),this.updateWidth()},updateWidth:function(){},updateHeight:function(){var a=this.calendar;this.setHeight(a.getSuggestedViewHeight(),a.isHeightAuto())},setHeight:function(a,b){},computeScrollerHeight:function(a,b){var c,d;return b=b||this.scrollerEl,c=this.el.add(b),c.css({position:"relative",left:-1}),d=this.el.outerHeight()-b.height(),c.css({position:"",left:""}),a-d},initializeScroll:function(){},recordScroll:function(){this.scrollerEl&&(this.scrollTop=this.scrollerEl.scrollTop())},restoreScroll:function(){null!==this.scrollTop&&this.scrollerEl.scrollTop(this.scrollTop)},renderViewEvents:function(a){this.renderEvents(a),this.eventSegEach(function(a){this.trigger("eventAfterRender",a.event,a.event,a.el)}),this.trigger("eventAfterAllRender")},renderEvents:function(){},destroyViewEvents:function(){this.eventSegEach(function(a){this.trigger("eventDestroy",a.event,a.event,a.el)}),this.destroyEvents()},destroyEvents:function(){},resolveEventEl:function(b,c){var d=this.trigger("eventRender",b,b,c);return d===!1?c=null:d&&d!==!0&&(c=a(d)),c},showEvent:function(a){this.eventSegEach(function(a){a.el.css("visibility","")},a)},hideEvent:function(a){this.eventSegEach(function(a){a.el.css("visibility","hidden")},a)},eventSegEach:function(a,b){var c,d=this.getEventSegs();for(c=0;c<d.length;c++)b&&d[c].event._id!==b._id||a.call(this,d[c])},getEventSegs:function(){return[]},isEventDraggable:function(a){var b=a.source||{};return K(a.startEditable,b.startEditable,this.opt("eventStartEditable"),a.editable,b.editable,this.opt("editable"))},reportEventDrop:function(a,b,c,d){var e=this.calendar,f=e.mutateEvent(a,b),g=function(){f.undo(),e.reportEventChange()};this.triggerEventDrop(a,f.dateDelta,g,c,d),e.reportEventChange()},triggerEventDrop:function(a,b,c,d,e){this.trigger("eventDrop",d[0],a,b,c,e,{})},reportExternalDrop:function(b,c,d,e,f){var g,h,i=b.eventProps;i&&(g=a.extend({},i,c),h=this.calendar.renderEvent(g,b.stick)[0]),this.triggerExternalDrop(h,c,d,e,f)},triggerExternalDrop:function(a,b,c,d,e){this.trigger("drop",c[0],b.start,d,e),a&&this.trigger("eventReceive",null,a)},renderDrag:function(a,b){},destroyDrag:function(){},isEventResizable:function(a){var b=a.source||{};return K(a.durationEditable,b.durationEditable,this.opt("eventDurationEditable"),a.editable,b.editable,this.opt("editable"))},reportEventResize:function(a,b,c,d){var e=this.calendar,f=e.mutateEvent(a,{end:b}),g=function(){f.undo(),e.reportEventChange()};this.triggerEventResize(a,f.durationDelta,g,c,d),e.reportEventChange()},triggerEventResize:function(a,b,c,d,e){this.trigger("eventResize",d[0],a,b,c,e,{})},select:function(a,b){this.unselect(b),this.renderSelection(a),this.reportSelection(a,b)},renderSelection:function(a){},reportSelection:function(a,b){this.isSelected=!0,this.trigger("select",null,a.start,a.end,b)},unselect:function(a){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,a))},destroySelection:function(){},documentMousedown:function(b){var c;this.isSelected&&this.opt("unselectAuto")&&w(b)&&(c=this.opt("unselectCancel"),c&&a(b.target).closest(c).length||this.unselect(b))},initHiddenDays:function(){var b,c=this.opt("hiddenDays")||[],d=[],e=0;for(this.opt("weekends")===!1&&c.push(0,6),b=0;7>b;b++)(d[b]=-1!==a.inArray(b,c))||e++;if(!e)throw"invalid hiddenDays";this.isHiddenDayHash=d},isHiddenDay:function(a){return b.isMoment(a)&&(a=a.day()),this.isHiddenDayHash[a]},skipHiddenDays:function(a,b,c){var d=a.clone();for(b=b||1;this.isHiddenDayHash[(d.day()+(c?b:0)+7)%7];)d.add(b,"days");return d},computeDayRange:function(a){var b,c=a.start.clone().stripTime(),d=a.end,e=null;return d&&(e=d.clone().stripTime(),b=+d.time(),b&&b>=this.nextDayThreshold&&e.add(1,"days")),(!d||c>=e)&&(e=c.clone().add(1,"days")),{start:c,end:e}},isMultiDayEvent:function(a){var b=this.computeDayRange(a);return b.end.diff(b.start,"days")>1}});Ca.sourceNormalizers=[],Ca.sourceFetchers=[];var eb={dataType:"json",cache:!1},fb=1,gb=Da.basic=db.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new bb(this),this.coordMap=this.dayGrid.coordMap},setRange:function(a){db.prototype.setRange.call(this,a),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(a)},computeRange:function(a){var b=db.prototype.computeRange.call(this,a);return/year|month/.test(b.intervalUnit)&&(b.start.startOf("week"),b.start=this.skipHiddenDays(b.start),b.end.weekday()&&(b.end.add(1,"week").startOf("week"),b.end=this.skipHiddenDays(b.end,-1,!0))),b},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows())},destroy:function(){this.dayGrid.destroy(),db.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+L(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(a){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.calendar.calculateWeekNumber(this.dayGrid.getCell(a,0).start)+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(a){var b,c=a.start;return this.dayNumbersVisible?(b=this.dayGrid.getDayClasses(c),b.unshift("fc-day-number"),'<td class="'+b.join(" ")+'" data-date="'+c.format()+'">'+c.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a&&"number"!=typeof a},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=r(this.el.find(".fc-week-number")))},setHeight:function(a,b){var c,d=this.opt("eventLimit");t(this.scrollerEl),h(this.headRowEl),this.dayGrid.destroySegPopover(),d&&"number"==typeof d&&this.dayGrid.limitRows(d),c=this.computeScrollerHeight(a),this.setGridHeight(c,b),d&&"number"!=typeof d&&this.dayGrid.limitRows(d),!b&&s(this.scrollerEl,c)&&(g(this.headRowEl,v(this.scrollerEl)),c=this.computeScrollerHeight(a),this.scrollerEl.height(c),this.restoreScroll())},setGridHeight:function(a,b){b?q(this.dayGrid.rowEls):p(this.dayGrid.rowEls,a,!0)},renderEvents:function(a){this.dayGrid.renderEvents(a),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(a,b){return this.dayGrid.renderDrag(a,b)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(a){this.dayGrid.renderSelection(a)},destroySelection:function(){this.dayGrid.destroySelection()}});c({fixedWeekCount:!0});var hb=Da.month=gb.extend({computeRange:function(a){var b,c=gb.prototype.computeRange.call(this,a);return this.isFixedWeeks()&&(b=Math.ceil(c.end.diff(c.start,"weeks",!0)),c.end.add(6-b,"weeks")),c},setGridHeight:function(a,b){b=b||"variable"===this.opt("weekMode"),b&&(a*=this.rowCnt/6),p(this.dayGrid.rowEls,a,!b)},isFixedWeeks:function(){var a=this.opt("weekMode");return a?"fixed"===a:this.opt("fixedWeekCount")}});hb.duration={months:1},Da.basicWeek={type:"basic",duration:{weeks:1}},Da.basicDay={type:"basic",duration:{days:1}},c({allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0});var ib=5;Da.agenda=db.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new cb(this),this.opt("allDaySlot")?(this.dayGrid=new bb(this),this.coordMap=new Ya([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(a){db.prototype.setRange.call(this,a),this.timeGrid.setRange(a),this.dayGrid&&this.dayGrid.setRange(a)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.el=this.el.find(".fc-time-grid"),this.timeGrid.render(),this.bottomRuleEl=a('<hr class="'+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroy(),this.dayGrid&&this.dayGrid.destroy(),db.prototype.destroy.call(this)},renderHtml:function(){return'<table><thead><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="'+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var a,b,c,d;return this.opt("weekNumbers")?(a=this.timeGrid.getCell(0).start,b=this.calendar.calculateWeekNumber(a),c=this.opt("weekNumberTitle"),d=this.opt("isRTL")?b+c:c+b,'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+L(d)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||L(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(a){a&&this.timeGrid.resize(),db.prototype.updateSize.call(this,a)},updateWidth:function(){this.axisWidth=r(this.el.find(".fc-axis"))},setHeight:function(a,b){var c,d;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),t(this.scrollerEl),h(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),c=this.opt("eventLimit"),c&&"number"!=typeof c&&(c=ib),c&&this.dayGrid.limitRows(c)),b||(d=this.computeScrollerHeight(a),s(this.scrollerEl,d)?(g(this.noScrollRowEls,v(this.scrollerEl)),d=this.computeScrollerHeight(a),this.scrollerEl.height(d),this.restoreScroll()):(this.scrollerEl.height(d).css("overflow","hidden"),this.bottomRuleEl.show()))},initializeScroll:function(){function a(){c.scrollerEl.scrollTop(e)}var c=this,d=b.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(d);e=Math.ceil(e),e&&e++,a(),setTimeout(a,0)},renderEvents:function(a){var b,c,d=[],e=[],f=[];for(c=0;c<a.length;c++)a[c].allDay?d.push(a[c]):e.push(a[c]);b=this.timeGrid.renderEvents(e),this.dayGrid&&(f=this.dayGrid.renderEvents(d)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.recordScroll(),this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(a,b){return a.start.hasTime()?this.timeGrid.renderDrag(a,b):this.dayGrid?this.dayGrid.renderDrag(a,b):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(a){a.start.hasTime()||a.end.hasTime()?this.timeGrid.renderSelection(a):this.dayGrid&&this.dayGrid.renderSelection(a)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}}),Da.agendaWeek={type:"agenda",duration:{weeks:1}},Da.agendaDay={type:"agenda",duration:{days:1}};var jb=Da.list=db.extend({dayGrid:null,weekNumberWidth:null,headRowEl:null,defultEventLimit:5,viewDateOnLeft:!1,initialize:function(){this.dayGrid=new bb(this),this.coordMap=this.dayGrid.coordMap},setRange:function(a){db.prototype.setRange.call(this,a),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(a)},render:function(){this.dayGrid.colCnt=1,this.dayGrid.rowCnt=this.dayGrid.cellDates.length,this.dayGrid.numbersVisible=!0,this.opt("viewDateOnLeft")?(this.viewDateOnLeft=this.opt("viewDateOnLeft"),this.el.removeClass("fc-display-date-above")):this.el.addClass("fc-display-date-above"),this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.el=this.el.find(".fc-day-grid"),this.dayGrid.render(this.hasRigidRows()),db.prototype.render.call(this)},destroy:function(){this.dayGrid.destroy(),db.prototype.destroy.call(this)},renderHtml:function(){return'<table><tbody><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.viewDateOnLeft===!0?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span></span></th>":""},numberIntroHtml:function(a){return this.viewDateOnLeft===!0?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(a,0).start.format("ddd MMM D, YYYY")+"</span></td>":""},dayIntroHtml:function(){return this.viewDateOnLeft===!0?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":""},introHtml:function(){return this.viewDateOnLeft===!0?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":""},numberCellHtml:function(a){if(this.viewDateOnLeft===!0)return"<td/>";var b,c=a.start;return b=this.dayGrid.getDayClasses(c),b.unshift("fc-day-number"),'<td class="'+b.join(" ")+'" data-date="'+c.format()+'"><span class="fc-list-header-left">'+c.format("dddd")+'</span><span class="fc-list-header-right">'+c.format("MMM D")+"</span></td>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var a=this.opt("eventLimit");return a===!0&&(a=this.defultEventLimit),a&&"number"!=typeof a},updateWidth:function(){this.weekNumberWidth=r(this.el.find(".fc-week-number"))},setHeight:function(a,b){var c=this.opt("eventLimit");c===!0&&(c=this.defultEventLimit);var d;t(this.scrollerEl),h(this.headRowEl),this.dayGrid.destroySegPopover(),c&&"number"==typeof c&&this.dayGrid.limitRows(c),d=this.computeScrollerHeight(a),this.setGridHeight(d,b),c&&"number"!=typeof c&&this.dayGrid.limitRows(c),!b&&s(this.scrollerEl,d)&&(g(this.headRowEl,v(this.scrollerEl)),d=this.computeScrollerHeight(a),this.scrollerEl.height(d),this.restoreScroll())},setGridHeight:function(a,b){b?q(this.dayGrid.rowEls):p(this.dayGrid.rowEls,a,!0)},renderEvents:function(a){this.dayGrid.renderEvents(a),this.updateHeight(),db.prototype.renderEvents.call(this,a)},getSegs:function(){return this.dayGrid.getSegs()},destroyEvents:function(){db.prototype.destroyEvents.call(this),this.recordScroll(),this.dayGrid.destroyEvents()},renderDrag:function(a,b,c){return this.dayGrid.renderDrag(a,b,c)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(a,b){this.dayGrid.renderSelection(a,b)},destroySelection:function(){this.dayGrid.destroySelection()}});jb.duration={months:1},Da.listMonth={type:"list",duration:{months:1}},Da.listWeek={type:"list",duration:{weeks:1}},Da.listDay={type:"list",duration:{days:1}}});