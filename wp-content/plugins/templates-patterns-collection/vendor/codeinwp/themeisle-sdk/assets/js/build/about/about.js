(()=>{"use strict";const e=window.React,t=window.wp.element;function a({pages:t=[],selected:a=""}){const{currentProduct:n,logoUrl:l,strings:s,links:c,showReviewLink:i}=window.tiSDKAboutData,r=(e="")=>e===a?"active":"",o=`https://wordpress.org/support/${["neve","hestia"].indexOf(n.slug)>-1?"theme":"plugin"}/${n.slug?.replaceAll("_","-")}/reviews/#new-post`;return(0,e.createElement)("div",null,(0,e.createElement)("div",{className:"head"},(0,e.createElement)("div",{className:"container"},(0,e.createElement)("img",{src:l,alt:n.name}),(0,e.createElement)("p",null,"by ",(0,e.createElement)("a",{href:"https://themeisle.com"},"Themeisle")),Boolean(i)&&(0,e.createElement)("p",{className:"review-link"},"Enjoying ",n.name,"? ",(0,e.createElement)("a",{href:o,target:"_blank"},"Give us a rating!")))),(c.length>0||t.length>0)&&(0,e.createElement)("div",{className:"container"},(0,e.createElement)("ul",{className:"nav"},(0,e.createElement)("li",{className:r()},(0,e.createElement)("a",{href:window.location},s.aboutUs)),t.map(((t,a)=>(0,e.createElement)("li",{className:r(t.hash),key:a},(0,e.createElement)("a",{href:t.hash},t.name)))),c.map(((t,a)=>(0,e.createElement)("li",{key:a},(0,e.createElement)("a",{href:t.url},t.text)))))))}const n=window.wp.components;function l(){const{strings:a,teamImage:l,homeUrl:s,pageSlug:c}=window.tiSDKAboutData,{heroHeader:i,heroTextFirst:r,heroTextSecond:o,teamImageCaption:m,newsHeading:d,emailPlaceholder:u,signMeUp:E}=a,[p,h]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[N,w]=(0,t.useState)(!1);return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"story-card"},(0,e.createElement)("div",{className:"body"},(0,e.createElement)("div",null,(0,e.createElement)("h2",null,i),(0,e.createElement)("p",null,r),(0,e.createElement)("p",null,o)),(0,e.createElement)("figure",null,(0,e.createElement)("img",{src:l,alt:m}),(0,e.createElement)("figcaption",null,m))),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("h2",null,d),(0,e.createElement)("form",{onSubmit:e=>{e.preventDefault(),v(!0),fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, */*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"about-us",site:s,from:c,email:p})}).then((e=>e.json())).then((e=>{v(!1),"success"===e.code&&w(!0)}))?.catch((e=>{v(!1)}))}},(0,e.createElement)("input",{disabled:g||N,type:"email",value:p,onChange:e=>{h(e.target.value)},placeholder:u}),!g&&!N&&(0,e.createElement)(n.Button,{isPrimary:!0,type:"submit"},E),g&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N&&(0,e.createElement)("span",{className:"dashicons dashicons-yes-alt"})))))}const s=(e,t=!1)=>new Promise((a=>{wp.updates.ajax(!0===t?"install-theme":"install-plugin",{slug:e,success:e=>{a({success:!0,data:e})},error:e=>{a({success:!1,code:e.errorCode})}})}));function c({product:a,slug:l}){const{icon:c,name:i,description:r,status:o,premiumUrl:m,activationLink:d}=a,{strings:u,canInstallPlugins:E,canActivatePlugins:p}=window.tiSDKAboutData,{installNow:h,installed:g,notInstalled:v,active:N,activate:w,learnMore:b}=u,f=!!m,[y,k]=(0,t.useState)(o),[S,_]=(0,t.useState)(!1),T=async()=>{_(!0),await s(l,"neve"===l).then((e=>{e.success&&k("installed")})),_(!1)},D=async()=>{_(!0),window.location.href=d},x=()=>"not-installed"===y&&f?(0,e.createElement)(n.Button,{isLink:!0,icon:"external",href:m,target:"_blank"},b):"not-installed"!==y||f?"installed"===y?(0,e.createElement)(n.Button,{isSecondary:!0,onClick:D,disabled:S||!p},w):null:(0,e.createElement)(n.Button,{isPrimary:!0,onClick:T,disabled:S||!E},h),C=!E&&"not-installed"===y||!p&&"installed"===y?(0,e.createElement)(n.Tooltip,{text:`Ask your admin to enable ${i} on your site`,position:"top center"},x()):x();return(0,e.createElement)("div",{className:"product-card"},(0,e.createElement)("div",{className:"header"},c&&(0,e.createElement)("img",{src:c,alt:i}),(0,e.createElement)("h2",null,i)),(0,e.createElement)("div",{className:"body"},(0,e.createElement)("p",{dangerouslySetInnerHTML:{__html:r}})),(0,e.createElement)("div",{className:"footer"},(0,e.createElement)("p",null,"Status:"," ",(0,e.createElement)("span",{className:y},"installed"===y&&g,"not-installed"===y&&v,"active"===y&&N)),"active"!==y&&!S&&C,S&&(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})))}function i(){const{products:t}=window.tiSDKAboutData;return(0,e.createElement)("div",{className:"container"},(0,e.createElement)("div",{className:"product-cards"},Object.keys(t).map(((a,n)=>(0,e.createElement)(c,{key:a,slug:a,product:t[a]})))))}const r={"otter-page":function({page:a={}}){const{products:l,canInstallPlugins:c,canActivatePlugins:i}=window.tiSDKAboutData,{strings:r,plugin:o}=a,m=a&&a.product?a.product:"",d=m&&l[m]&&l[m].icon?l[m].icon:null,[u,E]=(0,t.useState)(r.testimonials.users[0]),[p,h]=(0,t.useState)(o.status),[g,v]=(0,t.useState)(!1),N="In Progress",w=async()=>{v(!0),await s(m,!1).then((e=>{e.success&&(h("installed"),b())}))},b=async()=>{v(!0),window.location.href=o.activationLink},f=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?w:b},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"})," ",N):r.buttons.install_otter_free),y=(0,e.createElement)(n.Button,{variant:"primary",disabled:g||("not-installed"===p?!c:!i),className:"otter-button"+(g?" is-loading":""),onClick:"not-installed"===p?w:b},g?(0,e.createElement)("span",null,(0,e.createElement)("span",{className:"dashicons dashicons-update spin"}),N):r.buttons.install_now),k=!c&&"not-installed"===p||!i&&"installed"===p||!1,S=t=>k?(0,e.createElement)(n.Tooltip,{text:"Ask your admin to enable Otter on your site",position:"top center"},t):t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"hero"},d&&(0,e.createElement)("img",{className:"logo",src:d,alt:a.name||""}),(0,e.createElement)("span",{className:"label"},"Neve + Otter = New Possibilities ðŸ¤"),(0,e.createElement)("h1",null,r.heading),(0,e.createElement)("p",null,r.text),("not-installed"===p||"installed"===p)&&S(f)),(0,e.createElement)("div",{className:"col-3-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.advancedTitle),(0,e.createElement)("p",null,r.features.advancedDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.fastTitle),(0,e.createElement)("p",null,r.features.fastDesc)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h3",null,r.features.mobileTitle),(0,e.createElement)("p",null,r.features.mobileDesc))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s1Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s1Title),(0,e.createElement)("p",null,r.details.s1Text))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s2Title),(0,e.createElement)("p",null,r.details.s2Text)),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s2Image,alt:r.details.s1Title}))),(0,e.createElement)("div",{className:"col-2-highlights"},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("img",{src:r.details.s3Image,alt:r.details.s1Title})),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.details.s3Title),(0,e.createElement)("p",null,r.details.s3Text))),(0,e.createElement)("div",{className:"col-2-highlights",style:{backgroundColor:"#F7F7F7",borderBottom:"none",borderBottomRightRadius:"8px",borderBottomLeftRadius:"8px"}},(0,e.createElement)("div",{className:"col"},(0,e.createElement)("h2",null,r.testimonials.heading),(0,e.createElement)("div",{className:"button-row"},("not-installed"===p||"installed"===p)&&S(y),(0,e.createElement)("a",{className:"components-button otter-button is-secondary",href:r.buttons.learn_more_link,target:"_blank",rel:"external noreferrer noopener"},r.buttons.learn_more))),(0,e.createElement)("div",{className:"col"},(0,e.createElement)("div",{className:"testimonials"},(0,e.createElement)("ul",{id:"testimonial-container",className:"testimonial-container"},r.testimonials.users.map(((t,a)=>(0,e.createElement)("li",{className:"testimonial",id:"ts_"+a,key:"ts_"+a},(0,e.createElement)("p",null,'"',t.text,'"'),(0,e.createElement)("img",{src:t.avatar,alt:t.name}),(0,e.createElement)("h3",null,t.name))))),(0,e.createElement)("div",{className:"testimonial-nav"},r.testimonials.users.map(((t,a)=>(0,e.createElement)(n.Button,{className:"testimonial-button"+(t.name===u.name?" active":""),key:"button_"+a,onClick:()=>(e=>{const t=r.testimonials.users[e];document.getElementById("ts_"+e).scrollIntoView({behavior:"smooth"}),E(t)})(a)}))))))))}};function o(t){const a=r[t.id];return(0,e.createElement)(a,{page:t.page})}function m({page:t={}}){return(0,e.createElement)("div",{className:"product-page"+(t&&t.product?" "+t.product:"")},(0,e.createElement)(o,{id:t.id,page:t}))}const d=()=>{let e=window.location.hash;return"string"!=typeof window.location.hash?null:e};function u(){const{productPages:n}=window.tiSDKAboutData,s=n?Object.keys(n).map((e=>{const t=n[e];return t.id=e,t})):[],[c,r]=(0,t.useState)(d()),o=()=>{const e=d();null!==e&&r(e)};(0,t.useEffect)((()=>(o(),window.addEventListener("hashchange",o),window.tsdk_reposition_notice&&window.tsdk_reposition_notice(),()=>{window.removeEventListener("hashchange",o)})),[]);const u=s.filter((e=>e.hash===c));return u.length>0?(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s,selected:c}),(0,e.createElement)(m,{page:u[0]})):(0,e.createElement)("div",{className:"ti-about"},(0,e.createElement)(a,{pages:s}),(0,e.createElement)("div",{id:"tsdk_banner"}),(0,e.createElement)(l,null),(0,e.createElement)(i,null))}document.addEventListener("DOMContentLoaded",(()=>{const a=document.querySelector("#ti-sdk-about");a&&(0,t.render)((0,e.createElement)(u,null),a)}))})();