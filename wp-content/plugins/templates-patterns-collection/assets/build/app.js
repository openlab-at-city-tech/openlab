(()=>{var e,t={791:(e,t,n)=>{"use strict";var a=n(609);const{onboarding:r,themeAction:o,licenseTIOB:l}=tiobDash,s=void 0!==r.sites&&void 0!==r.sites.sites?Object.keys(r.sites.sites)[0]:"gutenberg",i=localStorage.getItem("neve-onboarding-editor")||s,c=l||{key:"free",valid:"invalid",expiration:"",tier:0},m={sites:r.sites||{},editor:i,category:"all",previewStatus:!1,importModalStatus:!1,installModalStatus:!1,currentSite:null,importing:!1,isOnboarding:r.onboarding||!1,migrationData:null,themeAction:o,currentTab:tiobDash.hideStarterSites?tiobDash.hideMyLibrary?"settings":"library":"starterSites",fetching:!1,singleTemplateImport:null,templateModal:null,searchQuery:"",license:c},u={refreshSites:e=>({type:"REFRESH_SITES",payload:{sites:e}}),setCurrentEditor:e=>({type:"SET_CURRENT_EDITOR",payload:{editor:e}}),setCurrentCategory:e=>({type:"SET_CURRENT_CATEGORY",payload:{category:e}}),setCurrentSite:e=>({type:"SET_FOCUSED_SITE",payload:{siteData:e}}),setPreviewStatus:e=>(e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_PREVIEW_STATUS",payload:{previewStatus:e}}),setImportModalStatus:e=>(e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_IMPORT_MODAL_STATUS",payload:{importModalStatus:e}}),setInstallModalStatus:e=>(e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_INSTALL_MODAL_STATUS",payload:{installModalStatus:e}}),setOnboardingState:e=>({type:"SET_ONBOARDING",payload:{state:e}}),setThemeAction:e=>({type:"SET_THEME_ACTIONS",payload:{themeActions:e}}),setCurrentTab:e=>({type:"SET_CURRENT_TAB",payload:{currentTab:e}}),setFetching:e=>({type:"SET_FETCHING",payload:{fetching:e}}),setSingleTemplateImport:e=>({type:"SET_SINGLE_TEMPLATE_IMPORT",payload:{slug:e}}),setTemplateModal:e=>({type:"SET_TEMPLATE_MODAL",payload:{data:e}}),setSearchQuery:e=>({type:"SET_SEARCH_QUERY",payload:{query:e}}),setLicense:e=>({type:"SET_LICENSE",payload:{license:e}})},p=window.wp.data;var d=n(485),h=n.n(d);const g=window.wp.element,f=window.wp.compose,v=window.wp.components,y=window.wp.i18n,b=!1,E=[(0,y.__)("Business","templates-patterns-collection"),(0,y.__)("Ecommerce","templates-patterns-collection"),(0,y.__)("Fashion","templates-patterns-collection"),(0,y.__)("Blogging","templates-patterns-collection"),(0,y.__)("Photography","templates-patterns-collection")],_={all:(0,y.__)("All Categories","templates-patterns-collection"),free:(0,y.__)("Free","templates-patterns-collection"),business:(0,y.__)("Business","templates-patterns-collection"),portfolio:(0,y.__)("Portfolio","templates-patterns-collection"),woocommerce:(0,y.__)("WooCommerce","templates-patterns-collection"),blog:(0,y.__)("Blog","templates-patterns-collection"),personal:(0,y.__)("Personal","templates-patterns-collection"),other:(0,y.__)("Other","templates-patterns-collection")},w={gutenberg:{icon:"gutenberg.jpg",niceName:"Gutenberg"},elementor:{icon:"elementor.jpg",niceName:"Elementor"}},S=((0,a.createElement)(a.Fragment,null,"Beaver ",(0,a.createElement)("span",{className:"long-name"},"Builder")),(0,a.createElement)(a.Fragment,null,"Thrive ",(0,a.createElement)("span",{className:"long-name"},"Architect")),(e,t,n=!1)=>C(e,n,t)),k=(e,t=!1,n=!0)=>C(e,t,{},"GET",n),C=async(e,t=!1,n={},a="POST",r=!0)=>{const o={method:a,headers:{Accept:"application/json","Content-Type":"application/json"}};if(tiobDash.params.site_url){const t=new URL(e);t.searchParams.append("site_url",encodeURIComponent(tiobDash.params.site_url)),e=t}return r&&(o.headers["x-wp-nonce"]=tiobDash.nonce),"POST"===a&&(o.body=JSON.stringify(n)),await fetch(e,o).then((e=>t?e:e.json()))},N=async(e,t="",n="",a={})=>{const r=new FormData;if(r.append("nonce",n),r.append("action",t),Object.keys(a).length>0)for(const[e,t]of Object.entries(a))r.append(e,t);const o={method:"POST",headers:{Accept:"application/json"},body:r};return await fetch(e,o).then((()=>!0))},{onboarding:T}=((0,f.compose)((0,p.withSelect)((e=>{const{getSingleImport:t,getThemeAction:n}=e("neve-onboarding");return{themeData:n()||!1,singleImport:t()}})),(0,p.withDispatch)((e=>{const{setImportModalStatus:t,setInstallModalStatus:n,setThemeAction:a,setTemplateModal:r}=e("neve-onboarding");return{setImportModal:e=>t(e),setInstallModal:e=>n(e),setThemeAction:e=>a(e),showTemplateModal:()=>r(!0)}})))((({setImportModal:e,setInstallModal:t,themeData:n,setThemeAction:r,singleImport:o,showTemplateModal:l})=>{const{action:s,slug:i,nonce:c}=n,{themesURL:m,brandedTheme:u}=tiobDash,[p,d]=(0,g.useState)(!1),[h,f]=(0,g.useState)(null),b=()=>{t(!1)},E=e=>{d(!1),f((0,y.sprintf)(
// translators: %s: Error message.
// translators: %s: Error message.
(0,y.__)("An error has ocurred: %s","templates-patterns-collection"),e))},_=()=>{d("activating"),k(`${m}?action=activate&stylesheet=${i}&_wpnonce=${c}`,!0).then((n=>200!==n.status?(E((0,y.__)("Could not activate theme.","templates-patterns-collection")),d(!1),!1):(d(!1),t(!1),r(!1),o?(l(),!1):void e(!0))))};return(0,a.createElement)(v.Modal,{className:"ob-import-modal install-modal",title:(0,y.__)("Install and Activate Neve","templates-patterns-collection"),onRequestClose:b,shouldCloseOnClickOutside:!p,isDismissible:!p},(0,a.createElement)("div",{className:"modal-body",style:{textAlign:"center"}},!u&&(0,a.createElement)("img",{style:{width:75},src:`${tiobDash.assets}/img/logo.svg`,alt:(0,y.__)("Logo","templates-patterns-collection")}),h&&(0,a.createElement)("div",{className:"well error",style:{margin:"20px 0"}},h),(0,a.createElement)("p",{style:{lineHeight:1.6,fontSize:"15px"}},(0,y.__)("In order to import the starter site, Neve theme has to be installed and activated. Click the button below to install and activate Neve","templates-patterns-collection"))),(0,a.createElement)("div",{className:"modal-footer",style:{justifyContent:"center"}},(0,a.createElement)("div",{className:"actions",style:{display:"flex"}},!h&&(0,a.createElement)(v.Button,{dismiss:h,isPrimary:!0,disabled:p,className:p&&"is-loading",icon:p&&"update",onClick:"install"===s?()=>{d("installing"),wp.updates.installTheme({slug:"neve",success:()=>{r({...n,action:"activate"}),_()},error:e=>{r({...n,action:"activate"}),E(e.errorMessage||(0,y.__)("Could not install theme.","templates-patterns-collection"))}})}:_},p&&("installing"===p?(0,y.__)("Installing","templates-patterns-collection"):(0,y.__)("Activating","templates-patterns-collection")),!p&&("install"===s?(0,y.__)("Install and Activate","templates-patterns-collection"):(0,y.__)("Activate","templates-patterns-collection"))),(0,a.createElement)(v.Button,{style:{marginLeft:30},isSecondary:!0,disabled:p,onClick:b},(0,y.__)("Close","templates-patterns-collection")))))})),tiobDash),O=e=>S(T.root+"/install_plugins",e),x=(e="neve",t,n)=>{wp.updates.installTheme({slug:e,success:t,error:n})},M=(e,t,n)=>{const{themesURL:a}=tiobDash,r=`${a}?action=activate&stylesheet=${e.slug}&_wpnonce=${e.nonce}`;k(r,!0).then((e=>{if(200!==e.status)return n(e),!1;t()}))},D=({data:e,externalInstalled:t})=>{const n=e.external_plugins||null,r=h()(["well"]);return n&&!t?(0,a.createElement)("div",{className:r},(0,a.createElement)("span",null,(0,a.createElement)(v.Dashicon,{icon:"info"}),(0,y.__)("To import this demo you have to install the following plugins","templates-patterns-collection")),(0,a.createElement)("ul",null,n.map(((e,t)=>(0,a.createElement)("li",{key:t},(0,a.createElement)(v.Button,{isLink:!0,href:e.author_url},e.name)))))):""},I=((0,y.__)("Business","templates-patterns-collection"),(0,y.__)("Education","templates-patterns-collection"),(0,y.__)("eCommerce","templates-patterns-collection"),(0,y.__)("News","templates-patterns-collection"),(0,y.__)("Non-Profit","templates-patterns-collection"),(0,y.__)("Health","templates-patterns-collection"),e=>{const t=new Blob([e],{type:"text/plain"});return URL.createObjectURL(t)}),P=({message:e,code:t})=>{const[n,r]=(0,g.useState)({});return(0,g.useEffect)((()=>{var e;return e={success:function(e){r({raw:e,url:I(e)})}},jQuery.ajax({type:"post",url:ajaxurl,data:{action:"tpc_get_logs",nonce:tiobDash.nonce},...e}),()=>{n?.url&&URL.revokeObjectURL(n.url)}}),[]),(0,a.createElement)("div",{className:"well error"},e&&(0,a.createElement)("h3",null,(0,a.createElement)(v.Dashicon,{icon:"warning"}),(0,a.createElement)("span",null,e)),(0,a.createElement)("ul",null,(0,a.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.troubleshooting}}),(0,a.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.support}}),t&&(0,a.createElement)("li",null,(0,y.__)("Error code","templates-patterns-collection"),":"," ",(0,a.createElement)("code",null,t)),(0,a.createElement)("li",null,(0,y.__)("Error log","templates-patterns-collection"),":"," ",(0,a.createElement)("a",{download:"ti_theme_onboarding.log",href:n.url},(0,y.__)("Download Logs File","templates-patterns-collection")),(0,a.createElement)("details",null,(0,a.createElement)("summary",null,(0,y.__)("See logs","templates-patterns-collection")),(0,a.createElement)("div",null,n.raw)))))},L=({data:e})=>{const t=e=>console.log(e),[n,r]=(0,g.useState)(!1),[o,l]=(0,g.useState)(!1),[s,i]=(0,g.useState)(!1),[c,m]=(0,g.useState)(null),[u,p]=(0,g.useState)(null);if(n)return null;const d=()=>{"done"===s&&r(!0),l(!1),m(null),i(!1)};return(0,a.createElement)("div",{className:"ob-migration"},o&&(0,a.createElement)(v.Modal,{className:"ob-import-modal migration",title:(0,y.__)("Migrate","templates-patterns-collection")+" "+e.theme_name,onRequestClose:d,shouldCloseOnClickOutside:!s,isDismissible:!s},(0,a.createElement)(g.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},c&&(0,a.createElement)(P,{message:c.message||null,code:c.code||null}),!1===s&&!c&&(0,a.createElement)(g.Fragment,null,(0,a.createElement)(D,{data:e}),e.mandatory_plugins&&(0,a.createElement)(g.Fragment,null,(0,a.createElement)("hr",null),(0,a.createElement)("h3",null,(0,y.__)("The following plugins will be installed","templates-patterns-collection"),":"),(0,a.createElement)("ul",null,Object.keys(e.mandatory_plugins).map(((t,n)=>(0,a.createElement)("li",{key:n},"-"," ",e.mandatory_plugins[t])))))),"done"===s&&(0,a.createElement)("p",{className:"import-result"},(0,y.__)("Content was successfully imported. Enjoy your new site!","templates-patterns-collection")),!0===s&&(0,a.createElement)("div",{className:"loading"},(0,a.createElement)(v.Dashicon,{icon:"update",size:50}),(0,a.createElement)("h3",null,(0,y.__)("Migrating","templates-patterns-collection"),"..."))),(!s||"done"===s)&&(0,a.createElement)("div",{className:"modal-footer"},(0,a.createElement)(v.Button,{isSecondary:"done"!==s,isLink:"done"===s,className:"done"===s?"close":null,onClick:d},"done"===s?(0,y.__)("Close","templates-patterns-collection"):(0,y.__)("Cancel","templates-patterns-collection")),c||"done"===s?(0,a.createElement)(g.Fragment,null,(0,a.createElement)(v.Button,{style:{marginLeft:20},isSecondary:!0,href:`${tiobDash.onboarding.homeUrl}/wp-admin/post.php?post=${u}&action=elementor`},(0,y.__)("Edit Content","templates-patterns-collection")),(0,a.createElement)(v.Button,{isPrimary:!0,href:tiobDash.onboarding.homeUrl},(0,y.__)("View Website","templates-patterns-collection"))):(0,a.createElement)(v.Button,{isPrimary:!0,onClick:()=>{!function(){const t=Object.keys(e.mandatory_plugins).reduce((function(e,t){return e[t]=!0,e}),{});O(t).then((t=>{if(i(!0),!t.success)return m({code:t.data||null,message:(0,y.__)("Something went wrong while installing the necessary plugins.","templates-patterns-collection")}),i(!1),!1;const{template:n,template_name:a}=e;S(tiobDash.onboarding.root+"/migrate_frontpage",{template:n,template_name:a}).then((e=>{if(!e.success)return m({code:e.data||null,message:(0,y.__)("Something went wrong while importing the website content.","templates-patterns-collection")}),i(!1),!1;p(e.data),i("done")}))}))}()}},(0,y.__)("Start Migration","templates-patterns-collection"))))),(0,a.createElement)("h2",null,e.heading),(0,a.createElement)("p",null,e.description),(0,a.createElement)("div",{className:"card starter-site-card",style:{maxWidth:330}},(0,a.createElement)("div",{className:"top"},e.screenshot&&(0,a.createElement)("div",{className:"image"},(0,a.createElement)("img",{src:e.screenshot,alt:e.theme_name}))),(0,a.createElement)("div",{className:"bottom"},(0,a.createElement)("p",{className:"title"},e.theme_name))),(0,a.createElement)("div",{className:"actions"},(0,a.createElement)(v.Button,{isPrimary:!0,onClick:()=>(l(!0),!1)},(0,y.__)("Migrate","templates-patterns-collection")+" "+e.theme_name),(0,a.createElement)(v.Button,{isSecondary:!0,onClick:()=>{S(tiobDash.onboarding.root+"/dismiss_migration",{theme_mod:e.theme_mod}).then((e=>{if(!e.success)return t((0,y.__)("Something went wrong. Please reload the page and try again.","templates-patterns-collection")),!1;t((0,y.__)("Dismissed","templates-patterns-collection")),r(!0)}))}},(0,y.__)("Dismiss","templates-patterns-collection"))))};var j=n(832),A=n.n(j);const B=window.wp.primitives,F=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),R=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),z=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),U=window.wp.apiFetch;var V,$=n.n(U),H=n(663),G=new Uint8Array(16);function W(){if(!V&&!(V="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return V(G)}const q=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Q=[],Y=0;Y<256;++Y)Q.push((Y+256).toString(16).substr(1));const J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Q[e[t+0]]+Q[e[t+1]]+Q[e[t+2]]+Q[e[t+3]]+"-"+Q[e[t+4]]+Q[e[t+5]]+"-"+Q[e[t+6]]+Q[e[t+7]]+"-"+Q[e[t+8]]+Q[e[t+9]]+"-"+Q[e[t+10]]+Q[e[t+11]]+Q[e[t+12]]+Q[e[t+13]]+Q[e[t+14]]+Q[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&q.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},K=function(e,t,n){var a=(e=e||{}).random||(e.rng||W)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=a[r];return t}return J(a)},Z=window.wp.api;var X=n.n(Z);const ee=(e,t)=>{t(e),e?.elements?.forEach((e=>{ee(e,t)}))},te=async(e=!1,t={})=>{console.warn({additionalParams:t});const n=(0,H.stringifyUrl)({url:tiobDash.endpoint+(e?"page-templates":"templates"),query:{cache:localStorage.getItem("tpcCacheBuster"),...tiobDash.params,...t}},{arrayFormat:"bracket"});console.log({url:n});try{const e=await $()({url:n,method:"GET",parse:!1});if(e.ok){const t=await e.json();return t.message?{success:!1,message:t.message}:{success:!0,total:e.headers.get("x-wp-totalpages"),templates:t}}}catch(e){if(e.message)return{success:!1,message:e.message}}},ne=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,g.createElement)(B.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),ae=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),re=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,g.createElement)(B.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})),oe=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),le=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),se=({sortingOrder:e,item:t,loadTemplates:n,userTemplate:r,grid:o,onPreview:l,onImport:s,upsell:i=!1})=>{const[c,m]=(0,g.useState)(!1),[u,p]=(0,g.useState)(!1),[d,f]=(0,g.useState)(t.template_name),b=async e=>{e.preventDefault();const{template_id:n,template_name:a}=t;m("updating"),await(async(e,t)=>{const n=(0,H.stringifyUrl)({url:tiobDash.endpoint+"templates/"+e,query:{cache:localStorage.getItem("tpcCacheBuster"),...tiobDash.params,template_id:e,template_name:t}});try{return await $()({url:n,method:"POST"}),localStorage.setItem("tpcCacheBuster",K()),{success:!0}}catch(e){if(e.message)return{success:!1,message:e.message}}})(n,d||a).then((e=>{e.success&&(p(!u),m(!1))}))},E=async()=>{if(!window.confirm((0,y.__)("Are you sure you want to delete this template?","templates-patterns-collection")))return!1;m("deleteing"),(async e=>{const t=(0,H.stringifyUrl)({url:`${tiobDash.endpoint}templates/${e}`,query:{cache:localStorage.getItem("tpcCacheBuster"),_method:"DELETE",...tiobDash.params}});try{return await $()({url:t,method:"POST"}),localStorage.setItem("tpcCacheBuster",K()),{success:!0}}catch(e){if(e.message)return{success:!1,message:e.message}}})(t.template_id).then((a=>{a.success&&(n({page:0,...e}),"fse"===t.template_type&&(e=>{const t=new(X().models.Settings);t.fetch().then((n=>{const a=Object.keys(n.templates_patterns_collection_fse_templates).reduce(((t,a)=>{const r=n.templates_patterns_collection_fse_templates[a],o={...r};return r._ti_tpc_template_id===e||(t[a]=o),t}),{});t.save({templates_patterns_collection_fse_templates:a})}))})(t.template_id),m(!1))}))},_=()=>{l(t.link)},w=h()("actions",{"no-controls":!r});if(o){const e={backgroundImage:`url(${t.template_thumbnail})`};return(0,a.createElement)("div",{key:t.template_id,className:"table-grid"},(0,a.createElement)("div",{style:e,className:h()("grid-preview",{"is-loading":u||!1!==c})},(0,a.createElement)("div",{className:"preview-actions"},!r&&t.link&&(0,a.createElement)(v.Button,{isSecondary:!0,disabled:!1!==c,onClick:_},(0,y.__)("Preview","templates-patterns-collection")),!i&&(0,a.createElement)(v.Button,{isPrimary:!0,isBusy:"importing"===c,disabled:!1!==c,onClick:s},(0,y.__)("Import","templates-patterns-collection")),r&&(0,a.createElement)("div",{className:"preview-controls"},!t.link&&(0,a.createElement)(v.Button,{label:(0,y.__)("Edit","templates-patterns-collection"),icon:"updating"===c?ne:ae,disabled:u||!1!==c,className:h()({"is-loading":"updating"===c}),onClick:()=>p(!u)}),(0,a.createElement)(v.Button,{label:(0,y.__)("Delete","templates-patterns-collection"),icon:"deleteing"===c?ne:re,disabled:!1!==c,className:h()({"is-loading":"deleteing"===c}),onClick:E})))),(0,a.createElement)("div",{className:"card-footer"},u?(0,a.createElement)("form",{onSubmit:b},(0,a.createElement)(v.TextControl,{value:d,onChange:f}),(0,a.createElement)(v.Button,{type:"submit",label:(0,y.__)("Update","templates-patterns-collection"),icon:"updating"===c?ne:oe,disabled:!1!==c,className:h()({"is-loading":"updating"===c})})):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,d),"fse"===t.template_type&&(0,a.createElement)("div",{className:"type-label"},"FSE"))))}return(0,a.createElement)("div",{key:t.template_id,className:"table-row"},(0,a.createElement)("div",{className:"title"},(0,a.createElement)(v.Icon,{icon:le}),u?(0,a.createElement)(v.TextControl,{label:(0,y.__)("Template Name","templates-patterns-collection"),hideLabelFromVision:!0,value:d,onChange:f}):d),"fse"===t.template_type&&(0,a.createElement)("div",{className:"type"},(0,a.createElement)("div",{className:"type-label"},"FSE")),r&&(0,a.createElement)("div",{className:"controls"},t.link?(0,a.createElement)(v.Tooltip,{text:(0,y.__)("This template is synced to a page.","templates-patterns-collection")},(0,a.createElement)(v.Button,{label:(0,y.__)("Edit","templates-patterns-collection"),icon:ae,disabled:!0},(0,y.__)("Edit","templates-patterns-collection"))):(0,a.createElement)(v.Button,{label:u?(0,y.__)("Update","templates-patterns-collection"):(0,y.__)("Edit","templates-patterns-collection"),icon:u?"updating"===c?ne:oe:ae,disabled:!1!==c,className:h()({"is-loading":"updating"===c}),onClick:e=>{u?b(e).then((()=>p(!u))):p(!u)}},u?(0,y.__)("Update","templates-patterns-collection"):(0,y.__)("Edit","templates-patterns-collection")),(0,a.createElement)(v.Button,{label:(0,y.__)("Delete","templates-patterns-collection"),icon:"deleteing"===c?ne:re,disabled:!1!==c,className:h()({"is-loading":"deleteing"===c}),onClick:E},"deleting"===c?(0,y.__)("Deleting","templates-patterns-collection")+"...":(0,y.__)("Delete","templates-patterns-collection"))),(0,a.createElement)("div",{className:w},!r&&t.link&&(0,a.createElement)(v.Button,{isSecondary:!0,disabled:!1!==c,onClick:_},(0,y.__)("Preview","templates-patterns-collection")),(0,a.createElement)(v.Button,{isPrimary:!0,isBusy:"importing"===c,onClick:s,disabled:!1!==c},(0,y.__)("Import","templates-patterns-collection"))))},ie=({isGrid:e})=>(0,a.createElement)("div",{className:"table"},[1,2,3,4,5,6,7,8].map((t=>e?(0,a.createElement)("div",{key:t,className:"table-grid"},(0,a.createElement)("div",{className:"grid-preview image is-loading"}),(0,a.createElement)("div",{className:"card-footer"},(0,a.createElement)("p",{className:"title loading",style:{height:14,backgroundColor:"#f3f3f3"}}))):(0,a.createElement)("div",{key:t,className:"table-row"},(0,a.createElement)("p",{className:"title loading",style:{width:"100%",height:14,background:"linear-gradient(to right, #f3f3f3, #ffffff)"}}))))),ce=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"})),me=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})),ue=(0,g.createElement)(B.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})),pe=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7.8 16.5H5c-.3 0-.5-.2-.5-.5v-6.2h6.8v6.7zm0-8.3H4.5V5c0-.3.2-.5.5-.5h6.2v6.7zm8.3 7.8c0 .3-.2.5-.5.5h-6.2v-6.8h6.8V19zm0-7.8h-6.8V4.5H19c.3 0 .5.2.5.5v6.2z",fillRule:"evenodd",clipRule:"evenodd"})),de=window.wp.keycodes,he={date:(0,y.__)("Date","templates-patterns-collection"),template_name:(0,y.__)("Name","templates-patterns-collection"),modified:(0,y.__)("Last Modified","templates-patterns-collection")},ge=({type:e,setType:t})=>{const[n,r]=(0,g.useState)(!1),o=()=>r(!n),l={gutenberg:{label:(0,y.__)("Gutenberg","templates-patterns-collection"),icon:"gutenberg.jpg"},elementor:{label:(0,y.__)("Elementor","templates-patterns-collection"),icon:"elementor.jpg"},beaver:{label:(0,y.__)("Beaver","templates-patterns-collection"),icon:"beaver.jpg"}},s=Object.keys(l).filter((t=>t!==e)),i=h()(["ob-dropdown","editor-selector","filter-selector"]);return(0,a.createElement)("div",{className:i},(0,a.createElement)(v.Button,{onClick:o,className:"select ob-dropdown"},(0,a.createElement)(v.Dashicon,{size:14,icon:n?"arrow-up-alt2":"arrow-down-alt2"}),(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+l[e].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")}),n&&(0,a.createElement)(v.Popover,{position:"bottom center",onClose:o,noArrow:!0,inline:!0},n&&(0,a.createElement)("ul",{className:"options"},s.map(((e,n)=>(0,a.createElement)("li",{key:n},(0,a.createElement)("a",{href:"#",onClick:n=>{n.preventDefault(),t(e),r(!1)}},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+l[e].icon,alt:l[e].label})))))))))},fe=({isGrid:e,setGrid:t,isSearch:n,searchQuery:r,setSearchQuery:o,onSearch:l,sortingOrder:s,setSortingOrder:i,changeOrder:c,EDITOR_MAP:m,type:u,setType:p,showFSE:d,setShowFSE:g})=>(0,a.createElement)("div",{className:"filters"},(0,a.createElement)("div",{className:"header-form"},(0,a.createElement)("div",{className:"display-sorting"},(0,a.createElement)("div",{className:"sorting-label"},(0,y.__)("Sort by","templates-patterns-collection")),(0,a.createElement)("div",{className:"sorting-filter"},Object.keys(he).map((e=>(0,a.createElement)(v.Button,{key:e,className:h()({"is-selected":e===s.orderby,"is-asc":"ASC"===s.order}),onClick:()=>{const t={order:"DESC",orderby:e};e===s.orderby&&"DESC"===s.order&&(t.order="ASC"),i({...t}),c({...t})}},he[e])))),"gutenberg"===u&&tiobDash.isFSETheme&&(0,a.createElement)("div",{className:"filter-fse"},(0,a.createElement)(v.ToggleControl,{label:(0,y.__)("Show FSE Templates","templates-patterns-collection"),onChange:g,checked:d}))),(0,a.createElement)("div",{className:"display-filters"},(0,a.createElement)("div",{className:"display-filters__search"},(0,a.createElement)("input",{placeholder:(0,y.__)("Search","templates-patterns-collection"),value:r,onChange:e=>o(e.target.value),onKeyDown:e=>{e.keyCode===de.ENTER&&l()}}),n?(0,a.createElement)(v.Button,{label:(0,y.__)("Clear search query","templates-patterns-collection"),icon:ce,onClick:()=>{o(""),l("")}}):(0,a.createElement)(v.Button,{label:(0,y.__)("Search","templates-patterns-collection"),icon:me,onClick:()=>l()})),(0,a.createElement)(v.Button,{label:(0,y.__)("List View","templates-patterns-collection"),icon:ue,onClick:()=>t(!1),isPressed:!e}),(0,a.createElement)(v.Button,{label:(0,y.__)("Grid View","templates-patterns-collection"),icon:pe,onClick:()=>t(!0),isPressed:e}),(0,a.createElement)(ge,{EDITOR_MAP:m,type:u,setType:p})))),ve=({title:e,leftButtons:t,rightButtons:n,heading:r,previewUrl:o})=>{const l=(0,H.stringifyUrl)({url:o,query:{tpcpreview:"yes"}}),s=e||(0,y.__)("Preview","templates-patterns-collection");return(0,a.createElement)("div",{className:"ob-preview single-templates"},(0,a.createElement)("div",{className:"preview"},(0,a.createElement)("iframe",{title:s,src:l,frameBorder:"0"}),(0,a.createElement)("div",{className:"loading"},(0,a.createElement)(v.Dashicon,{icon:"update",size:50}))),(0,a.createElement)("div",{className:"bottom-bar"},t&&(0,a.createElement)("div",{className:"navigator"},t),r&&(0,a.createElement)("h2",{className:"heading"},r),n&&(0,a.createElement)("div",{className:"actions"},n)))};var ye,be={AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"},Ee={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function _e(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}function we(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function Se(e){return function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}(e)||function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}(e)}function ke(e){var t,n="&"+e+";";return(ye=ye||document.createElement("i")).innerHTML=n,(59!==(t=ye.textContent).charCodeAt(t.length-1)||"semi"===e)&&t!==n&&t}var Ce={}.hasOwnProperty,Ne=String.fromCharCode,Te=[void 0,"Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Oe(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||!(65535&~e)||65534==(65535&e)}const xe=(0,f.compose)((0,p.withSelect)((e=>{const{getThemeAction:t,getCurrentSite:n}=e("neve-onboarding");return{siteData:n(),themeData:t()||!1}})),(0,p.withDispatch)((e=>{const{setTemplateModal:t,setImportModalStatus:n}=e("neve-onboarding");return{cancel:()=>{t(null)},setModal:e=>n(e)}})))((({templatesData:e,cancel:t,siteData:n,themeData:r,setModal:o,isUserTemplate:l=!1,generalTemplates:s=!1})=>{const[i,c]=(0,g.useState)(!0),[m,u]=(0,g.useState)([]),[p,d]=(0,g.useState)(!1),[f,b]=(0,g.useState)([]),[E,_]=(0,g.useState)(!1),w=1===e.length;(0,g.useEffect)((()=>{l&&w?(async e=>{const t=(0,H.stringifyUrl)({url:`${tiobDash.endpoint}templates/${e}/import`,query:{cache:localStorage.getItem("tpcCacheBuster"),...tiobDash.params}});let n={};try{const e=await $()({url:t,method:"GET",parse:!1});if(e.ok&&(n=await e.json(),n.message))return{success:!1,message:n.message}}catch(e){if(e.message)return{success:!1,message:e.message}}return{success:!0,templates:[n]}})(e[0].template_id).then((e=>{e.success||(e.message?_(e.message):_(!0),c(!1)),u(e.templates),c(!1)})):(async e=>{const t=(0,H.stringifyUrl)({url:`${tiobDash.endpoint}templates/bulk-import`,query:{templates:e,cache:localStorage.getItem("tpcCacheBuster"),...tiobDash.params}},{arrayFormat:"index"});try{const e=await $()({url:t,method:"GET",parse:!1});if(e.ok){if(e.message)return{success:!1,message:e.message};const t=await e.json();return t.message?{success:!1,message:t.message}:(Array.isArray(t)&&t.forEach((e=>{var t,n;t=e,n=e=>{delete e?.settings?.image?.id,delete e?.settings?.background_image?.id,delete e?.settings?.background_overlay_image?.id},t?.content?.forEach?.((e=>{ee(e,n)}))})),{success:!0,templates:t})}}catch(e){if(e.message)return{success:!1,message:e.message}}})(e.map((e=>e.template_id))).then((e=>{if(!e.success)return e.message?_(e.message):_(!0),c(!1),!1;u(e.templates),c(!1)}))}),[e]);const k=()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h1",{className:"is-loading",style:{height:30,marginBottom:30,width:"70%"}}),(0,a.createElement)("p",{className:"description is-loading"}),(0,a.createElement)("p",{className:"description is-loading"}),(0,a.createElement)("p",{className:"description is-loading",style:{width:"40%"}}))),(0,a.createElement)("div",{className:"modal-footer",style:{marginTop:50}},(0,a.createElement)("span",{className:"is-loading link"}),(0,a.createElement)("span",{className:"is-loading button",style:{width:"150px",marginLeft:"auto"}}))),C=e=>{e.preventDefault(),o(!0)},N=()=>{d(!0);const{fseTemplates:t,otherTemplates:n}=e.reduce(((e,t,n)=>{const a=t.template_type,r={...t,...m[n]};return"fse"===a?e.fseTemplates.push(r):e.otherTemplates.push(r),e}),{fseTemplates:[],otherTemplates:[]}),a=()=>{if(n)try{(async e=>{const t={};if(e.forEach((e=>{"elementor"===e.template_type?t.elementor=!0:"beaver"===e.template_type&&(t["beaver-builder-lite-version"]=!0)})),Object.keys(t).length>0)try{await O(t)}catch(e){return e}return S(T.root+"/import_single_templates",e)})(n).then((e=>{if(!e.success)return console.log(e.message),!1;b(e.pages),d("done")}))}catch(e){console.log(e)}};if(!r||"general"===n[0]?.template_site_slug&&"yes"===n[0]?.premade)return a(),!1;const o=e=>{console.error(e)};return l?(a(),(()=>{if(t)try{(async e=>{const t=tiobDash.siteUrl+"wp-json/wp/v2/templates",n=e.map((async e=>{const n={slug:"wp-custom-template-"+e.template_id,status:"publish",title:e.template_name,content:e.content};try{const e=await S(t,n,!0);return{success:!0,message:(0,y.__)("Import successful","templates-patterns-collection"),response:e}}catch(e){return{success:!1,message:e.message,error:e}}}));try{const e=await Promise.all(n);return e.find((e=>!e.success))||{success:!0,message:(0,y.__)("All imports are successful","templates-patterns-collection"),results:e}}catch(e){throw e}})(t).then((e=>{if(!e.success)return _(e.message),!1;d("done")}))}catch(e){console.log(e)}})(),!1):"install"===r.action?(x("neve",(()=>{M(r,a,o)}),o),!1):void M(r,a,o)},D=()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h1",null,(0,y.__)("An error occurred!","templates-patterns-collection")),(0,a.createElement)("p",{className:"description"},!0===E?(0,y.__)("Please refresh the page and try again.","templates-patterns-collection"):E))),(0,a.createElement)("div",{className:"modal-footer"},(0,a.createElement)(v.Button,{isPrimary:!0,className:"import",onClick:()=>{_(!1),t()}},(0,y.__)("Close","templates-patterns-collection"))));return(0,a.createElement)(v.Modal,{className:h()(["ob-import-modal",{fetching:i}]),onRequestClose:t,shouldCloseOnClickOutside:!(p&&"done"!==p||i),isDismissible:!(p&&"done"!==p||i)},"done"!==p||E?(0,a.createElement)((t=>i?(0,a.createElement)(k,null):t.error?(0,a.createElement)(D,null):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h1",null,(0,y.sprintf)(w?/* translators: name of starter site */ /* translators: name of starter site */
(0,y.__)("Import the %s template","templates-patterns-collection"):/* translators: name of template */ /* translators: name of template */
(0,y.__)("Import all templates from %s","templates-patterns-collection"),w?e[0].template_name:n.title)),(0,a.createElement)("p",{className:"description"},(()=>{const{template_name:t,template_type:n}=e[0];return"fse"===n?(0,y.__)("This import will add a new Full Site Editing template to your site.","templates-patterns-collection"):w?(0,y.sprintf)(/* translators: %s  the name of the template */ /* translators: %s  the name of the template */
(0,y.__)("The %s template will be imported as a page into your site. This import will install & activate the page builder plugin if not already installed.","templates-patterns-collection"),t):(0,y.__)("All the templates that are included in this starter site, will be imported as pages. This import will install & activate the page builder plugin if not already installed.","templates-patterns-collection")})()))),(0,a.createElement)("div",{className:"modal-footer"},!s&&(0,a.createElement)(v.Button,{className:"import-templates",isLink:!0,disabled:p,onClick:C},(0,y.__)("I want to import the entire site","templates-patterns-collection")),(0,a.createElement)(v.Button,{isPrimary:!0,className:"import",disabled:p,onClick:N},p?(0,y.__)("Importing","templates-patterns-collection")+"...":w?(0,y.__)("Import","templates-patterns-collection"):(0,y.__)("Import All Pages","templates-patterns-collection"))))),{error:E}):(0,a.createElement)((()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("h1",null,(0,y.__)("Import done!","templates-patterns-collection")),(0,a.createElement)("p",{className:"description"},w?(0,y.__)("Template was successfully imported!","templates-patterns-collection"):(0,y.__)("Templates were successfully imported!","templates-patterns-collection"))),f&&(0,a.createElement)("ul",{className:"modal-toggles"},f.map(((e,t)=>(0,a.createElement)("li",{className:"option-row",key:t},(0,a.createElement)(v.Icon,{icon:le,className:"active"}),(0,a.createElement)("span",null,function(e,t={}){var n,a,r,o,l,s,i,c,m,u,p,d,h,g,f,v,y,b,E,_,w,S,k,C,N="string"==typeof t.additional?t.additional.charCodeAt(0):t.additional,T=0,O=-1,x="",M=[];t.position&&("start"in t.position||"indent"in t.position?(a=t.position.indent,n=t.position.start):n=t.position),r=n&&n.line||1,o=n&&n.column||1,_=D(),T--;for(;++T<=e.length;)if(10===m&&(o=a&&a[O]||1),38===(m=e.charCodeAt(T))){if(9===(d=e.charCodeAt(T+1))||10===d||12===d||32===d||38===d||60===d||Number.isNaN(d)||N&&d===N){x+=Ne(m),o++;continue}for(v=y=T+1,k=y,35===d?(k=++v,88===(d=e.charCodeAt(k))||120===d?(b="hexadecimal",k=++v):b="decimal"):b="named",l="",f="",c="",E="named"===b?Se:"decimal"===b?_e:we,k--;++k<=e.length&&E(d=e.charCodeAt(k));)c+=Ne(d),"named"===b&&Ce.call(be,c)&&(l=c,f=be[c]);(i=59===e.charCodeAt(k))&&(k++,(s="named"===b&&ke(c))&&(l=c,f=s)),S=1+k-y,(i||!1!==t.nonTerminated)&&(c?"named"===b?(i&&!f?I(5,1):(l!==c&&(S=1+(k=v+l.length)-v,i=!1),i||(h=l?1:3,t.attribute?61===(d=e.charCodeAt(k))?(I(h,S),f=null):Se(d)?f=null:I(h,S):I(h,S))),u=f):(i||I(2,S),(C=p=Number.parseInt(c,"hexadecimal"===b?16:10))>=55296&&C<=57343||C>1114111?(I(7,S),u=Ne(65533)):p in Ee?(I(6,S),u=Ee[p]):(g="",Oe(p)&&I(6,S),p>65535&&(g+=Ne((p-=65536)>>>10|55296),p=56320|1023&p),u=g+Ne(p))):"named"!==b&&I(4,S)),u?(P(),_=D(),T=k-1,o+=k-y+1,M.push(u),(w=D()).offset++,t.reference&&t.reference.call(t.referenceContext,u,{start:_,end:w},e.slice(y-1,k)),_=w):(c=e.slice(y-1,k),x+=c,o+=c.length,T=k-1)}else 10===m&&(r++,O++,o=0),Number.isNaN(m)?P():(x+=Ne(m),o++);return M.join("");function D(){return{line:r,column:o,offset:T+(n&&n.offset||0)}}function I(e,n){var a;t.warning&&((a=D()).column+=n,a.offset+=n,t.warning.call(t.warningContext,Te[e],a,e))}function P(){x&&(M.push(x),t.text&&t.text.call(t.textContext,x,{start:_,end:D()}),x="")}}(e.title)),(0,a.createElement)("div",{className:"actions"},(0,a.createElement)(v.Button,{isTertiary:!0,href:e.url},(0,y.__)("Visit","templates-patterns-collection")),(0,a.createElement)(v.Button,{isTertiary:!0,href:e.edit},(0,y.__)("Edit","templates-patterns-collection")))))))),(0,a.createElement)("div",{className:"modal-footer"},(0,a.createElement)(v.Button,{isPrimary:!0,className:"import",onClick:t},(0,y.__)("Close","templates-patterns-collection"))))),null))})),Me=()=>(0,a.createElement)(B.SVG,{width:"61",height:"100",viewBox:"0 0 75 60",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(B.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M0.5 0.198486H61V59.9128H0.5V0.198486ZM25.0305 30.0698V44.2415H17.7858V15.4382C17.7858 15.2989 17.8281 15.2013 17.9129 15.1456C17.9976 15.0899 18.1529 15.1595 18.3789 15.3546L36.4696 30.0698V15.8145H43.7143V44.6596C43.7143 44.8268 43.672 44.9313 43.5872 44.9731C43.5025 45.0149 43.3472 44.9383 43.1212 44.7432L25.0305 30.0698ZM43.7143 48.9127H17.7858V51.2699H43.7143V48.9127Z",fill:"#0366D5"})),De=()=>(0,a.createElement)(B.SVG,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ob-logo"},(0,a.createElement)(B.Path,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),(0,a.createElement)(B.Path,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),(0,a.createElement)(B.Path,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"})),Ie=(0,g.createContext)({isLicenseOpen:!1,setLicenseOpen:()=>{}}),{version:Pe,feedback:Le}=window.tiobDash,je=[{name:(0,y.__)("Plugin version","templates-patterns-collection"),value:Pe},{name:(0,y.__)("Feedback Response","templates-patterns-collection"),value:(0,y.__)("Checked option from feedback","templates-patterns-collection")},{name:(0,y.__)("Feedback Details","templates-patterns-collection"),value:(0,y.__)("Text from the above text area","templates-patterns-collection")}],Ae={error:(0,y.__)("There was a problem submitting your feedback.","templates-patterns-collection"),emptyFeedback:(0,y.__)("Please provide a feedback before submitting the form.","templates-patterns-collection"),submitted:(0,y.__)("Thank you for helping us improve Templates Cloud!","templates-patterns-collection")},Be=({importTemplate:e})=>{const[t,n]=(0,g.useState)(!1),[r,o]=(0,g.useState)(!1),[l,s]=(0,g.useState)("store_in_cloud"),[i,c]=(0,g.useState)(""),[m,u]=(0,g.useState)("notSubmitted"),[p,d]=(0,g.useState)(Le.count||0),[f,b]=(0,g.useState)(Le.dismissed||!1),[E,_]=(0,g.useState)(!1);(0,g.useEffect)((()=>{const e=document.querySelector(".tiob_feedback_collect.info");e&&(e.style.height=r?"255px":"0")}),[r,t]);(0,g.useEffect)((()=>{(()=>{let e;return Z.loadPromise.then((()=>(e=new Z.models.Settings,e.fetch())))})().then((e=>{void 0!==e.tiob_premade_imported&&d(e.tiob_premade_imported),void 0!==e.tiob_feedback_dismiss&&b(e.tiob_feedback_dismiss)}))}),[e]);const w=()=>n(!0),S=()=>n(!1),k=()=>{((e,t)=>{const n=new Z.models.Settings({[e]:t});new Promise((a=>{n.save().then((n=>{n&&!n[e]!==t||a({success:!1}),a({success:!0})}))}))})("tiob_feedback_dismiss",!0)};return(0,a.createElement)(a.Fragment,null,p>=4&&!f&&!E&&(0,a.createElement)(v.Flex,{className:"tiob-feedback-notice",justify:"right"},(0,a.createElement)(v.Flex,{className:h()({"tiob-notice":!0,error:"error"===m,updated:"submitted"===m}),justify:"right"},"submitted"===m&&(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Icon,{icon:"saved"})),(0,a.createElement)(v.FlexItem,null,(0,a.createElement)("p",null,["error","submitted"].includes(m)?Ae[m]:(0,y.__)("Help us improve and let us know how are you using Templates Cloud.","templates-patterns-collection"))),(0,a.createElement)(v.FlexItem,null,"error"===m&&(0,a.createElement)(v.Button,{isLink:!0,className:"error",onClick:w},(0,y.__)("Try again","templates-patterns-collection")),!["error","submitted"].includes(m)&&(0,a.createElement)(v.Button,{isPrimary:!0,onClick:w},(0,y.__)("Share feedback","templates-patterns-collection"))),(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Button,{isTertiary:!0,icon:"no-alt",iconSize:20,onClick:()=>{_(!0),"error"!==m&&k()}})))),t&&(0,a.createElement)(v.Modal,{className:"tiob_feedback_modal",title:(0,y.__)("How are you using Templates Cloud?","templates-patterns-collection"),onRequestClose:S},(0,a.createElement)(v.RadioControl,{className:"feedback_options",selected:l,options:[{label:(0,y.__)("To store my templates in the cloud","templates-patterns-collection"),value:"store_in_cloud"},{label:(0,y.__)("To share templates with the clients","templates-patterns-collection"),value:"share_with_clients"},{label:(0,y.__)("Other","templates-patterns-collection"),value:"other"}],onChange:e=>s(e)}),"other"===l&&(0,a.createElement)(v.TextareaControl,{className:h()({feedback_details:!0,invalid:"emptyFeedback"===m}),placeholder:(0,y.__)("Tell us more …","templates-patterns-collection"),value:i,help:Ae[m]||!1,rows:7,cols:50,onChange:e=>{c(e),5<e.trim().length&&u("notSubmitted")}}),(0,a.createElement)("div",{className:"tiob_feedback_collect info"},(0,a.createElement)("div",{className:"wrapper"},(0,a.createElement)("p",null,(0,y.__)("We value privacy, that's why no domain name, email address or IP addresses are collected after you submit the survey. Below is a detailed view of all data that Themeisle will receive if you fill in this survey.","templates-patterns-collection")),je.map(((e,t)=>(0,a.createElement)("div",{className:"info-row",key:t},(0,a.createElement)("p",null,(0,a.createElement)("b",null,e.name)),(0,a.createElement)("p",null,e.value)))))),(0,a.createElement)(v.Flex,{direction:"column",align:"left",justify:"start",style:{height:"auto"}},(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Button,{isPrimary:!0,onClick:()=>{if("other"===l&&5>=i.trim().length)return void u("emptyFeedback");let e=i.trim();"other"!==l&&(e=l),u("loading");try{fetch("https://api.themeisle.com/tracking/feedback",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, */*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"templates-patterns-collection",version:Pe,feedback:e,data:{"feedback-area":"template-patterns-collection-page-templates","feedback-option":l}})}).then((e=>{if(!e.ok)return u("error"),void S();u("submitted"),k(),S()}))?.catch((e=>{console.warn(e.message),u("error"),S()}))}catch(e){console.warn(e.message),u("error"),S()}},disabled:"loading"===m},"loading"===m?(0,a.createElement)(v.Spinner,null):(0,y.__)("Submit feedback","templates-patterns-collection"))),(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Button,{className:"toggle-info","aria-expanded":r,variant:"link",isLink:!0,onClick:()=>o(!r)},(0,y.__)("What info do we collect?","templates-patterns-collection"))))))},Fe=((0,f.compose)((0,p.withSelect)((e=>{const{getCurrentEditor:t,getSites:n}=e("neve-onboarding");return{editor:t(),sites:n().sites}})),(0,p.withDispatch)((e=>{const{setCurrentEditor:t}=e("neve-onboarding");return{setCurrentEditor:e=>t(e)}})))((({EDITOR_MAP:e,count:t,editor:n,setCurrentEditor:r,sites:o,isSmall:l})=>{const[s,i]=(0,g.useState)(!1),c=Object.keys(o),m=()=>i(!s),u=h()(["ob-dropdown","editor-selector",{small:l}]);return(0,a.createElement)("div",{className:u},(0,a.createElement)(v.Button,{onClick:m,className:"select ob-dropdown"},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+e[n].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")}),!l&&(0,a.createElement)("span",null,e[n].niceName),(0,a.createElement)("span",{className:"count"},t[n]),(0,a.createElement)(v.Dashicon,{size:14,icon:s?"arrow-up-alt2":"arrow-down-alt2"}),s&&(0,a.createElement)(v.Popover,{position:"bottom center",onClose:m,inline:!0,noArrow:!0,inline:!0},s&&(0,a.createElement)("ul",{className:"options"},c.map(((o,l)=>o===n?null:(0,a.createElement)("li",{key:l},(0,a.createElement)("a",{href:"#",onClick:e=>{e.preventDefault(),r(o),i(!1)}},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+e[o].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")}),(0,a.createElement)("span",null,e[o].niceName),(0,a.createElement)("span",{className:"count"},t[o])))))))))})),(0,f.compose)((0,p.withDispatch)((e=>{const{setInstallModalStatus:t,setTemplateModal:n,setPreviewStatus:a}=e("neve-onboarding");return{setPreview:e=>a(e),setInstallModal:e=>t(e),setTemplateModal:n}})),(0,p.withSelect)((e=>{const{getTemplateModal:t,getThemeAction:n,getCurrentEditor:a,getCurrentTab:r,getUserStatus:o}=e("neve-onboarding");return{templateModal:t(),themeData:n()||!1,editor:a(),currentTab:r(),userStatus:o()}})))((({isGeneral:e,setPreview:t,setTemplateModal:n,templateModal:r,currentTab:o,userStatus:l,themeData:s})=>{const[i,c]=(0,g.useState)({gutenberg:[],elementor:[]}),[m,u]=(0,g.useState)("gutenberg"),[p,d]=(0,g.useState)([]),[f,b]=(0,g.useState)(e),[E,_]=(0,g.useState)(!!tiobDash.isFSETheme&&"true"===window?.localStorage?.tpcShowFse),[w,S]=(0,g.useState)(""),[k,C]=(0,g.useState)({gutenberg:0,elementor:0,beaver:0}),[N,T]=(0,g.useState)({gutenberg:0,elementor:0,beaver:0}),[O,x]=(0,g.useState)(!1),[M,D]=(0,g.useState)(!1),[I,P]=(0,g.useState)(!1),[L,j]=(0,g.useState)(""),[B,U]=(0,g.useState)({templates:{order:"DESC",orderby:"date"},library:{order:"DESC",orderby:"date"}});(0,g.useEffect)((()=>{x(!0),S(""),C({gutenberg:0,elementor:0,beaver:0}),T({gutenberg:0,elementor:0,beaver:0}),V()}),[e,m]),(0,y.__)("Gutenberg","templates-patterns-collection"),(0,y.__)("Elementor","templates-patterns-collection"),(0,y.__)("Beaver","templates-patterns-collection");const V=(t={})=>{const n={page:k[m],per_page:12,type:m,...t};e&&(n.template_site_slug="general",n.premade=!0),w&&(n.search=w),"gutenberg"===m&&E&&(n.type=["gutenberg","fse"]),te(e,n).then((e=>{c({...i,[m]:e.templates}),T({...N,[m]:e.total}),x(!1)}))},$=e=>{j(e),t(!0)},H=e=>{d([e]),n(!0)},G=i[m]&&i[m].findIndex((e=>e.link===L)),W=i[m]&&i[m].find((e=>L===e.link)),q=h()("cloud-items",{"is-grid":f||!l&&!e,"is-dummy":!l&&!e||!1!==s}),Q=()=>e?B.templates:B.library,{upgradeURLTpc:Y}=window.tiobDash;return l||e?(0,a.createElement)("div",{className:q},(0,a.createElement)(g.Fragment,null,(0,a.createElement)("div",{style:{display:"flex"}},(0,a.createElement)(Be,{importTemplate:r})),(0,a.createElement)(fe,{currentTab:o,isGrid:f,showFSE:E,setShowFSE:()=>{x(!0);const t=!E;_(t),window.localStorage.setItem("tpcShowFse",t.toString());const n={search:w,type:m,...Q()};e&&(n.template_site_slug="general",n.premade=!0),"gutenberg"===m&&t&&(n.type=["gutenberg","fse"]),te(e,n).then((e=>{c({...i,[m]:[...e.templates]}),T({...N,[m]:e.total}),x(!1)}))},setGrid:b,isSearch:M,searchQuery:w,setSearchQuery:S,onSearch:(t=w)=>{x(!0),D(!!t);const n={search:t,type:m,...Q()};e&&(n.template_site_slug="general",n.premade=!0),"gutenberg"===m&&E&&(n.type=["gutenberg","fse"]),te(e,n).then((e=>{c({...i,[m]:[...e.templates]}),T({...N,[m]:e.total}),x(!1)}))},sortingOrder:Q(),setSortingOrder:t=>U(e?{...B,templates:t}:{...B,library:t}),changeOrder:async t=>{x(!0);const n={search:w,type:m,...t};e&&(n.template_site_slug="general",n.premade=!0),te(e,n).then((e=>{c({...i,[m]:[...e.templates]}),T({...N,[m]:e.total}),x(!1)}))},type:m,setType:u}),O&&(0,a.createElement)(ie,{isGrid:f}),!O&&(i[m]&&i[m].length>0?(0,a.createElement)(g.Fragment,null,(0,a.createElement)("div",{className:"table"},i[m].map((t=>(0,a.createElement)(se,{sortingOrder:Q(),onPreview:$,userTemplate:!e,key:t.template_id,item:t,loadTemplates:V,onImport:()=>H(t),grid:f})))),(0,a.createElement)(A(),{onChange:t=>{if(!t)return!1;Number(N[m])>k[m]&&(async(t=k[m]+1)=>{P(!0),C({...k,[m]:t});const n={page:t,per_page:12,type:m};e&&(n.template_site_slug="general",n.premade=!0),w&&(n.search=w),await te(e,n).then((e=>{c({...i,[m]:[...i[m],...e.templates]}),T({...N,[m]:e.total})})),P(!1)})()}},(0,a.createElement)("span",{style:{height:10,width:10,display:"block"}})),I&&(0,a.createElement)("div",{className:"fetching-loader"},(0,a.createElement)(v.Spinner,null))):(0,a.createElement)("div",{className:"empty-information"},(0,a.createElement)("img",{src:window.tiobDash.assets+"/img/layout.jpg",alt:(0,y.__)("No Templates Found","templates-patterns-collection")}),(0,a.createElement)("h3",null,(0,y.__)("There are no templates yet","templates-patterns-collection")),(0,a.createElement)("p",null,(0,y.__)("You can add a page or post to the cloud by accessing it with the WordPress or Elementor/Beaver editor. Learn more about this in our docs.","templates-patterns-collection")),(0,a.createElement)(v.Button,{variant:"secondary",isSecondary:!0,href:"https://docs.themeisle.com/article/1354-neve-template-cloud-library?utm_medium=nevedashboard&utm_source=wpadmin&utm_campaign=templatescloud&utm_content=neve",target:"_blank"},(0,y.__)("Learn more","templates-patterns-collection")))),L&&(0,a.createElement)(ve,{previewUrl:L,rightButtons:(0,a.createElement)(v.Button,{isPrimary:!0,onClick:()=>H(W)},(0,y.__)("Import Template","templates-patterns-collection")),heading:W.template_name,leftButtons:(0,a.createElement)(g.Fragment,null,(0,a.createElement)(v.Button,{icon:F,onClick:()=>{j(""),t(!1)}}),i[m].length>1&&(0,a.createElement)(g.Fragment,null,(0,a.createElement)(v.Button,{icon:(0,y.isRTL)()?R:z,onClick:()=>{let e=G-1;0===G&&(e=i[m].length-1),j(i[m][e].link)}}),(0,a.createElement)(v.Button,{icon:(0,y.isRTL)()?z:R,onClick:()=>{let e=G+1;G===i[m].length-1&&(e=0),j(i[m][e].link)}})))})),r&&p&&!O&&p.length>0&&(0,a.createElement)(xe,{generalTemplates:!0,isUserTemplate:!e,templatesData:p})):(0,a.createElement)((({title:e,description:t,showUpgradeBtn:n=!0,showLicenseToggle:r=!0})=>{const{setLicenseOpen:o}=(0,g.useContext)(Ie);return(0,a.createElement)("div",{className:q},(0,a.createElement)("div",{className:"table"},[...Array(12)].map(((e,t)=>(0,a.createElement)(se,{sortingOrder:Q(),onPreview:$,userTemplate:!1,key:t,item:{},grid:!0})))),(0,a.createElement)("div",{className:"upsell-modal-overlay"},(0,a.createElement)("div",{className:"upsell-modal"},(0,a.createElement)("div",{className:"upsell-modal-content"},(0,a.createElement)("div",{className:"info"},(0,a.createElement)("h3",null,e),(0,a.createElement)("p",{dangerouslySetInnerHTML:{__html:t}}),n&&(0,a.createElement)(v.Button,{variant:"primary",isPrimary:!0,href:Y,target:"_blank"},(0,y.__)("Upgrade to PRO","templates-patterns-collection")),r&&(0,a.createElement)(v.Button,{isLink:!0,style:{marginLeft:"12px"},href:tiobDash?.tiobSettings},(0,y.__)("I already have a key","templates-patterns-collection"))),(0,a.createElement)("div",{className:"icon"},(0,a.createElement)(v.Icon,{icon:De}))))))}),{title:(0,y.__)("Templates Cloud is a PRO Feature","templates-patterns-collection"),description:(0,y.__)("Unlock the Templates Cloud features and save your pages or posts in the cloud.","templates-patterns-collection")})}))),Re=({currentStep:e,progress:t,willDo:n})=>{const r={cleanup:{label:(0,y.__)("Cleanup previous Import","templates-patterns-collection"),status:t.cleanup,willDo:n.cleanup},theme_install:{label:(0,y.__)("Installing and Activating the Theme","templates-patterns-collection"),status:t.theme_install,willDo:n.theme_install},plugins:{label:(0,y.__)("Installing Plugins","templates-patterns-collection"),status:t.plugins,willDo:!0},content:{label:(0,y.__)("Importing Content","templates-patterns-collection"),status:t.content,willDo:n.content},customizer:{label:(0,y.__)("Importing Customizer Settings","templates-patterns-collection"),status:t.customizer,willDo:n.customizer},widgets:{label:(0,y.__)("Importing Widgets","templates-patterns-collection"),status:t.widgets,willDo:n.widgets},performanceAddon:{label:(0,y.__)("Installing Performance Features","templates-patterns-collection"),status:t.performanceAddon,willDo:n.performanceAddon}};return(0,a.createElement)("ul",{className:"stepper"},Object.keys(r).map(((t,n)=>{const{label:o,status:l,willDo:s}=r[t];if(!s)return null;const i=h()(["icon",{loading:e===t,warning:e===t,success:"done"===l,error:"error"===l,skip:"skip"===l}]);let c="clock";return e===t&&(c="update"),"done"===l&&(c="yes"),"error"===l&&(c="no-alt"),(0,a.createElement)("li",{key:n},(0,a.createElement)("span",{className:i},(0,a.createElement)(v.Dashicon,{icon:c,className:e===t?"loading":""})),(0,a.createElement)("span",null,o))})))},ze=({})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},(0,a.createElement)("div",{className:"header"},(0,a.createElement)("span",{className:"title is-loading",style:{height:35,marginBottom:20}}),(0,a.createElement)("p",{className:"description is-loading",style:{height:20}}),(0,a.createElement)("p",{className:"description is-loading",style:{height:20,marginBottom:20}})),(0,a.createElement)("div",{className:"well is-loading"},(0,a.createElement)("span",{className:"title is-loading",style:{height:20}}),(0,a.createElement)("ol",null,(0,a.createElement)("li",null),(0,a.createElement)("li",null),(0,a.createElement)("li",null))),(0,a.createElement)("div",{className:"modal-toggles components-panel"},[1,2].map((e=>(0,a.createElement)("div",{key:e,className:"components-panel__body options general is-opened"},(0,a.createElement)("span",{className:"title is-loading"}),(0,a.createElement)("ul",null,[1,2,3].map((e=>(0,a.createElement)("li",{className:"option-row",key:e},(0,a.createElement)("div",{className:"mock-icon is-loading"}),(0,a.createElement)("span",{className:"is-loading"}),(0,a.createElement)("div",{className:"toggle is-loading"})))))))))),(0,a.createElement)("div",{className:"modal-footer"},(0,a.createElement)("span",{className:"link is-loading"}),(0,a.createElement)(v.Button,{isPrimary:!0,className:"import is-loading"})));function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}const $e=function(e){var t=e.icon,n=e.size,a=void 0===n?24:n,r=function(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(e,["icon","size"]);return(0,g.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:a,height:a},r))},He=(0,g.createElement)(B.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,g.createElement)(B.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),Ge=({children:e,className:t,toLeft:n=!1,rightOffset:r=0})=>{const o=h()([t,"tiob-tooltip-wrap"]),l=n?{right:r,left:"unset"}:{};return(0,a.createElement)("div",{className:o},(0,a.createElement)("div",{className:"tiob-tooltip-toggle"},(0,a.createElement)($e,{icon:He,size:24}),(0,a.createElement)("div",{className:"tiob-tooltip-content",style:l},e)))},We=({data:e})=>{const{text:t,url:n}=e;return t?(0,a.createElement)("div",{className:"doc-notice"},n?(0,a.createElement)("a",{href:n,target:"_blank",rel:"external noreferrer noopener"},(0,a.createElement)(v.Icon,{icon:"external"})," ",t):(0,a.createElement)("p",null,t)):null},qe=(0,f.compose)((0,p.withSelect)((e=>{const{getCurrentEditor:t,getCurrentSite:n,getThemeAction:a}=e("neve-onboarding");return{editor:t(),siteData:n(),themeData:a()||!1}})),(0,p.withDispatch)(((e,{siteData:t})=>{const{setTemplateModal:n,setSingleTemplateImport:a,setImportModalStatus:r,setThemeAction:o}=e("neve-onboarding");return{setModal:e=>r(e),setThemeAction:e=>o(e),runTemplateImport:()=>{a(t.slug),n(!0),r(!1)}}})))((({setModal:e,setThemeAction:t,editor:n,siteData:r,themeData:o,runTemplateImport:l})=>{const[s,i]=(0,g.useState)({content:!0,customizer:!0,widgets:!0,cleanup:!1,performanceAddon:!0,theme_install:!1!==o}),c=tiobDash.onboarding.homeUrl||"",[m,u]=(0,g.useState)(!1),[p,d]=(0,g.useState)(!1),[f,b]=(0,g.useState)(!1),[E,_]=(0,g.useState)(!1),[w,C]=(0,g.useState)(!1),[I,L]=(0,g.useState)(!1),[j,A]=(0,g.useState)(!1),[B,F]=(0,g.useState)(null),[R,z]=(0,g.useState)(null),[U,V]=(0,g.useState)(!1),[$,H]=(0,g.useState)({}),[G,W]=(0,g.useState)(null),[q,Q]=(0,g.useState)(null),[Y,J]=(0,g.useState)(!0),[K,Z]=(0,g.useState)(!0),[X,ee]=(0,g.useState)(!0),{license:te,cleanupAllowed:ne}=tiobDash,[ae,re]=(0,g.useState)(ne),[oe,le]=(0,g.useState)(tiobDash.emailSubscribe.email||""),[se,ie]=(0,g.useState)("yes"===tiobDash?.emailSubscribe?.skipStatus),[ce,me]=(0,g.useState)(!1);function ue(){M(o,(()=>{console.log("[D] Theme Activate."),u("done"),t(!1),de()}),(()=>{be((0,y.__)("Could not activate theme.","templates-patterns-collection"),"theme_install")}))}function pe(){return o?"install"===o.action?(z("theme_install"),console.log("[P] Theme Install."),x("neve",(()=>{t({...o,action:"activate"}),console.log("[D] Theme Install."),ue()}),(e=>{t({...o,action:"activate"}),be(e.errorMessage||(0,y.__)("Could not install theme.","templates-patterns-collection"),"theme_install")})),!1):(z("theme_install"),console.log("[P] Theme Activate."),void ue()):(console.log("[S] Theme."),de(),!1)}function de(){if(!$&&!s.performanceAddon)return console.log("[S] Plugins."),he(),!1;z("plugins"),console.log("[P] Plugins."),O($).then((e=>{if(!e.success)return be(e,"plugins"),!1;console.log("[D] Plugins."),_("done"),he()})).catch((e=>be(e,"plugins")))}function he(){if(!s.content)return console.log("[S] Content."),ge(),!1;var e;z("content"),console.log("[P] Content."),(e={contentFile:q.content_file,source:"remote",frontPage:q.front_page,shopPages:q.shop_pages,paymentForms:q.payment_forms,masteriyoData:q.masteriyo_data,demoSlug:q.slug,editor:n},S(T.root+"/import_content",e)).then((e=>{if(!e.success)return be(e,"content"),!1;console.log("[D] Content."),e.frontpage_id&&F(e.frontpage_id),C("done"),ge()})).catch((e=>be(e,"content")))}function ge(){if(!s.customizer)return console.log("[S] Customizer."),fe(),!1;var e;z("customizer"),console.log("[P] Customizer."),(e={source_url:q.url,theme_mods:q.theme_mods,wp_options:q.wp_options},S(T.root+"/import_theme_mods",e)).then((e=>{if(!e.success)return be(e,"customizer"),!1;console.log("[D] Customizer."),L("done"),fe()})).catch((e=>be(e,"customizer")))}function fe(){if(!s.widgets)return console.log("[S] Widgets."),ve(),!1;var e;z("widgets"),console.log("[P] Widgets."),(e=q.widgets,S(T.root+"/import_widgets",e)).then((e=>{if(!e.success)return be(e,"widgets"),!1;console.log("[D] Widgets."),A("done"),ve()})).catch((e=>be(e,"widgets")))}function ve(){if(!s.performanceAddon)return console.log("[S] Performance Addon."),ye(),!1;z("performanceAddon"),console.log("[P] Performance Addon."),O({"optimole-wp":!0}).then((e=>{if(!e.success)return be(e,"performanceAddon"),!1;console.log("[D] Performance Addon."),d("done"),ye()})).catch((e=>be(e,"performanceAddon")))}function ye(){z("done"),re("yes"),tiobDash.cleanupAllowed="yes",V(!1)}function be(e,t){V(!1),z(null),"cleanup"===t&&_("skip"),"plugins"===t&&C("skip"),["content","plugins"].includes(t)&&L("skip"),["content","plugins","customizer"].includes(t)&&A("skip");const n={cleanup:(0,y.__)("Something went wrong while cleaning the previous import.","templates-patterns-collection"),plugins:(0,y.__)("Something went wrong while installing the necessary plugins.","templates-patterns-collection"),content:(0,y.__)("Something went wrong while importing the website content.","templates-patterns-collection"),customizer:(0,y.__)("Something went wrong while updating the customizer settings.","templates-patterns-collection"),widgets:(0,y.__)("Something went wrong while importing the widgets.","templates-patterns-collection"),performanceAddon:(0,y.__)("Something went wrong while installing the performance addon.","templates-patterns-collection")};switch(t){case"cleanup":b("error");break;case"plugins":_("error");break;case"content":C("error");break;case"customizer":L("error");break;case"widgets":A("error");break;case"performanceAddon":d("error")}W(e.data?{message:n[t],code:e.data}:{message:n[t]})}(0,g.useEffect)((()=>{const e=r.remote_url||r.url,t=new URL(e.replace(/\/$/,"")+"/wp-json/ti-demo-data/data");t.searchParams.append("license",te?te.key:"free"),t.searchParams.append("ti_downloads","yes"),k(t,!0,!1).then((e=>{e.ok||(W({message:(0,y.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_response"}),J(!1)),e.json().then((e=>{Q({...e,...r});const t={...e.mandatory_plugins||{}},n={...e.recommended_plugins||{}},a=e.default_off_recommended_plugins||[],o={...e.ti_downloads||{}};Object.keys(t).forEach((e=>{t[e]=!0})),Object.keys(n).forEach((e=>{n[e]=!a.includes(e)})),H({...n,...t,...o}),J(!1)}))})).catch((()=>{W({message:(0,y.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_catch"}),J(!1)}))}),[]);const Ee=!r.external_plugins||r.external_plugins.every((e=>!0===e.active)),_e=Object.keys(s).every((e=>!1===s[e])),we={elementor:`${tiobDash.onboarding.homeUrl}/wp-admin/post.php?post=${B}&action=elementor`,brizy:`${tiobDash.onboarding.homeUrl}/?brizy-edit`,"beaver builder":`${tiobDash.onboarding.homeUrl}/?fl_builder`,"thrive architect":`${tiobDash.onboarding.homeUrl}/wp-admin/post.php?post=${B}&action=architect&tve=true`,"divi builder":`${tiobDash.onboarding.homeUrl}/?et_fb=1&PageSpeed=off`,gutenberg:`${tiobDash.onboarding.homeUrl}/wp-admin/post.php?post=${B}&action=edit`}[n];let Se=(0,y.__)("View Website & Subscribe","templates-patterns-collection"),ke=(0,y.__)("Skip and add your own content","templates-patterns-collection");se&&(Se=(0,y.__)("View Website","templates-patterns-collection"),ke=(0,y.__)("Add your own content","templates-patterns-collection"));const Ce=(e,t={})=>{N(tiobDash.emailSubscribe.ajaxURL,"skip_subscribe",tiobDash.emailSubscribe.nonce,t).then((()=>{ie(!0),me(!1),window.location.href=e}))};let Ne=q?(0,y.sprintf)(/* translators: name of starter site */ /* translators: name of starter site */
(0,y.__)("Import %s as a complete site","templates-patterns-collection"),q.title):"";return"done"!==R||G||(Ne=(0,y.__)("Content was successfully imported","templates-patterns-collection")),(0,a.createElement)(v.Modal,{className:h()(["ob-import-modal",{fetching:Y}]),onRequestClose:()=>{if(U)return!1;e(!1)},shouldCloseOnClickOutside:!U&&!Y,isDismissible:!U&&!Y,title:Ne},Y?(0,a.createElement)(ze,null):(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"modal-body"},"done"===R&&!G&&r.doc_url&&(0,a.createElement)(We,{data:{text:(0,y.__)("Learn more about this starter site","templates-patterns-collection"),url:r.doc_url}}),U||"done"===R||G?(0,a.createElement)(a.Fragment,null,G&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(P,{message:G.message||null,code:G.code||null}),(0,a.createElement)("hr",null)),null!==R&&(0,a.createElement)(Re,{progress:{theme_install:m,cleanup:f,plugins:E,content:w,customizer:I,widgets:j,performanceAddon:p},currentStep:R,willDo:s}),"done"===R&&!se&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{className:"tpc-subscribe-email-text"},(0,y.__)("Stay up-to-date on news, tips and product updates","templates-patterns-collection")),(0,a.createElement)(v.TextControl,{"aria-label":(0,y.__)("Enter your email","templates-patterns-collection"),type:"email",value:oe,onChange:le,className:"tpc-email-input"})),"done"===R&&se&&(0,a.createElement)("span",{style:{display:"block",marginBottom:"60px"}})):(0,a.createElement)(a.Fragment,null,(0,a.createElement)((()=>(0,a.createElement)("div",{className:"header"},(0,a.createElement)("p",{className:"description"},(0,y.__)("Import the entire site including customizer options, pages, content and plugins.","templates-patterns-collection")))),null),(0,a.createElement)((()=>(0,a.createElement)(D,{data:q,externalInstalled:Ee})),null),(0,a.createElement)(v.Panel,{className:"modal-toggles"},!1!==o&&(0,a.createElement)((()=>{const e=h()("option-row","active"),{icon:t,title:n,tooltip:r}={icon:"admin-appearance",title:(0,y.__)("Neve","templates-patterns-collection"),tooltip:(0,y.__)("In order to import the starter site, Neve theme has to be installed and activated.","templates-patterns-collection")};return(0,a.createElement)(v.PanelBody,{onToggle:()=>{ee(!X)},opened:X,className:"options general",title:(0,y.__)("Install required theme","templates-patterns-collection")},(0,a.createElement)(v.PanelRow,{className:e},(0,a.createElement)(v.Icon,{icon:t}),(0,a.createElement)("span",null,n),r&&(0,a.createElement)(Ge,null,r)))}),null),(0,a.createElement)((()=>{let e={content:{title:(0,y.__)("Content","templates-patterns-collection"),icon:"admin-post",tooltip:(0,y.__)("We recommend you backup your website content before attempting a full site import.","templates-patterns-collection")},customizer:{title:(0,y.__)("Customizer","templates-patterns-collection"),icon:"admin-customizer"},widgets:{title:(0,y.__)("Widgets","templates-patterns-collection"),icon:"admin-generic",tooltip:(0,y.__)("Widgets will be moved to the Inactive Widgets sidebar and can be retrieved from there.","templates-patterns-collection")},performanceAddon:{title:(0,y.__)("Enable performance features for my site","templates-patterns-collection"),icon:"dashboard",tooltip:(0,g.createInterpolateElement)((0,y.sprintf)(
// translators: %s is Optimole plugin name.
// translators: %s is Optimole plugin name.
(0,y.__)("Optimize and speed up your site with our trusted addon, <a><span>%s</span><icon/></a>. It’s free.","templates-patterns-collection"),(0,y.__)("Optimole","templates-patterns-collection")),{a:(0,a.createElement)("a",{href:"https://wordpress.org/plugins/optimole-wp/",target:"_blank",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"},rel:"noreferrer"}),icon:(0,a.createElement)(v.Icon,{size:10,icon:"external",style:{marginLeft:0}}),span:(0,a.createElement)("div",null)})}};return"yes"===ae&&(e={cleanup:{icon:"trash",title:(0,y.__)("Cleanup previous import","templates-patterns-collection"),tooltip:(0,y.__)("This will remove any plugins, images, customizer options, widgets posts and pages added by the previous demo import","templates-patterns-collection")},...e}),(0,a.createElement)(v.PanelBody,{onToggle:()=>{Z(!K)},opened:K,className:"options general",title:(0,y.__)("Import settings","templates-patterns-collection")},Object.keys(e).map(((t,n)=>{const r=h()("option-row",{active:s[t]}),{icon:o,title:l,tooltip:c}=e[t];return(0,a.createElement)(v.PanelRow,{className:r,key:n},(0,a.createElement)(v.Icon,{icon:o}),(0,a.createElement)("span",null,l),c&&(0,a.createElement)(Ge,{toLeft:["performanceAddon","cleanup"].includes(t),rightOffset:"cleanup"===t?-90:0},c),"theme_install"!==t&&(0,a.createElement)("div",{className:"toggle-wrapper"},(0,a.createElement)(v.ToggleControl,{checked:s[t],onChange:()=>{i({...s,[t]:!s[t]})}})))})))}),null),(0,a.createElement)((()=>{if(Y)return null;const e={...q.recommended_plugins||{},...q.mandatory_plugins||{}};if(Object.keys(e).length<1)return null;const[t,n]=(0,g.useState)(Object.keys(e).length<3),r=Object.keys(e).map(((t,n)=>e[t])).join(", ");return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.PanelBody,{onToggle:()=>{n(!t)},opened:t,className:"options plugins",title:(0,y.__)("Plugins","templates-patterns-collection")},Object.keys(e).map(((t,n)=>{const r=h()("option-row",{active:$[t]});return(0,a.createElement)(v.PanelRow,{className:r,key:n},(0,a.createElement)(v.Icon,{icon:"admin-plugins"}),(0,a.createElement)("span",{dangerouslySetInnerHTML:{__html:e[t]}}),t in q.recommended_plugins&&(0,a.createElement)("div",{className:"toggle-wrapper"},(0,a.createElement)(v.ToggleControl,{checked:$[t],onChange:()=>{H({...$,[t]:!$[t]})}})))}))),!t&&(0,a.createElement)("i",{className:"plugin-summary"},(0,a.createElement)(Ge,{toLeft:!1},(0,a.createElement)("span",{dangerouslySetInnerHTML:{__html:r}})),(0,y.__)("Additional plugins are required for this Starter Site in order to work properly.","templates-patterns-collection")))}),null)))),!U&&(0,a.createElement)("div",{className:"modal-footer"},"done"!==R?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Button,{className:"import-templates",isLink:!0,onClick:l},(0,y.__)("I want to import just the templates","templates-patterns-collection")),!G&&(0,a.createElement)(v.Button,{className:"import",isPrimary:!0,disabled:_e||!Ee,onClick:()=>{V(!0),function(){if(console.clear(),!s.cleanup)return console.log("[S] Cleanup."),pe(),!1;var e;z("cleanup"),console.log("[P] Cleanup."),(e={},S(T.root+"/cleanup",e)).then((e=>{if(!e.success)return be(e,"cleanup"),!1;console.log("[D] Cleanup."),b("done"),pe()})).catch((e=>be(e,"cleanup")))}()}},(0,y.__)("Import entire site","templates-patterns-collection"))):(0,a.createElement)("div",{className:"import-done-actions"},(0,a.createElement)(v.Button,{isLink:!0,className:h()("close",{"is-grayed":!se}),disabled:ce,onClick:()=>{se?window.location.href=we:(me(!0),Ce(we,{isTempSkip:!0}))}},ke),(0,a.createElement)(v.Button,{isPrimary:!0,className:"import import-full-w",disabled:ce,onClick:()=>{se?window.location.href=c:(me(!0),""!==oe.trim()?fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:"templates-patterns-collection",site:c,email:oe})}).then((e=>e.json())).then((e=>{"success"===e.code&&Ce(c)}))?.catch((e=>{console.error(e),Ce(c,{isTempSkip:!0})})):Ce(c,{isTempSkip:!0}))}},Se)))))})),Qe=(0,f.compose)((0,p.withDispatch)((e=>{const{setSingleTemplateImport:t,setImportModalStatus:n,setTemplateModal:a}=e("neve-onboarding");return{cancel:()=>{t(null)},setModal:e=>n(e),setTemplateModal:a}})),(0,p.withSelect)((e=>{const{getTemplateModal:t,getCurrentSite:n,getCurrentEditor:a}=e("neve-onboarding");return{templateModal:t(),site:n(),editor:a()}})))((({slug:e,cancel:t,setModal:n,site:r,editor:o,setTemplateModal:l,templateModal:s})=>{const[i,c]=(0,g.useState)([]),[m,u]=(0,g.useState)(!0),[p,d]=(0,g.useState)(""),[h,f]=(0,g.useState)([]),{title:b,upsell:E,utmOutboundLink:_}=r;(0,g.useEffect)((()=>{w()}),[]);const w=()=>{te(!0,{per_page:100,template_site_slug:e,premade:!0,type:o}).then((e=>{c(e.templates||[]),u(!1)}))},S=e=>{d(e)},k=e=>{f(e),l(!0)},C=e=>{k([e])},N=e=>{e.preventDefault(),n(!0)},T=i.findIndex((e=>e.link===p)),O=i.find((e=>e.link===p));return(0,a.createElement)("div",{className:"single-templates-wrapper"},(0,a.createElement)("div",{className:"top"},(0,a.createElement)("div",{className:"breadcrumb"},(0,a.createElement)(v.Button,{isTertiary:!0,onClick:t},(0,a.createElement)(v.Icon,{icon:z}),(0,y.__)("Back to Starter Sites","templates-patterns-collection"))),(0,a.createElement)("div",{className:"header"},(0,a.createElement)("div",{className:"text"},(0,a.createElement)("h1",null,b||"",E&&(0,a.createElement)("span",{className:"pro-badge"},(0,a.createElement)(v.Icon,{icon:"lock"}),(0,a.createElement)("span",null,(0,y.__)("Premium","templates-patterns-collection")))),(0,a.createElement)("p",{className:"description"},(0,y.__)("You can import individual pages or bulk-import all of them.","templates-patterns-collection"))),(0,a.createElement)("div",{className:"actions"},!E&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Button,{isSecondary:!0,onClick:N},(0,y.__)("Import Starter Site","templates-patterns-collection")),(0,a.createElement)(v.Button,{isPrimary:!0,disabled:i.length<1,onClick:e=>{e.preventDefault(),k(i)}},(0,y.__)("Import All Pages","templates-patterns-collection"))),E&&(0,a.createElement)(v.Button,{href:_||tiobDash.upgradeURL,isSecondary:!0},(0,y.__)("Upgrade","templates-patterns-collection"))))),(0,a.createElement)((()=>m?(0,a.createElement)(v.Spinner,null):i.length<1?(0,y.__)("No templates for this starter site.","templates-patterns-collection"):(0,a.createElement)("div",{className:"cloud-items is-grid"},(0,a.createElement)("div",{className:"table"},i.map((e=>(0,a.createElement)(se,{upsell:E,onPreview:S,userTemplate:!1,key:e.template_id,item:e,loadTemplates:w,onImport:()=>C(e),grid:!0})))))),null),p&&(0,a.createElement)(ve,{heading:O.template_name||null,previewUrl:p,leftButtons:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Button,{icon:F,onClick:()=>d(""),label:(0,y.__)("Close","templates-patterns-collection")}),i.length>1&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Button,{icon:(0,y.isRTL)()?R:z,onClick:()=>{let e=T-1;0===T&&(e=i.length-1),d(i[e].link)}}),(0,a.createElement)(v.Button,{icon:(0,y.isRTL)()?z:R,onClick:()=>{let e=T+1;T===i.length-1&&(e=0),d(i[e].link)}}))),rightButtons:(0,a.createElement)(a.Fragment,null,!E&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Button,{isSecondary:!0,onClick:N},(0,y.__)("Import Starter Site","templates-patterns-collection")),(0,a.createElement)(v.Button,{isPrimary:!0,disabled:i.length<1,onClick:()=>C(O)},(0,y.__)("Import Page","templates-patterns-collection"))),E&&(0,a.createElement)(v.Button,{href:_||tiobDash.upgradeURL,isSecondary:!0},(0,y.__)("Upgrade","templates-patterns-collection")))}),s&&h&&!m&&h.length>0&&(0,a.createElement)(xe,{templatesData:h}))})),Ye=e=>{const{title:t,description:n,children:r,cardHeader:o,cardBottom:l,classNames:s}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:h()(["card",s])},(0,a.createElement)("div",{className:"card-header"},t&&(0,a.createElement)("h3",{className:"title"},t),o),(0,a.createElement)("div",{className:"card-content"},n&&(0,a.createElement)("p",{className:"card-description"},n),r),l&&(0,a.createElement)("div",{className:"card-bottom"},l)))},Je=(0,f.compose)((0,p.withDispatch)((e=>{const{setLicense:t}=e("neve-onboarding");return{setLicense:t}})),(0,p.withSelect)((e=>{const{getLicense:t}=e("neve-onboarding");return{license:t()}})))((({setLicense:e,license:t})=>{const n=""!==t?.key&&"free"!==t?.key?t?.key:"",[r,o]=(0,g.useState)(n),[l,s]=(0,g.useState)(!1),[i,c]=(0,g.useState)({}),m="valid"===t?.valid||"valid"===t?.license,u=e=>{const t="templates_patterns_collection_license",n=new Z.models.Settings({[t]:e});return new Promise((a=>{n.save().then((n=>{n&&!n[t]!==e||a({success:!1}),a({success:!0})}))}))},p=new Date((new Date).setFullYear((new Date).getFullYear()+10)),d=m&&"lifetime"===t?.expires?p.toDateString():new Date(t.expires).toDateString(),h=m?(0,a.createElement)(a.Fragment,null,(0,a.createElement)(v.Icon,{size:24,className:"verified",icon:"yes-alt"}),(0,a.createElement)("span",null,"Verified - Expires at"," ",d)):"",f=Object.keys(i).length>0?(0,a.createElement)(v.Notice,{isDismissible:!1,status:i.type},i.message):"";return(0,a.createElement)(Ye,{classNames:"license",description:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("span",null,"Enter your license from "),(0,a.createElement)(v.ExternalLink,{href:"https://store.themeisle.com/login/"},"Themeisle"),(0,a.createElement)("span",null," purchase history in order to get plugin updates")),children:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("form",{className:"license-form",onSubmit:t=>{(async t=>{if(s(!0),"deactivate"===t.action)return e({key:"free",valid:"invalid",expiration:"",tier:0}),o(""),await u(""),void s(!1);const{success:n,templates:a}=await te(!1,{license_id:t.key,license_check:1});var r,l;n?(e(a),await u(t.key)):(r="error",l=(0,y.__)("Can not activate this license!","templates-patterns-collection"),c({type:r,message:l}),new Promise((e=>setTimeout(e,3e3))).then((()=>c({})))),s(!1)})({action:m?"deactivate":"activate",key:r}),t.preventDefault()}},(0,a.createElement)(v.TextControl,{disabled:m,onChange:o,label:(0,y.__)("License Key","templates-patterns-collection"),value:m?"******************************"+r.slice(-5):r}),(0,a.createElement)(v.Button,{className:"components-button is-primary",disabled:l,type:"submit",variant:"primary"},m?(0,y.__)("Deactivate","templates-patterns-collection"):(0,y.__)("Activate","templates-patterns-collection"))),(0,a.createElement)("div",{className:"info"},h),f)})})),Ke=({setCurrentTab:e,currentTab:t,isFetching:n,license:r})=>{const o={};tiobDash.hideStarterSites||(o.starterSites=(0,y.__)("Starter Sites","templates-patterns-collection"),o.pageTemplates=(0,y.__)("Page Templates","templates-patterns-collection")),tiobDash.hideMyLibrary||(o.library=(0,y.__)("My Library","templates-patterns-collection")),o.settings=(0,y.__)("Settings","templates-patterns-collection");const[l,s]=(0,g.useState)(!1),{isLicenseOpen:i,setLicenseOpen:c}=(0,g.useContext)(Ie),m=()=>{const t=(e=>{let t=window.location.hash;return"string"!=typeof window.location.hash?null:(t=t.substring(1),Object.keys(e).includes(t)?t:null)})(o);if(null===t)return;let n=document.getElementById("toplevel_page_neve-welcome");n||(n=document.getElementById("menu-appearance"));const a=document.getElementById("toplevel_page_tiob-plugin"),r=["#pageTemplates","#settings"].map((e=>({hash:e,item:n.querySelector(`a[href="themes.php?page=tiob-starter-sites${e}"]`)||n.querySelector(`a[href="admin.php?page=tiob-starter-sites${e}"]`)||a.querySelector(`a[href="admin.php?page=tiob-plugin${e}"]`)})));if(r.reduce(((e,t)=>t?.item?++e:e),0)===r.length)for(let e in r){const n=r[e];if(n.hash.replace("#","")===t){let e=n.item.parentElement.parentElement.children;for(let t of e)t.classList.remove("current");n.item.parentElement.classList.add("current")}}e(t)};return(0,g.useEffect)((()=>{m(),window.addEventListener("hashchange",m)}),[]),(0,a.createElement)("div",{className:"header-nav"},"starterSites"!==t&&"settings"!==t&&!tiobDash.hideMyLibrary&&(0,a.createElement)(v.Button,{icon:ne,onClick:()=>{s(!0),localStorage.setItem("tpcCacheBuster",K());const n=t;e(null),setTimeout((()=>{e(n),s(!1)}),100)},label:(0,y.__)("Re-sync Library","templates-patterns-collection"),className:h()("is-icon-btn",{"is-loading":l}),disabled:n||l,"data-content":(0,y.__)("Sync","templates-patterns-collection")}))},Ze=e=>{let t=!1;["starterSites","pageTemplates"].includes(e.currentTab)&&!tiobDash.brandedTheme&&(t=!0);let n=(0,y.__)("Templates Cloud","templates-patterns-collection");switch(e.currentTab){case"starterSites":n=(0,y.__)("Starter Sites","templates-patterns-collection");break;case"pageTemplates":n=(0,y.__)("Page Templates","templates-patterns-collection");break;case"library":n=(0,y.__)("My Library","templates-patterns-collection");break;case"settings":n=(0,y.__)("Settings","templates-patterns-collection")}return(0,a.createElement)("h2",null,t&&(0,a.createElement)(v.Icon,{icon:Me}),!t&&(0,a.createElement)(v.Icon,{icon:De}),(0,a.createElement)("span",null,n))},Xe=(0,f.compose)((0,p.withDispatch)((e=>{const{setOnboardingState:t,setCurrentTab:n,setFetching:a}=e("neve-onboarding");return{cancelOnboarding:()=>{t(!1)},setCurrentTab:n,setFetching:a}})),(0,p.withSelect)((e=>{const{getOnboardingStatus:t,getCurrentTab:n,getFetching:a,getLicense:r}=e("neve-onboarding");return{isOnboarding:t(),currentTab:n(),isFetching:a(),license:r()}})))((({isOnboarding:e,cancelOnboarding:t,setCurrentTab:n,currentTab:r,license:o})=>(0,a.createElement)("div",{className:"ob-head"},!e&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"header-container"},(0,a.createElement)(Ze,{currentTab:r}),(0,a.createElement)(Ke,{setCurrentTab:n,currentTab:r,license:o}))),e&&(0,a.createElement)(v.Button,{className:"close-onboarding",isLink:!0,icon:"no-alt",onClick:t}))));var et=n(563),tt=n.n(et);const nt=(0,f.compose)((0,p.withDispatch)(((e,{data:t})=>{const{slug:n}=t,{setCurrentSite:a,setPreviewStatus:r,setImportModalStatus:o,setSingleTemplateImport:l}=e("neve-onboarding");return{setSite:()=>a(t),setPreview:e=>r(e),setModal:e=>o(e),setImportingPages:()=>l(n)}})))((({data:e,setSite:t,setPreview:n,setModal:r,setImportingPages:o})=>{const{upsell:l,screenshot:s,title:i,has_templates:c,isNew:m}=e,[u,p]=(0,g.useState)(""),d=h()("card starter-site-card",{"has-templates":c});return(0,a.createElement)("div",{onMouseEnter:()=>{p("visible")},onMouseLeave:()=>{p("")},className:d},m&&(0,a.createElement)("span",{className:"new-badge"},(0,y.__)("New","templates-patterns-collection").toUpperCase()),(0,a.createElement)("div",{className:"top"},(0,a.createElement)("div",{className:"actions "+u},(0,a.createElement)(v.Button,{isSecondary:!0,onClick:e=>{e.preventDefault(),t(),n(!0)}},(0,y.__)("Preview","templates-patterns-collection")),!l&&(0,a.createElement)(v.Button,{isPrimary:!0,className:"import",onClick:e=>{e.preventDefault(),t(),r(!0)}},(0,y.__)("Import","templates-patterns-collection")),!c&&l&&(0,a.createElement)(v.Button,{isLink:!0,className:"templates",target:"_blank",href:"https://themeisle.com/themes/neve/upgrade/?utm_medium=nevedashboard&utm_source=wpadmin&utm_campaign=templatecloud&utm_content=neve"},(0,y.__)("Unlock access with Business plan","templates-patterns-collection")),c&&(0,a.createElement)(v.Button,{isLink:!0,className:"templates",onClick:e=>{e.preventDefault(),t(),o()}},(0,y.__)("View Pages","templates-patterns-collection"))),s&&(0,a.createElement)("div",{className:"image",style:{backgroundImage:`url("${s}")`}})),(0,a.createElement)("div",{className:"bottom"},(0,a.createElement)("p",{className:"title"},i),l&&(0,a.createElement)("span",{className:"pro-badge"},(0,a.createElement)(v.Dashicon,{icon:"lock",size:15}),(0,a.createElement)("span",null,(0,y.__)("Premium","templates-patterns-collection")))))})),at=(0,f.compose)((0,p.withSelect)((e=>{const{getCurrentSite:t}=e("neve-onboarding");return{siteData:t()}})),(0,p.withDispatch)((e=>{const{setCurrentSite:t,setPreviewStatus:n,setImportModalStatus:a}=e("neve-onboarding");return{setSite:e=>t(e),setPreview:e=>n(e),setModal:e=>a(e)}})))((({next:e,prev:t,siteData:n,setSite:r,setPreview:o,setModal:l})=>(0,a.createElement)("div",{className:"ob-preview"},(0,a.createElement)("div",{className:"preview"},(0,a.createElement)("iframe",{src:n.url,frameBorder:"0"}),(0,a.createElement)("div",{className:"loading"},(0,a.createElement)(v.Dashicon,{icon:"update",size:50}))),(0,a.createElement)("div",{className:"bottom-bar"},(0,a.createElement)("div",{className:"navigator"},(0,a.createElement)(v.Button,{onClick:e=>{e.preventDefault(),o(!1),r(null)},className:"close",label:(0,y.__)("Close","templates-patterns-collection"),icon:F}),t&&(0,a.createElement)(v.Button,{onClick:e=>{e.preventDefault(),r(t)},className:"prev",label:(0,y.__)("Previous","templates-patterns-collection"),icon:(0,y.isRTL)()?R:z}),e&&(0,a.createElement)(v.Button,{onClick:t=>{t.preventDefault(),r(e)},className:"next",label:(0,y.__)("Next","templates-patterns-collection"),icon:(0,y.isRTL)()?z:R})),(0,a.createElement)("div",{className:"actions"},n.upsell?(0,a.createElement)(v.Button,{className:"upgrade",isPrimary:!0,href:n.utmOutboundLink||tiobDash.upgradeURL},(0,y.__)("Upgrade and Import","templates-patterns-collection")):(0,a.createElement)(v.Button,{className:"import",isPrimary:!0,onClick:e=>{e.preventDefault(),l(!0)}},(0,y.__)("Import","templates-patterns-collection"))))))),rt=({editor:e,data:t})=>{const{text:n,cta:r,url:o}=t;return(0,a.createElement)((()=>(0,a.createElement)("div",{className:"notification"},(0,a.createElement)("p",null,n),o&&r&&(0,a.createElement)(v.Button,{target:"_blank",isSecondary:!0,href:o.replace("<builder_name>",e).replace(" ","")},r))),null)},ot=(0,f.compose)((0,p.withSelect)((e=>{const{getCurrentCategory:t,getCurrentEditor:n,getSearchQuery:a}=e("neve-onboarding");return{editor:n(),category:t(),query:a()}})),(0,p.withDispatch)((e=>{const{setCurrentCategory:t,setCurrentEditor:n,setSearchQuery:a}=e("neve-onboarding");return{setCurrentCategory:e=>t(e),setCurrentEditor:e=>n(e),onSearch:e=>a(e)}})))((({count:e,categories:t,editors:n,onSearch:r,category:o,editor:l,onlyProSites:s,setCurrentCategory:i,setCurrentEditor:c,query:m,className:u,showCount:p=!1})=>{const[d,f]=(0,g.useState)(!1),E=()=>f(!d),_=h()(u,"header-form");return(0,a.createElement)("div",{className:_},(0,a.createElement)("div",{className:"search"},(0,a.createElement)("img",{src:tiobDash.assets+"/img/search.svg",alt:(0,y.__)("Search Icon")}),(0,a.createElement)("input",{onChange:e=>{r(e.target.value)},type:"search",value:m,placeholder:(0,y.__)("Search for a starter site","templates-patterns-collection")+"..."}),b,(0,a.createElement)((()=>(0,a.createElement)("div",{className:"ob-dropdown categories-selector"},(0,a.createElement)(v.Button,{onClick:E,className:"select ob-dropdown"},(0,a.createElement)("span",{className:"label-editor"},(0,a.createElement)("span",{className:"icon-wrap"},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+n[l].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")})),s.includes(l)&&(0,a.createElement)(v.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px",marginLeft:"0"}}),n[l].niceName),(0,a.createElement)(v.Dashicon,{size:14,icon:d?"arrow-up-alt2":"arrow-down-alt2"}),d&&(0,a.createElement)(v.Popover,{position:"bottom center",onClose:E,inline:!0,noArrow:!0},d&&(0,a.createElement)("ul",{className:"options"},Object.keys(n).map(((t,r)=>t===l?null:(0,a.createElement)("li",{key:r},(0,a.createElement)("a",{href:"#",onClick:e=>{e.preventDefault(),c(t),f(!1)}},(0,a.createElement)("span",{className:"label-editor"},(0,a.createElement)("span",{className:"icon-wrap"},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+n[t].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")})),s.includes(t)&&(0,a.createElement)(v.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px"}}),n[t].niceName),p&&(0,a.createElement)("span",{className:"count"},e[t])))))))))),null)))})),lt=((0,f.compose)((0,p.withSelect)((e=>{const{getCurrentEditor:t,getSites:n}=e("neve-onboarding");return{editor:t(),sites:n().sites}})),(0,p.withDispatch)((e=>{const{setCurrentEditor:t}=e("neve-onboarding");return{setCurrentEditor:e=>t(e)}})))((({EDITOR_MAP:e,count:t,onlyProSites:n,editor:r,setCurrentEditor:o,sites:l})=>{const s=Object.keys(l);return(0,a.createElement)("div",{className:"editor-tabs"},s.map(((l,s)=>{const i=h()(["tab",l,{active:l===r}]);return(0,a.createElement)("a",{key:s,href:"#",className:i,onClick:e=>{e.preventDefault(),o(l)}},(0,a.createElement)("span",{className:"icon-wrap"},(0,a.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+e[l].icon,alt:(0,y.__)("Builder Logo","templates-patterns-collection")})),(0,a.createElement)("span",{className:"editor"},n.includes(l)&&(0,a.createElement)(v.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px"}}),e[l].niceName),(0,a.createElement)("span",{className:"count"},t[l]))})))})),(0,f.compose)((0,p.withSelect)((e=>{const{getCurrentCategory:t}=e("neve-onboarding");return{category:t()}})),(0,p.withDispatch)((e=>{const{setCurrentCategory:t}=e("neve-onboarding");return{setCurrentCategory:e=>t(e)}})))((({categories:e,count:t,category:n,setCurrentCategory:r,showCount:o=!1})=>(0,a.createElement)("div",{className:"editor-tabs"},Object.keys(e).map(((l,s)=>{if(1>t[l])return null;if(tiobDash&&"1"===tiobDash.isValidLicense&&"free"===l)return null;const i=h()(["tab",l,{active:l===n}]);return(0,a.createElement)("a",{key:s,href:"#",className:i,onClick:e=>{e.preventDefault(),r(l)}},(0,a.createElement)("span",{className:"editor"},e[l]),o&&(0,a.createElement)("span",{className:"count"},t[l]))})))))),st=(0,f.compose)((0,p.withSelect)((e=>{const{getCurrentCategory:t}=e("neve-onboarding");return{category:t()}})),(0,p.withDispatch)((e=>{const{setCurrentCategory:t}=e("neve-onboarding");return{setCurrentCategory:e=>t(e)}})))((({categories:e,count:t,category:n,setCurrentCategory:r,showCount:o=!1})=>{const[l,s]=(0,g.useState)(!1),i=()=>s(!l),c=h()(["ob-dropdown","editor-selector",{small:!0}]);return(0,a.createElement)("div",{className:c},(0,a.createElement)(v.Button,{onClick:i,className:"select ob-dropdown"},(0,a.createElement)("span",null,e[n]),(0,a.createElement)("span",{className:"count"},o?t[n]:""),(0,a.createElement)(v.Dashicon,{size:14,icon:l?"arrow-up-alt2":"arrow-down-alt2"}),l&&(0,a.createElement)(v.Popover,{position:"bottom center",onClose:i,inline:!0,noArrow:!0},l&&(0,a.createElement)("ul",{className:"options"},Object.keys(e).map(((l,i)=>l===n||tiobDash&&"1"===tiobDash.isValidLicense&&"free"===l||1>t[l]?null:(0,a.createElement)("li",{key:i},(0,a.createElement)("a",{href:"#",onClick:e=>{e.preventDefault(),r(l),s(!1)}},(0,a.createElement)("span",null,e[l]),o&&(0,a.createElement)("span",{className:"count"},t[l])))))))))})),it=(0,f.compose)((0,p.withDispatch)((e=>{const{setOnboardingState:t,setCurrentCategory:n,setCurrentTab:a}=e("neve-onboarding");return{cancelOnboarding:()=>{t(!1)},resetCategory:()=>{n("all")},setCurrentTab:a}})),(0,p.withSelect)((e=>{const{getCurrentEditor:t,getCurrentCategory:n,getOnboardingStatus:a,getSites:r}=e("neve-onboarding");return{editor:t(),category:n(),isOnboarding:a(),getSites:r()}})))((({filterByCategory:e,filterBySearch:t,getSitesForBuilder:n,isOnboarding:r,getSites:o,category:l,editor:s})=>{const[i,c]=(0,g.useState)(!1),{sites:m={},migration:u}=o,p={top:i?0:"-100%"},d=Object.keys(m),h=d.filter((e=>Object.keys(m[e]).filter((t=>!0===m[e][t].upsell)).length===Object.keys(m[e]).length)),f=(()=>{const a={builders:{},categories:{}};return d.forEach((r=>{let o=n(r);o=e(o,l),o=t(o),a.builders[r]=o?o.length:0})),Object.keys(_).forEach((r=>{let o=n(s);o=e(o,r),o=t(o),a.categories[r]=o?o.length:0})),a})(),y=50<=n(s).length;return(0,a.createElement)(a.Fragment,null,!r&&!u&&(0,a.createElement)("div",{className:"sticky-nav",style:p},(0,a.createElement)("div",{className:"container sticky-nav-content"},!tiobDash.brandedTheme&&(0,a.createElement)(v.Icon,{icon:De,size:32}),(0,a.createElement)(ot,{className:"in-sticky",count:f.builders,categories:_,editors:w,onlyProSites:h,showCount:y}),b,(0,a.createElement)(st,{count:f.categories,categories:_,showCount:y}))),(0,a.createElement)(A(),{onChange:e=>{c(!e)}},(0,a.createElement)("div",null,!r&&(0,a.createElement)("p",{className:"instructions"},tiobDash.strings.starterSitesTabDescription),b,(0,a.createElement)(st,{count:f.categories,categories:_,showCount:y}),(0,a.createElement)(ot,{count:f.builders,categories:_,editors:w,onlyProSites:h,showCount:y}),b,(0,a.createElement)(lt,{categories:_,count:f.categories,showCount:y}),!tiobDash.isValidLicense&&(0,a.createElement)(rt,{data:tiobDash.upsellNotifications.upsell_1,editor:s}))))})),ct=(0,f.compose)((0,p.withDispatch)((e=>{const{setOnboardingState:t,setCurrentCategory:n,setCurrentTab:a,setSearchQuery:r}=e("neve-onboarding");return{cancelOnboarding:()=>{t(!1)},resetCategory:()=>{n("all")},setCurrentTab:a,setSearchQuery:r}})),(0,p.withSelect)((e=>{const{getCurrentEditor:t,getCurrentCategory:n,getPreviewStatus:a,getCurrentSite:r,getImportModalStatus:o,getOnboardingStatus:l,getSites:s,getInstallModalStatus:i,getCurrentTab:c,getSearchQuery:m}=e("neve-onboarding");return{editor:t(),category:n(),previewOpen:a(),currentSiteData:r(),importModal:o(),installModal:i(),isOnboarding:l(),getSites:s(),currentTab:c(),searchQuery:m()}})))((({getSites:e,category:t,resetCategory:n,editor:r,previewOpen:o,currentSiteData:l,isOnboarding:s,cancelOnboarding:i,setSearchQuery:c,searchQuery:m})=>{const{sites:u={}}=e,p=()=>{const e={};return f().forEach((t=>{const n=u&&u[t]?u[t]:{};e[t]=[...Object.values(n)]})),e},d=(e,t)=>"free"===t?e.filter((e=>!e.upsell)):"all"!==t?e.filter((e=>e.keywords.includes(t))):e,h=e=>m?new(tt())(e,{includeScore:!0,keys:["title","slug","keywords"]}).search(m).map((e=>e.item)):e,f=()=>Object.keys(u),b=()=>{let e=p()[r];return e=h(e),e=d(e,t),e},_=(e=!1)=>{if(null===l)return null;const t=p()[r],n=t.indexOf(l);return-1===n||1===t.length?null:e&&0===n?t[t.length-1]:e||n!==t.length-1?t[e?n-1:n+1]:t[0]};return 1>u.length?(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",null,(0,y.__)("Starter sites could not be loaded. Please refresh and try again.","templates-patterns-collection"),s&&(0,a.createElement)(v.Button,{style:{display:"block",margin:"20px auto"},isPrimary:!0,onClick:i},(0,y.__)("Close","templates-patterns-collection")))):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(it,{getSitesForBuilder:e=>p()[e],filterBySearch:h,filterByCategory:d}),0===b().length&&(0,a.createElement)("div",{className:"no-results"},(0,a.createElement)("p",null,(0,y.__)("No results found.","templates-patterns-collection")," ",(0,y.__)("You can try a different search or use one of the categories below.","templates-patterns-collection")),(0,a.createElement)("div",{className:"tags"},E.map(((e,t)=>(0,a.createElement)(v.Button,{key:t,isPrimary:!0,className:"tag",onClick:t=>{t.preventDefault(),c(e),n()}},e))))),(0,a.createElement)((()=>{const[e,t]=(0,g.useState)(9),n=b();return(0,a.createElement)("div",{className:"ob-sites is-grid"},n.slice(0,e).map(((e,t)=>(0,a.createElement)(nt,{key:t,data:e}))),(0,a.createElement)(A(),{onChange:n=>{if(!n)return!1;t(e+9)}},(0,a.createElement)("span",{style:{height:10,width:10,display:"block"}})))}),null),o&&l&&(0,a.createElement)(at,{next:_(),prev:_(!0)}))})),mt=()=>{const e={error:(0,y.__)("There was a problem submitting your feedback.","templates-patterns-collection"),emptyFeedback:(0,y.__)("Please provide a feedback before submitting the form.","templates-patterns-collection"),submitted:(0,y.__)("Thank you for helping us improve Templates Cloud!","templates-patterns-collection")},{version:t}=window.tiobDash,n=[{name:(0,y.__)("Plugin version","templates-patterns-collection"),value:t},{name:(0,y.__)("Feedback Details","templates-patterns-collection"),value:(0,y.__)("Text from the above text area","templates-patterns-collection")}],[r,o]=(0,g.useState)(!1),[l,s]=(0,g.useState)("notSubmitted"),[i,c]=(0,g.useState)("");return(0,g.useEffect)((()=>{const e=document.querySelector(".tiob_feedback_collect.info");e&&(e.style.height=r?"180px":"0")}),[r]),(0,a.createElement)("div",{className:"tiob-feedback-form"},(0,a.createElement)("h3",null,(0,y.__)("What's one thing you need in Templates Cloud?","templates-patterns-collection")),(0,a.createElement)(v.TextareaControl,{className:h()({feedback_details:!0,invalid:"emptyFeedback"===l}),placeholder:(0,y.__)("Tell us how can we help you better with Templates Cloud","templates-patterns-collection"),value:i,help:e[l]||!1,rows:7,cols:50,onChange:e=>{c(e),5<e.trim().length&&s("notSubmitted")}}),(0,a.createElement)("div",{className:"tiob_feedback_collect info"},(0,a.createElement)("div",{className:"wrapper"},(0,a.createElement)("p",null,(0,y.__)("We value privacy, that's why no domain name, email address or IP addresses are collected after you submit the survey. Below is a detailed view of all data that Themeisle will receive if you fill in this survey.","templates-patterns-collection")),n.map(((e,t)=>(0,a.createElement)("div",{className:"info-row",key:t},(0,a.createElement)("p",null,(0,a.createElement)("b",null,e.name)),(0,a.createElement)("p",null,e.value)))))),(0,a.createElement)(v.Flex,{direction:"row-reverse",align:"left",justify:"space-between",style:{height:"auto"}},(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Button,{isPrimary:!0,onClick:()=>{const e=i.trim();if(5>=e.length)s("emptyFeedback");else{s("loading");try{fetch("https://api.themeisle.com/tracking/feedback",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json, */*;q=0.1","Cache-Control":"no-cache"},body:JSON.stringify({slug:"templates-patterns-collection",version:t,feedback:e,data:{"feedback-area":"template-patterns-collection-page-templates","feedback-option":"other"}})}).then((e=>{e.ok?s("submitted"):s("error")}))?.catch((e=>{console.warn(e.message),s("error")}))}catch(e){console.warn(e.message),s("error")}}},disabled:"loading"===l},"loading"===l?(0,a.createElement)(v.Spinner,null):(0,y.__)("Submit feedback","templates-patterns-collection"))),(0,a.createElement)(v.FlexItem,null,(0,a.createElement)(v.Button,{className:"toggle-info","aria-expanded":r,variant:"link",isLink:!0,onClick:()=>o(!r)},(0,y.__)("What info do we collect?","templates-patterns-collection")))))},ut=()=>{const[e,t]=(0,g.useState)("general"),n=[{id:"general",label:(0,y.__)("General","templates-patterns-collection")},{id:"feedback",label:(0,y.__)("Feedback","templates-patterns-collection")}],{links:r}=window.tiobDash;return(0,g.useEffect)((()=>{const e=Object.fromEntries(new URLSearchParams(location.search));e?.tab&&n.find((t=>t.id===e.tab))&&t(e.tab)}),[]),(0,a.createElement)("div",{className:"tiob-settings"},(0,a.createElement)("div",{className:"panel"},(0,a.createElement)("div",{className:"setting-tabs"},n.map((n=>{const r=h()(["tab",{active:n.id===e}]);return(0,a.createElement)(v.Button,{key:n.id,className:r,isLink:!0,onClick:()=>{t(n.id)}},n.label)}))),(0,a.createElement)("div",{className:"tab-content"},"general"===e&&(0,a.createElement)(Je,null),"feedback"===e&&(0,a.createElement)(mt,null))),(0,a.createElement)("div",{className:"panel is-secondary"},(0,a.createElement)("h3",null,(0,y.__)("Useful links","templates-patterns-collection")),(0,a.createElement)("div",{className:"links"},r&&r.map((e=>{const t=e?.is_button||!1,n=e?.is_external||!1;return t?(0,a.createElement)(v.Button,{isSecondary:!0,href:e?.url||"#"},e?.label||""):n?(0,a.createElement)(v.ExternalLink,{href:e?.url||"#"},e?.label||""):(0,a.createElement)("a",{href:e?.url||"#",target:e?.target||"_blank"},e?.label||"")})))))};function pt(){const[e,t]=(0,g.useState)(!0),{show:n,ajaxURL:r,nonce:o}=window.tiobDash.newTCNotice;return n&&e?(0,a.createElement)("div",{className:"tiob-new-tc-notice"},(0,a.createElement)("div",null,(0,a.createElement)("p",null,(0,y.__)("We've launched a dedicated Templates Cloud plugin that offers advanced permission controls and additional features. Try it out from your Themeisle account.","templates-patterns-collection")),(0,a.createElement)("p",{className:"description"},(0,y.__)("If you already have templates saved in the cloud, you can still use them in this plugin.","templates-patterns-collection"))),(0,a.createElement)(v.Button,{size:"compact",className:"dismiss",icon:F,iconSize:20,label:(0,y.__)("Dismiss","templates-patterns-collection"),onClick:()=>{N(r,"dismiss_new_tc_notice",o).then((e=>{console.log(e),t(!1)})).catch((e=>{console.error(e)}))}})):null}const dt=(0,f.compose)((0,p.withDispatch)((e=>{const{setOnboardingState:t,setCurrentCategory:n,setCurrentTab:a}=e("neve-onboarding");return{cancelOnboarding:()=>{t(!1)},resetCategory:()=>{n("all")},setCurrentTab:a}})),(0,p.withSelect)((e=>{const{getCurrentEditor:t,getCurrentCategory:n,getPreviewStatus:a,getCurrentSite:r,getImportModalStatus:o,getOnboardingStatus:l,getSites:s,getInstallModalStatus:i,getCurrentTab:c,getSingleImport:m}=e("neve-onboarding");return{editor:t(),category:n(),previewOpen:a(),currentSiteData:r(),importModal:o(),installModal:i(),isOnboarding:l(),getSites:s(),currentTab:c(),singleImport:m()}})))((({getSites:e,installModal:t,currentTab:n,singleImport:r,importModal:o,currentSiteData:l,isOnboarding:s})=>{const{migration:i}=e;return(0,a.createElement)(g.Fragment,null,(0,a.createElement)("div",{className:"ob"},(0,a.createElement)(Xe,null),(0,a.createElement)("div",{className:"ob-body"},(0,a.createElement)("div",{className:"content-container"},["library","settings"].includes(n)&&(0,a.createElement)(pt,null),i&&(0,a.createElement)(L,{data:i}),"starterSites"===n&&(r?(0,a.createElement)(Qe,{slug:r}):(0,a.createElement)(ct,null)),"library"===n&&(0,a.createElement)(Fe,null),"pageTemplates"===n&&(0,a.createElement)(Fe,{isGeneral:!0}),"settings"===n&&(0,a.createElement)(ut,null)))),o&&l&&(0,a.createElement)(qe,null))})),ht=(0,p.withSelect)((e=>{const{getOnboardingStatus:t,getUserStatus:n}=e("neve-onboarding");return{onboarding:t(),userStatus:n()}}))((({onboarding:e,userStatus:t})=>{if(e&&tiobDash.onboardingAllowed)return void(window.location.href=tiobDash.onboardingRedirect);const n=h()(["content-wrap","starter-sites",{"is-onboarding":e,"is-free":!t}]),[r,o]=(0,g.useState)(!1),l={isLicenseOpen:r,setLicenseOpen:o};return(0,a.createElement)(Ie.Provider,{value:l},(0,a.createElement)("div",{className:"tiob-wrap"},(0,a.createElement)("div",{className:n},(0,a.createElement)("div",{className:"container content"},(0,a.createElement)("div",{className:"main"},(0,a.createElement)("div",{className:"tab-content columns starter-sites"},(0,a.createElement)(dt,null)))))))}));(0,p.registerStore)("neve-onboarding",{reducer:(e=m,t)=>{switch(t.type){case"REFRESH_SITES":const{sites:n}=t.payload;return{...e,sites:n};case"SET_CURRENT_EDITOR":const{editor:a}=t.payload;return localStorage.setItem("neve-onboarding-editor",a),{...e,editor:a};case"SET_CURRENT_CATEGORY":const{category:r}=t.payload;return{...e,category:r};case"SET_FOCUSED_SITE":const{siteData:o}=t.payload;return{...e,currentSite:o};case"SET_PREVIEW_STATUS":const{previewStatus:l}=t.payload;return{...e,previewStatus:l};case"SET_IMPORT_MODAL_STATUS":const{importModalStatus:s}=t.payload;return{...e,importModalStatus:s};case"SET_INSTALL_MODAL_STATUS":const{installModalStatus:i}=t.payload;return{...e,installModalStatus:i};case"SET_ONBOARDING":const{status:c}=t.payload;return{...e,isOnboarding:c};case"SET_THEME_ACTIONS":const{themeActions:m}=t.payload;return{...e,themeAction:m};case"SET_CURRENT_TAB":const{currentTab:u}=t.payload;return{...e,singleTemplateImport:null,currentTab:u};case"SET_FETCHING":const{fetching:p}=t.payload;return{...e,fetching:p};case"SET_SINGLE_TEMPLATE_IMPORT":const{slug:d}=t.payload;return{...e,singleTemplateImport:d};case"SET_TEMPLATE_MODAL":const{data:h}=t.payload;return{...e,templateModal:h};case"SET_SEARCH_QUERY":const{query:g}=t.payload;return{...e,searchQuery:g};case"SET_LICENSE":const{license:f}=t.payload;return{...e,license:f}}return e},actions:u,selectors:{getSites:e=>e.sites,getMigrationData:e=>e.migrationData,getCurrentEditor:e=>e.editor,getCurrentCategory:e=>e.category,getCurrentSite:e=>e.currentSite,getPreviewStatus:e=>e.previewStatus,getImportModalStatus:e=>e.importModalStatus,getOnboardingStatus:e=>e.isOnboarding,getThemeAction:e=>e.themeAction,getInstallModalStatus:e=>e.installModalStatus,getCurrentTab:e=>e.currentTab,getFetching:e=>e.fetching,getSingleImport:e=>e.singleTemplateImport,getTemplateModal:e=>e.templateModal,getSearchQuery:e=>e.searchQuery,getUserStatus:e=>e.license&&e.license.tier&&[6,17,23,5,9,14,20,1,7,12,18,3,8,13,19].includes(e.license.tier),getLicense:e=>e.license}}),(0,g.render)((0,a.createElement)(ht,null),document.getElementById("tpc-app"))},485:(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var l=r.apply(null,n);l&&e.push(l)}else if("object"===o)for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},454:e=>{"use strict";var t="%[a-f0-9]{2}",n=new RegExp(t,"gi"),a=new RegExp("("+t+")+","gi");function r(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),a=e.slice(t);return Array.prototype.concat.call([],r(n),r(a))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n),a=1;a<t.length;a++)t=(e=r(t,a).join("")).match(n);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var l=Object.keys(t),s=0;s<l.length;s++){var i=l[s];e=e.replace(new RegExp(i,"g"),t[i])}return e}(e)}}},563:function(e){var t;t=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function a(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=i(e);if(t){var r=i(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,n)}}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e){return Array.isArray?Array.isArray(e):"[object Array]"===b(e)}function h(e){return"string"==typeof e}function g(e){return"number"==typeof e}function f(t){return"object"===e(t)}function v(e){return null!=e}function y(e){return!e.trim().length}function b(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var E=Object.prototype.hasOwnProperty,_=function(){function e(n){var a=this;t(this,e),this._keys=[],this._keyMap={};var r=0;n.forEach((function(e){var t=w(e);r+=t.weight,a._keys.push(t),a._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return a(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function w(e){var t=null,n=null,a=null,r=1;if(h(e)||d(e))a=e,t=S(e),n=k(e);else{if(!E.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var o=e.name;if(a=o,E.call(e,"weight")&&(r=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(o));t=S(o),n=k(o)}return{path:t,id:n,weight:r,src:a}}function S(e){return d(e)?e:e.split(".")}function k(e){return d(e)?e.join("."):e}var C=l({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var n=[],a=!1;return function e(t,r,o){if(v(t))if(r[o]){var l=t[r[o]];if(!v(l))return;if(o===r.length-1&&(h(l)||g(l)||function(e){return!0===e||!1===e||function(e){return f(e)&&null!==e}(e)&&"[object Boolean]"==b(e)}(l)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(l));else if(d(l)){a=!0;for(var s=0,i=l.length;s<i;s+=1)e(l[s],r,o+1)}else r.length&&e(l,r,o+1)}else n.push(t)}(e,h(t)?t.split("."):t,0),a?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),N=/[^ ]+/g,T=function(){function e(){var n=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).getFn,a=void 0===n?C.getFn:n;t(this,e),this.norm=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=new Map,n=Math.pow(10,e);return{get:function(e){var a=e.match(N).length;if(t.has(a))return t.get(a);var r=1/Math.sqrt(a),o=parseFloat(Math.round(r*n)/n);return t.set(a,o),o},clear:function(){t.clear()}}}(3),this.getFn=a,this.isCreated=!1,this.setIndexRecords()}return a(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,h(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();h(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(v(e)&&!y(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,a={i:t,$:{}};this.keys.forEach((function(t,r){var o=n.getFn(e,t.path);if(v(o))if(d(o))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:o}];t.length;){var l=t.pop(),s=l.nestedArrIndex,i=l.value;if(v(i))if(h(i)&&!y(i)){var c={v:i,i:s,n:n.norm.get(i)};e.push(c)}else d(i)&&i.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}a.$[r]=e}();else if(!y(o)){var l={v:o,n:n.norm.get(o)};a.$[r]=l}})),this.records.push(a)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function O(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).getFn,a=void 0===n?C.getFn:n,r=new T({getFn:a});return r.setKeys(e.map(w)),r.setSources(t),r.create(),r}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,a=void 0===n?0:n,r=t.currentLocation,o=void 0===r?0:r,l=t.expectedLocation,s=void 0===l?0:l,i=t.distance,c=void 0===i?C.distance:i,m=t.ignoreLocation,u=void 0===m?C.ignoreLocation:m,p=a/e.length;if(u)return p;var d=Math.abs(s-o);return c?p+d/c:d?1:p}function M(e){for(var t={},n=0,a=e.length;n<a;n+=1){var r=e.charAt(n);t[r]=(t[r]||0)|1<<a-n-1}return t}var D=function(){function e(n){var a=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.location,l=void 0===o?C.location:o,s=r.threshold,i=void 0===s?C.threshold:s,c=r.distance,m=void 0===c?C.distance:c,u=r.includeMatches,p=void 0===u?C.includeMatches:u,d=r.findAllMatches,h=void 0===d?C.findAllMatches:d,g=r.minMatchCharLength,f=void 0===g?C.minMatchCharLength:g,v=r.isCaseSensitive,y=void 0===v?C.isCaseSensitive:v,b=r.ignoreLocation,E=void 0===b?C.ignoreLocation:b;if(t(this,e),this.options={location:l,threshold:i,distance:m,includeMatches:p,findAllMatches:h,minMatchCharLength:f,isCaseSensitive:y,ignoreLocation:E},this.pattern=y?n:n.toLowerCase(),this.chunks=[],this.pattern.length){var _=function(e,t){a.chunks.push({pattern:e,alphabet:M(e),startIndex:t})},w=this.pattern.length;if(w>32){for(var S=0,k=w%32,N=w-k;S<N;)_(this.pattern.substr(S,32),S),S+=32;if(k){var T=w-32;_(this.pattern.substr(T),T)}}else _(this.pattern,0)}}return a(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,a=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var r={isMatch:!0,score:0};return a&&(r.indices=[[0,e.length-1]]),r}var o=this.options,l=o.location,s=o.distance,i=o.threshold,c=o.findAllMatches,m=o.minMatchCharLength,p=o.ignoreLocation,d=[],h=0,g=!1;this.chunks.forEach((function(t){var n=t.pattern,r=t.alphabet,o=t.startIndex,f=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=a.location,o=void 0===r?C.location:r,l=a.distance,s=void 0===l?C.distance:l,i=a.threshold,c=void 0===i?C.threshold:i,m=a.findAllMatches,u=void 0===m?C.findAllMatches:m,p=a.minMatchCharLength,d=void 0===p?C.minMatchCharLength:p,h=a.includeMatches,g=void 0===h?C.includeMatches:h,f=a.ignoreLocation,v=void 0===f?C.ignoreLocation:f;if(t.length>32)throw new Error("Pattern length exceeds max of ".concat(32,"."));for(var y,b=t.length,E=e.length,_=Math.max(0,Math.min(o,E)),w=c,S=_,k=d>1||g,N=k?Array(E):[];(y=e.indexOf(t,S))>-1;){var T=x(t,{currentLocation:y,expectedLocation:_,distance:s,ignoreLocation:v});if(w=Math.min(T,w),S=y+b,k)for(var O=0;O<b;)N[y+O]=1,O+=1}S=-1;for(var M=[],D=1,I=b+E,P=1<<b-1,L=0;L<b;L+=1){for(var j=0,A=I;j<A;)x(t,{errors:L,currentLocation:_+A,expectedLocation:_,distance:s,ignoreLocation:v})<=w?j=A:I=A,A=Math.floor((I-j)/2+j);I=A;var B=Math.max(1,_-A+1),F=u?E:Math.min(_+A,E)+b,R=Array(F+2);R[F+1]=(1<<L)-1;for(var z=F;z>=B;z-=1){var U=z-1,V=n[e.charAt(U)];if(k&&(N[U]=+!!V),R[z]=(R[z+1]<<1|1)&V,L&&(R[z]|=(M[z+1]|M[z])<<1|1|M[z+1]),R[z]&P&&(D=x(t,{errors:L,currentLocation:U,expectedLocation:_,distance:s,ignoreLocation:v}))<=w){if(w=D,(S=U)<=_)break;B=Math.max(1,2*_-S)}}if(x(t,{errors:L+1,currentLocation:_,expectedLocation:_,distance:s,ignoreLocation:v})>w)break;M=R}var $={isMatch:S>=0,score:Math.max(.001,D)};if(k){var H=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.minMatchCharLength,n=[],a=-1,r=-1,o=0,l=e.length;o<l;o+=1){var s=e[o];s&&-1===a?a=o:s||-1===a||((r=o-1)-a+1>=t&&n.push([a,r]),a=-1)}return e[o-1]&&o-a>=t&&n.push([a,o-1]),n}(N,d);H.length?g&&($.indices=H):$.isMatch=!1}return $}(e,n,r,{location:l+o,distance:s,threshold:i,findAllMatches:c,minMatchCharLength:m,includeMatches:a,ignoreLocation:p}),v=f.isMatch,y=f.score,b=f.indices;v&&(g=!0),h+=y,v&&b&&(d=[].concat(u(d),u(b)))}));var f={isMatch:g,score:g?h/this.chunks.length:1};return g&&a&&(f.indices=d),f}}]),e}(),I=function(){function e(n){t(this,e),this.pattern=n}return a(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return P(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return P(e,this.singleRegex)}}]),e}();function P(e,t){var n=e.match(t);return n?n[1]:null}var L=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),r}(I),j=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),r}(I),A=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),r}(I),B=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),r}(I),F=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),r}(I),R=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),r}(I),z=function(e){s(r,e);var n=m(r);function r(e){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=o.location,s=void 0===l?C.location:l,i=o.threshold,c=void 0===i?C.threshold:i,m=o.distance,u=void 0===m?C.distance:m,p=o.includeMatches,d=void 0===p?C.includeMatches:p,h=o.findAllMatches,g=void 0===h?C.findAllMatches:h,f=o.minMatchCharLength,v=void 0===f?C.minMatchCharLength:f,y=o.isCaseSensitive,b=void 0===y?C.isCaseSensitive:y,E=o.ignoreLocation,_=void 0===E?C.ignoreLocation:E;return t(this,r),(a=n.call(this,e))._bitapSearch=new D(e,{location:s,threshold:c,distance:u,includeMatches:d,findAllMatches:g,minMatchCharLength:v,isCaseSensitive:b,ignoreLocation:_}),a}return a(r,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),r}(I),U=function(e){s(r,e);var n=m(r);function r(e){return t(this,r),n.call(this,e)}return a(r,[{key:"search",value:function(e){for(var t,n=0,a=[],r=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+r,a.push([t,n-1]);var o=!!a.length;return{isMatch:o,score:o?0:1,indices:a}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),r}(I),V=[L,U,A,B,R,F,j,z],$=V.length,H=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/,G=new Set([z.type,U.type]),W=function(){function e(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.isCaseSensitive,o=void 0===r?C.isCaseSensitive:r,l=a.includeMatches,s=void 0===l?C.includeMatches:l,i=a.minMatchCharLength,c=void 0===i?C.minMatchCharLength:i,m=a.ignoreLocation,u=void 0===m?C.ignoreLocation:m,p=a.findAllMatches,d=void 0===p?C.findAllMatches:p,h=a.location,g=void 0===h?C.location:h,f=a.threshold,v=void 0===f?C.threshold:f,y=a.distance,b=void 0===y?C.distance:y;t(this,e),this.query=null,this.options={isCaseSensitive:o,includeMatches:s,minMatchCharLength:c,findAllMatches:d,ignoreLocation:u,location:g,threshold:v,distance:b},this.pattern=o?n:n.toLowerCase(),this.query=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(H).filter((function(e){return e&&!!e.trim()})),a=[],r=0,o=n.length;r<o;r+=1){for(var l=n[r],s=!1,i=-1;!s&&++i<$;){var c=V[i],m=c.isMultiMatch(l);m&&(a.push(new c(m,t)),s=!0)}if(!s)for(i=-1;++i<$;){var u=V[i],p=u.isSingleMatch(l);if(p){a.push(new u(p,t));break}}}return a}))}(this.pattern,this.options)}return a(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,a=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var r=0,o=[],l=0,s=0,i=t.length;s<i;s+=1){var c=t[s];o.length=0,r=0;for(var m=0,p=c.length;m<p;m+=1){var d=c[m],h=d.search(e),g=h.isMatch,f=h.indices,v=h.score;if(!g){l=0,r=0,o.length=0;break}if(r+=1,l+=v,a){var y=d.constructor.type;G.has(y)?o=[].concat(u(o),u(f)):o.push(f)}}if(r){var b={isMatch:!0,score:l/r};return a&&(b.indices=o),b}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),q=[];function Q(e,t){for(var n=0,a=q.length;n<a;n+=1){var r=q[n];if(r.condition(e,t))return new r(e,t)}return new D(e,t)}var Y="$and",J="$path",K=function(e){return!(!e[Y]&&!e.$or)},Z=function(e){return r({},Y,Object.keys(e).map((function(t){return r({},t,e[t])})))};function X(e,t){var n=e.matches;t.matches=[],v(n)&&n.forEach((function(e){if(v(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function ee(e,t){t.score=e.score}var te=function(){function e(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;t(this,e),this.options=l({},C,{},a),this.options.useExtendedSearch,this._keyStore=new _(this.options.keys),this.setCollection(n,r)}return a(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof T))throw new Error("Incorrect 'index' type");this._myIndex=t||O(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){v(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,a=this._docs.length;n<a;n+=1){var r=this._docs[n];e(r,n)&&(this.removeAt(n),n-=1,a-=1,t.push(r))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).limit,n=void 0===t?-1:t,a=this.options,r=a.includeMatches,o=a.includeScore,l=a.shouldSort,s=a.sortFn,i=a.ignoreFieldNorm,c=h(e)?h(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return function(e,t){var n=t.ignoreFieldNorm,a=void 0===n?C.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,r=e.norm,o=e.score,l=n?n.weight:null;t*=Math.pow(0===o&&l?Number.EPSILON:o,(l||1)*(a?1:r))})),e.score=t}))}(c,{ignoreFieldNorm:i}),l&&c.sort(s),g(n)&&n>-1&&(c=c.slice(0,n)),function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.includeMatches,r=void 0===a?C.includeMatches:a,o=n.includeScore,l=void 0===o?C.includeScore:o,s=[];return r&&s.push(X),l&&s.push(ee),e.map((function(e){var n=e.idx,a={item:t[n],refIndex:n};return s.length&&s.forEach((function(t){t(e,a)})),a}))}(c,this._docs,{includeMatches:r,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=Q(e,this.options),n=this._myIndex.records,a=[];return n.forEach((function(e){var n=e.v,r=e.i,o=e.n;if(v(n)){var l=t.searchIn(n),s=l.isMatch,i=l.score,c=l.indices;s&&a.push({item:n,idx:r,matches:[{score:i,value:n,norm:o,indices:c}]})}})),a}},{key:"_searchLogical",value:function(e){var t=this,n=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).auto,a=void 0===n||n;return K(e)||(e=Z(e)),function e(n){var r=Object.keys(n),o=function(e){return!!e[J]}(n);if(!o&&r.length>1&&!K(n))return e(Z(n));if(function(e){return!d(e)&&f(e)&&!K(e)}(n)){var l=o?n[J]:r[0],s=o?n.$val:n[l];if(!h(s))throw new Error(function(e){return"Invalid value for key ".concat(e)}(l));var i={keyId:k(l),pattern:s};return a&&(i.searcher=Q(s,t)),i}var c={children:[],operator:r[0]};return r.forEach((function(t){var a=n[t];d(a)&&a.forEach((function(t){c.children.push(e(t))}))})),c}(e)}(e,this.options),a=this._myIndex.records,r={},o=[];return a.forEach((function(e){var a=e.$,l=e.i;if(v(a)){var s=function e(n,a,r){if(!n.children){var o=n.keyId,l=n.searcher,s=t._findMatches({key:t._keyStore.get(o),value:t._myIndex.getValueForItemAtKeyId(a,o),searcher:l});return s&&s.length?[{idx:r,item:a,matches:s}]:[]}switch(n.operator){case Y:for(var i=[],c=0,m=n.children.length;c<m;c+=1){var p=e(n.children[c],a,r);if(!p.length)return[];i.push.apply(i,u(p))}return i;case"$or":for(var d=[],h=0,g=n.children.length;h<g;h+=1){var f=e(n.children[h],a,r);if(f.length){d.push.apply(d,u(f));break}}return d}}(n,a,l);s.length&&(r[l]||(r[l]={idx:l,item:a,matches:[]},o.push(r[l])),s.forEach((function(e){var t,n=e.matches;(t=r[l].matches).push.apply(t,u(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=Q(e,this.options),a=this._myIndex,r=a.keys,o=a.records,l=[];return o.forEach((function(e){var a=e.$,o=e.i;if(v(a)){var s=[];r.forEach((function(e,r){s.push.apply(s,u(t._findMatches({key:e,value:a[r],searcher:n})))})),s.length&&l.push({idx:o,item:a,matches:s})}})),l}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,a=e.searcher;if(!v(n))return[];var r=[];if(d(n))n.forEach((function(e){var n=e.v,o=e.i,l=e.n;if(v(n)){var s=a.searchIn(n),i=s.isMatch,c=s.score,m=s.indices;i&&r.push({score:c,key:t,value:n,idx:o,norm:l,indices:m})}}));else{var o=n.v,l=n.n,s=a.searchIn(o),i=s.isMatch,c=s.score,m=s.indices;i&&r.push({score:c,key:t,value:o,norm:l,indices:m})}return r}}]),e}();return te.version="6.4.6",te.createIndex=O,te.parseIndex=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).getFn,n=void 0===t?C.getFn:t,a=e.keys,r=e.records,o=new T({getFn:n});return o.setKeys(a),o.setIndexRecords(r),o},te.config=C,function(){q.push.apply(q,arguments)}(W),te},e.exports=t()},663:(e,t,n)=>{"use strict";const a=n(280),r=n(454),o=n(528);function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function s(e,t){return t.encode?t.strict?a(e):encodeURIComponent(e):e}function i(e,t){return t.decode?r(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function m(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function d(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,a)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):a[e]=n};case"bracket":return(e,n,a)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==a[e]?a[e]=[].concat(a[e],n):a[e]=[n]:a[e]=n};case"comma":case"separator":return(t,n,a)=>{const r="string"==typeof n&&n.includes(e.arrayFormatSeparator),o="string"==typeof n&&!r&&i(n,e).includes(e.arrayFormatSeparator);n=o?i(n,e):n;const l=r||o?n.split(e.arrayFormatSeparator).map((t=>i(t,e))):null===n?n:i(n,e);a[t]=l};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;for(const r of e.split("&")){let[e,l]=o(t.decode?r.replace(/\+/g," "):r,"=");l=void 0===l?null:["comma","separator"].includes(t.arrayFormat)?l:i(l,t),n(i(e,t),l,a)}for(const e of Object.keys(a)){const n=a[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else a[e]=p(n,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce(((e,t)=>{const n=a[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=c(n):e[t]=n,e}),Object.create(null))}t.extract=u,t.parse=d,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],a=function(e){switch(e.arrayFormat){case"index":return t=>(n,a)=>{const r=n.length;return void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[s(t,e),"[",r,"]"].join("")]:[...n,[s(t,e),"[",s(r,e),"]=",s(a,e)].join("")]};case"bracket":return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,[s(t,e),"[]"].join("")]:[...n,[s(t,e),"[]=",s(a,e)].join("")];case"comma":case"separator":return t=>(n,a)=>null==a||0===a.length?n:0===n.length?[[s(t,e),"=",s(a,e)].join("")]:[[n,s(a,e)].join(e.arrayFormatSeparator)];default:return t=>(n,a)=>void 0===a||e.skipNull&&null===a||e.skipEmptyString&&""===a?n:null===a?[...n,s(t,e)]:[...n,[s(t,e),"=",s(a,e)].join("")]}}(t),r={};for(const t of Object.keys(e))n(t)||(r[t]=e[t]);const o=Object.keys(r);return!1!==t.sort&&o.sort(t.sort),o.map((n=>{const r=e[n];return void 0===r?"":null===r?s(n,t):Array.isArray(r)?r.reduce(a(n),[]).join("&"):s(n,t)+"="+s(r,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,a]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:d(u(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:i(a,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const a=m(e.url).split("?")[0]||"",r=t.extract(e.url),o=t.parse(r,{sort:!1}),l=Object.assign(o,e.query);let i=t.stringify(l,n);i&&(i=`?${i}`);let c=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(c=`#${s(e.fragmentIdentifier,n)}`),`${a}${i}${c}`}},832:function(e,t,n){var a;a=function(e,t){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t,n){var a=e.direction,r=e.value;switch(a){case"top":return n.top+r<t.top&&n.bottom>t.bottom&&n.left<t.left&&n.right>t.right;case"left":return n.left+r<t.left&&n.bottom>t.bottom&&n.top<t.top&&n.right>t.right;case"bottom":return n.bottom-r>t.bottom&&n.left<t.left&&n.right>t.right&&n.top<t.top;case"right":return n.right-r>t.right&&n.left<t.left&&n.top<t.top&&n.bottom>t.bottom}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(1),r=n.n(a),o=n(2),l=n.n(o),s=n(0),i=n.n(s),c=n(3),m=n.n(c);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){return g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},g(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){function t(e){var n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=d(t).call(this,e),n=!a||"object"!==u(a)&&"function"!=typeof a?h(this):a,f(h(n),"getContainer",(function(){return n.props.containment||window})),f(h(n),"addEventListener",(function(e,t,a,r){var o;n.debounceCheck||(n.debounceCheck={});var l=function(){o=null,n.check()},s={target:e,fn:r>-1?function(){o||(o=setTimeout(l,r||0))}:function(){clearTimeout(o),o=setTimeout(l,a||0)},getLastTimeout:function(){return o}};e.addEventListener(t,s.fn),n.debounceCheck[t]=s})),f(h(n),"startWatching",(function(){n.debounceCheck||n.interval||(n.props.intervalCheck&&(n.interval=setInterval(n.check,n.props.intervalDelay)),n.props.scrollCheck&&n.addEventListener(n.getContainer(),"scroll",n.props.scrollDelay,n.props.scrollThrottle),n.props.resizeCheck&&n.addEventListener(window,"resize",n.props.resizeDelay,n.props.resizeThrottle),!n.props.delayedCall&&n.check())})),f(h(n),"stopWatching",(function(){if(n.debounceCheck)for(var e in n.debounceCheck)if(n.debounceCheck.hasOwnProperty(e)){var t=n.debounceCheck[e];clearTimeout(t.getLastTimeout()),t.target.removeEventListener(e,t.fn),n.debounceCheck[e]=null}n.debounceCheck=null,n.interval&&(n.interval=clearInterval(n.interval))})),f(h(n),"check",(function(){var e,t,a=n.node;if(!a)return n.state;if(e=function(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}(n.roundRectDown(a.getBoundingClientRect())),n.props.containment){var r=n.props.containment.getBoundingClientRect();t={top:r.top,left:r.left,bottom:r.bottom,right:r.right}}else t={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var o=n.props.offset||{};"object"===u(o)&&(t.top+=o.top||0,t.left+=o.left||0,t.bottom-=o.bottom||0,t.right-=o.right||0);var l={top:e.top>=t.top,left:e.left>=t.left,bottom:e.bottom<=t.bottom,right:e.right<=t.right},s=e.height>0&&e.width>0,i=s&&l.top&&l.left&&l.bottom&&l.right;if(s&&n.props.partialVisibility){var c=e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left;"string"==typeof n.props.partialVisibility&&(c=l[n.props.partialVisibility]),i=n.props.minTopValue?c&&e.top<=t.bottom-n.props.minTopValue:c}"string"==typeof o.direction&&"number"==typeof o.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",o.direction,o.value),i=m()(o,e,t));var p=n.state;return n.state.isVisible!==i&&(p={isVisible:i,visibilityRect:l},n.setState(p),n.props.onChange&&n.props.onChange(i)),p})),n.state={isVisible:null,visibilityRect:{}},n}var n,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.node=l.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(e){this.node=l.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):r.a.Children.only(this.props.children)}}])&&p(n.prototype,a),t}(r.a.Component);f(v,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:r.a.createElement("span",null)}),f(v,"propTypes",{onChange:i.a.func,active:i.a.bool,partialVisibility:i.a.oneOfType([i.a.bool,i.a.oneOf(["top","right","bottom","left"])]),delayedCall:i.a.bool,offset:i.a.oneOfType([i.a.shape({top:i.a.number,left:i.a.number,bottom:i.a.number,right:i.a.number}),i.a.shape({direction:i.a.oneOf(["top","right","bottom","left"]),value:i.a.number})]),scrollCheck:i.a.bool,scrollDelay:i.a.number,scrollThrottle:i.a.number,resizeCheck:i.a.bool,resizeDelay:i.a.number,resizeThrottle:i.a.number,intervalCheck:i.a.bool,intervalDelay:i.a.number,containment:"undefined"!=typeof window?i.a.instanceOf(window.Element):i.a.any,children:i.a.oneOfType([i.a.element,i.a.func]),minTopValue:i.a.number})},function(e,t,n){"use strict";var a=n(6);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,l){if(l!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=a(n(609),n(795))},528:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},280:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},609:e=>{"use strict";e.exports=window.React},795:e=>{"use strict";e.exports=window.ReactDOM}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,n,r,o)=>{if(!n){var l=1/0;for(m=0;m<e.length;m++){for(var[n,r,o]=e[m],s=!0,i=0;i<n.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(s=!1,o<l&&(l=o));if(s){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var m=e.length;m>0&&e[m-1][2]>o;m--)e[m]=e[m-1];e[m]=[n,r,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={524:0,431:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[l,s,i]=n,c=0;if(l.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(i)var m=i(a)}for(t&&t(n);c<l.length;c++)o=l[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(m)},n=globalThis.webpackChunktemplates_patterns_collection=globalThis.webpackChunktemplates_patterns_collection||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=a.O(void 0,[431],(()=>a(791)));r=a.O(r)})();