(()=>{var e={485:(e,t)=>{var a;!function(){"use strict";var r={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var i=typeof a;if("string"===i||"number"===i)e.push(a);else if(Array.isArray(a)&&a.length){var l=n.apply(null,a);l&&e.push(l)}else if("object"===i)for(var o in a)r.call(a,o)&&a[o]&&e.push(o)}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(a=function(){return n}.apply(t,[]))||(e.exports=a)}()},454:e=>{"use strict";var t="%[a-f0-9]{2}",a=new RegExp(t,"gi"),r=new RegExp("("+t+")+","gi");function n(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var a=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],n(a),n(r))}function i(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(a),r=1;r<t.length;r++)t=(e=n(t,r).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},a=r.exec(e);a;){try{t[a[0]]=decodeURIComponent(a[0])}catch(e){var n=i(a[0]);n!==a[0]&&(t[a[0]]=n)}a=r.exec(e)}t["%C2"]="�";for(var l=Object.keys(t),o=0;o<l.length;o++){var s=l[o];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},663:(e,t,a)=>{"use strict";const r=a(280),n=a(454),i=a(528);function l(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?n(e):e}function c(e){return Array.isArray(e)?e.sort():"object"==typeof e?c(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function m(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=m(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function d(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function u(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const a=function(e){let t;switch(e.arrayFormat){case"index":return(e,a,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return(e,a,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};case"comma":case"separator":return(t,a,r)=>{const n="string"==typeof a&&a.includes(e.arrayFormatSeparator),i="string"==typeof a&&!n&&s(a,e).includes(e.arrayFormatSeparator);a=i?s(a,e):a;const l=n||i?a.split(e.arrayFormatSeparator).map((t=>s(t,e))):null===a?a:s(a,e);r[t]=l};default:return(e,t,a)=>{void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const n of e.split("&")){let[e,l]=i(t.decode?n.replace(/\+/g," "):n,"=");l=void 0===l?null:["comma","separator"].includes(t.arrayFormat)?l:s(l,t),a(s(e,t),l,r)}for(const e of Object.keys(r)){const a=r[e];if("object"==typeof a&&null!==a)for(const e of Object.keys(a))a[e]=d(a[e],t);else r[e]=d(a,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const a=r[t];return Boolean(a)&&"object"==typeof a&&!Array.isArray(a)?e[t]=c(a):e[t]=a,e}),Object.create(null))}t.extract=p,t.parse=u,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const a=a=>t.skipNull&&null==e[a]||t.skipEmptyString&&""===e[a],r=function(e){switch(e.arrayFormat){case"index":return t=>(a,r)=>{const n=a.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[o(t,e),"[",n,"]"].join("")]:[...a,[o(t,e),"[",o(n,e),"]=",o(r,e)].join("")]};case"bracket":return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,[o(t,e),"[]"].join("")]:[...a,[o(t,e),"[]=",o(r,e)].join("")];case"comma":case"separator":return t=>(a,r)=>null==r||0===r.length?a:0===a.length?[[o(t,e),"=",o(r,e)].join("")]:[[a,o(r,e)].join(e.arrayFormatSeparator)];default:return t=>(a,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?a:null===r?[...a,o(t,e)]:[...a,[o(t,e),"=",o(r,e)].join("")]}}(t),n={};for(const t of Object.keys(e))a(t)||(n[t]=e[t]);const i=Object.keys(n);return!1!==t.sort&&i.sort(t.sort),i.map((a=>{const n=e[a];return void 0===n?"":null===n?o(a,t):Array.isArray(n)?n.reduce(r(a),[]).join("&"):o(a,t)+"="+o(n,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[a,r]=i(e,"#");return Object.assign({url:a.split("?")[0]||"",query:u(p(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,a)=>{a=Object.assign({encode:!0,strict:!0},a);const r=m(e.url).split("?")[0]||"",n=t.extract(e.url),i=t.parse(n,{sort:!1}),l=Object.assign(i,e.query);let s=t.stringify(l,a);s&&(s=`?${s}`);let c=function(e){let t="";const a=e.indexOf("#");return-1!==a&&(t=e.slice(a)),t}(e.url);return e.fragmentIdentifier&&(c=`#${o(e.fragmentIdentifier,a)}`),`${r}${s}${c}`}},528:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const a=e.indexOf(t);return-1===a?[e]:[e.slice(0,a),e.slice(a+t.length)]}},280:e=>{"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React;var t=a(485),r=a.n(t);const n=window.wp.components,i=window.wp.element;var l,o=a(663),s=new Uint8Array(16);function c(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(s)}const m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=[],d=0;d<256;++d)p.push((d+256).toString(16).substr(1));const u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&m.test(e)}(a))throw TypeError("Stringified UUID is invalid");return a},g=function(e,t,a){var r=(e=e||{}).random||(e.rng||c)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(var n=0;n<16;++n)t[a+n]=r[n];return t}return u(r)},w=window.wp.apiFetch;var h=a.n(w);const y=window.wp.data,b=(e,t)=>{t(e),e?.elements?.forEach((e=>{b(e,t)}))},f=e=>elementor.notifications.showToast({message:e}),v=async(e={})=>{const{meta:t,...a}=tiTpc.params,{isScroll:r,...n}=e,i={cache:localStorage.getItem("tpcCacheBuster"),...a,per_page:20,page:0,premade:!0,template_site_slug:"general",...n},l=(0,o.stringifyUrl)({url:window.tiTpc.endpoint+"page-templates",query:i});try{const t=await h()({url:l,method:"GET",parse:!1});if(t.ok){const a=await t.json();if(a.message)return f(a.message);let r=a;e.isScroll&&(r=[...(0,y.select)("tpc/elementor").getTemplates().items,...a]);const n=t.headers.get("x-wp-totalpages"),l=i.page;(0,y.dispatch)("tpc/elementor").updateTemplates(r,l,n)}}catch(e){e.message&&f(e.message)}},E=async(e={})=>{const{meta:t,...a}=tiTpc.params,{isScroll:r,...n}=e,i={per_page:20,page:0,...n},l=(0,o.stringifyUrl)({url:window.tiTpc.endpoint+"templates",query:{cache:localStorage.getItem("tpcCacheBuster"),...a,...i}});try{const t=await h()({url:l,method:"GET",parse:!1});if(t.ok){const a=await t.json();if(a.message)return f(a.message);let r=a;e.isScroll&&(r=[...(0,y.select)("tpc/elementor").getLibrary().items,...a]);const n=t.headers.get("x-wp-totalpages"),l=i.page;(0,y.dispatch)("tpc/elementor").updateLibrary(r,l,n)}}catch(e){e.message&&f(e.message)}},_=async e=>{const{meta:t,...a}=tiTpc.params,r=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e}`,query:{cache:localStorage.getItem("tpcCacheBuster"),...a}});try{const e=await h()({url:r,method:"GET",parse:!1});if(e.ok){const t=await e.json();return!t.message&&t}}catch(e){return!1}},T=async e=>{const{meta:t,...a}=tiTpc.params,{content:r,...n}=e,i=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e.template_id}`,query:{cache:localStorage.getItem("tpcCacheBuster"),...a,meta:JSON.stringify(tiTpc.params.meta),...n}});try{const t={url:i,method:"POST",parse:!1};if(e.content){const a={title:elementor.config.initial_document.settings.settings.post_title||"",version:"0.4",type:"page",content:e.content};t.data=a}const a=await h()({...t});if(a.ok){const e=await a.json();if(e.message)return f(e.message)}localStorage.setItem("tpcCacheBuster",g()),await E()}catch(e){e.message&&f(e.message)}},N=async({title:e,type:t,content:a,link:r="",callback:n=()=>{}})=>{const i={version:"0.4",title:e,type:t,content:a},{meta:l,...s}=window.tiTpc.params,c=elementor.documents.getCurrent().container.settings.get("template");c&&(l._wp_page_template=c);const m=(0,o.stringifyUrl)({url:window.tiTpc.endpoint+"templates",query:{...s,meta:"page"===t?JSON.stringify(l):"",template_name:e||window.tiTpc.exporter.textPlaceholder,template_type:"elementor",link:r}});try{const e=await h()({url:m,method:"POST",data:i,parse:!1});if(e.ok){const t=await e.json();t.message?f(t.message):(n(t),window.localStorage.setItem("tpcCacheBuster",g()),f(window.tiTpc.exporter.templateSaved))}}catch(e){e.message&&f(e.message)}},C=async e=>{if(void 0!==window.tiTpc.postModel)return;let t;t="page"===window.tiTpc.postType?await new wp.api.models.Page({id:e}):await new wp.api.models.Post({id:e}),void 0!==t&&(window.tiTpc.postModel=t,await window.tiTpc.postModel.fetch())};elementor.on("document:loaded",(()=>{(async()=>{if(!["wp-post","wp-page"].includes(elementor.config.document.type))return null;const e=elementor.config.document.id;await C(e);const t=document.querySelector("button#elementor-panel-saver-button-publish");t.addEventListener("click",(async()=>{await window.tiTpc.postModel.fetch();const{_ti_tpc_template_sync:e,_ti_tpc_template_id:a}=window.tiTpc.postModel.getMetas(),r=await _(a);if(!t.className.includes("elementor-disabled")&&e&&a&&r){const e=elementor.elements.toJSON({remove:["default","editSettings","defaultEditSettings"]}),t=window.tiTpc.params.meta,r=elementor.documents.getCurrent().container.settings.get("template");r&&(t._wp_page_template=r),await T({template_id:a,template_name:elementor.config.initial_document.settings.settings.post_title||"",content:e,meta:JSON.stringify(t)})}}))})()})),document.addEventListener("DOMContentLoaded",(()=>{const t=({content:t})=>{const[a,l]=(0,i.useState)(""),[o,s]=(0,i.useState)(!1),c=()=>{(0,i.unmountComponentAtNode)(document.getElementById("ti-tpc-modal"))};return(0,e.createElement)(n.Modal,{title:window.tiTpc.exporter.modalLabel,onRequestClose:c,overlayClassName:r()({"is-dark":"dark"===elementor.settings.editorPreferences.model.get("ui_theme")})},(0,e.createElement)(n.TextControl,{label:window.tiTpc.exporter.textLabel,placeholder:window.tiTpc.exporter.textPlaceholder,value:a,onChange:l}),(0,e.createElement)(n.Button,{isPrimary:!0,isBusy:o,disabled:o,onClick:async()=>{s(!0),await N({title:a,type:"section",content:[t]}),s(!1),c()}},window.tiTpc.exporter.buttonLabel))};elementor.hooks.addFilter("elements/section/contextMenuGroups",((a,r)=>{const n={name:"ti_tpc_export",title:window.tiTpc.exporter.exportLabel,callback:()=>(a=>{const r=a.model.toJSON({remove:["default","editSettings","defaultEditSettings"]}),n=document.createElement("div");n.id="ti-tpc-modal",document.body.appendChild(n),(0,i.render)((0,e.createElement)(t,{content:r}),document.getElementById("ti-tpc-modal"))})(r)},l=a.find((e=>"save"===e.name));if(l)l.actions.push(n);else{const e={name:"ti_tpc_export",actions:[n]};a.splice(3,0,e),a.join()}return a}))}));const S=window.wp.compose,k=window.wp.primitives,x=({title:t})=>(0,e.createElement)(k.SVG,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"tpc-template-cloud-icon",title:t},(0,e.createElement)(k.Path,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),(0,e.createElement)(k.Path,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),(0,e.createElement)(k.Path,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"})),P=(0,S.compose)((0,y.withSelect)((e=>{const{isFetching:t,isPreview:a,getCurrentTab:r,getPreview:n}=e("tpc/elementor");return{isFetching:t(),isPreview:a(),currentTab:r(),preview:n()}})),(0,y.withDispatch)((e=>{const{setFetching:t,togglePreview:a,updateCurrentTab:r}=e("tpc/elementor");return{setFetching:t,togglePreview:a,updateCurrentTab:r}})))((({getSearchQuery:t,getOrder:a,onImport:i,isFetching:l,isPreview:o,currentTab:s,preview:c,setFetching:m,togglePreview:p,updateCurrentTab:d})=>(0,e.createElement)("div",{className:r()("dialog-header dialog-lightbox-header",{"is-dark":"dark"===elementor.settings.editorPreferences.model.get("ui_theme")})},(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header"},(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header__logo-area"},o?(0,e.createElement)(n.Button,{className:"ti-tpc-template-library-header-preview-back",onClick:p},(0,e.createElement)("i",{className:"eicon-","aria-hidden":"true"}),(0,e.createElement)("span",null,window.tiTpc.library.actions.back)):(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header__logo"},(0,e.createElement)(x,{title:window.tiTpc.library.templatesCloud}))),!o&&(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header__menu-area"},(0,e.createElement)(n.Button,{className:r()("ti-tpc-template-library-menu-item",{"is-active":"library"===s}),onClick:()=>d("library")},window.tiTpc.library.tabs.library)),(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header__items-area"},(0,e.createElement)("div",{className:"ti-tpc-template-library-header-tools"},o?(0,e.createElement)("div",{className:"ti-tpc-templates-modal__header__item ti-tpc-template-library-header-preview-insert-wrapper"},(0,e.createElement)(n.Button,{className:"ti-tpc-template-library-template-insert elementor-button",onClick:()=>i({id:c.template_id,title:c.template_name,meta:c.meta||[]})},(0,e.createElement)("i",{className:"eicon-file-download","aria-hidden":"true"}),(0,e.createElement)("span",{className:"elementor-button-title"},window.tiTpc.library.actions.insert))):(0,e.createElement)("div",{className:"ti-tpc-template-library-header-actions"},"library"===s&&(0,e.createElement)(n.Button,{className:"ti-tpc-templates-modal__header__item",onClick:async()=>{window.localStorage.setItem("tpcCacheBuster",g()),m(!0);const e=a();await v({search:t(),...e}),await E({search:t(),...e}),m(!1)}},(0,e.createElement)("i",{className:r()("eicon-sync",{"eicon-animation-spin":l}),"aria-hidden":"true",title:window.tiTpc.library.actions.sync}),(0,e.createElement)("span",{className:"elementor-screen-only"},window.tiTpc.library.actions.sync)),["wp-post","wp-page"].includes(elementor.config.document.type)&&(0,e.createElement)(n.Button,{className:"ti-tpc-templates-modal__header__item",onClick:()=>d("export")},(0,e.createElement)("i",{className:"eicon-save-o","aria-hidden":"true",title:window.tiTpc.library.save}),(0,e.createElement)("span",{className:"elementor-screen-only"},window.tiTpc.library.save)))),(0,e.createElement)(n.Button,{className:"ti-tpc-templates-modal__header__item ti-tpc-templates-modal__header__close",onClick:window.tiTpcModal.hide},(0,e.createElement)("i",{className:"eicon-close","aria-hidden":"true",title:window.tiTpc.library.actions.close}),(0,e.createElement)("span",{className:"elementor-screen-only"},window.tiTpc.library.actions.close))))))),L=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M15.1 4.8l-3-2.5V4c-4.4 0-8 3.6-8 8 0 3.7 2.5 6.9 6 7.7.3.1.6.1 1 .2l.2-1.5c-.4 0-.7-.1-1.1-.2l-.1.2v-.2c-2.6-.8-4.5-3.3-4.5-6.2 0-3.6 2.9-6.5 6.5-6.5v1.8l3-2.5zM20 11c-.2-1.4-.7-2.7-1.6-3.8l-1.2.8c.7.9 1.1 2 1.3 3.1L20 11zm-1.5 1.8c-.1.5-.2 1.1-.4 1.6s-.5 1-.8 1.5l1.2.9c.4-.5.8-1.1 1-1.8s.5-1.3.5-2l-1.5-.2zm-5.6 5.6l.2 1.5c1.4-.2 2.7-.7 3.8-1.6l-.9-1.1c-.9.7-2 1.1-3.1 1.2z"})),M=window.wp.keycodes;function B(e){return[null,void 0].includes(e)}var O="parent";function F(e){var t=e.getBoundingClientRect();return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}function I(e,t,a){if(e){var r=F(e),n=r.left,i=r.right,l=r.top,o=r.bottom;if(n>a)return!1;if(i<0)return!1;if(l>t)return!1;if(o<0)return!1}return!0}const j=function(t){var a,r,n,i=t.loading,l=t.hasNextPage,o=t.onLoadMore,s=t.threshold,c=void 0===s?150:s,m=t.checkInterval,p=void 0===m?200:m,d=t.scrollContainer,u=void 0===d?"window":d,g=(0,e.useRef)(null),w=function(){var t="object"==typeof window,a=(0,e.useCallback)((function(){return{width:t?window.innerWidth:void 0,height:t?window.innerHeight:void 0}}),[t]),r=(0,e.useState)(a()),n=r[0],i=r[1];return(0,e.useEffect)((function(){function e(){i(a())}if(t)return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[a,t]),n}(),h=w.height,y=w.width,b=(0,e.useState)(!0),f=b[0],v=b[1];return(0,e.useEffect)((function(){i||v(!0)}),[i]),a=function(){!function(){if(f&&!i&&l&&g.current){if(u===O){if(!(r=null===(a=g.current)||void 0===a?void 0:a.parentNode)||B(h)||B(y)||!I(r,h,y))return}else if(!(t=g.current)||B(h)||B(y)||!I(t,h,y))return;var e=function(){var e=g.current;if(!e||B(h))return null;var t=e.getBoundingClientRect().bottom,a=t-h;if(u===O){var r=e.parentNode;if(!r)return null;a=t-F(r).bottom}return a}();if(B(e))return;e<c&&(v(!1),o())}var t,a,r}()},r=l?p:0,n=(0,e.useRef)(null),(0,e.useEffect)((function(){n.current=a}),[a]),(0,e.useEffect)((function(){if(r){var e=setInterval((function(){var e;null===(e=n.current)||void 0===e||e.call(n)}),r);return function(){clearInterval(e)}}}),[r]),g},D=window.wp.i18n,A=(0,i.createElement)(k.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,i.createElement)(k.Path,{d:"M7.5 12C7.5 11.1716 6.82843 10.5 6 10.5C5.17157 10.5 4.5 11.1716 4.5 12C4.5 12.8284 5.17157 13.5 6 13.5C6.82843 13.5 7.5 12.8284 7.5 12Z"}),(0,i.createElement)(k.Path,{d:"M13.5 12C13.5 11.1716 12.8284 10.5 12 10.5C11.1716 10.5 10.5 11.1716 10.5 12C10.5 12.8284 11.1716 13.5 12 13.5C12.8284 13.5 13.5 12.8284 13.5 12Z"}),(0,i.createElement)(k.Path,{d:"M19.5 12C19.5 11.1716 18.8284 10.5 18 10.5C17.1716 10.5 16.5 11.1716 16.5 12C16.5 12.8284 17.1716 13.5 18 13.5C18.8284 13.5 19.5 12.8284 19.5 12Z"})),U=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),R=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)(k.Path,{d:"M20.2 8v11c0 .7-.6 1.2-1.2 1.2H6v1.5h13c1.5 0 2.7-1.2 2.7-2.8V8zM18 16.4V4.6c0-.9-.7-1.6-1.6-1.6H4.6C3.7 3 3 3.7 3 4.6v11.8c0 .9.7 1.6 1.6 1.6h11.8c.9 0 1.6-.7 1.6-1.6zm-13.5 0V4.6c0-.1.1-.1.1-.1h11.8c.1 0 .1.1.1.1v11.8c0 .1-.1.1-.1.1H4.6l-.1-.1z"})),$=(0,i.createElement)(k.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,i.createElement)(k.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})),V=(0,y.withDispatch)((e=>{const{togglePreview:t,setPreviewData:a}=e("tpc/elementor");return{togglePreview:t,setPreviewData:a}}))((({table:t=!1,item:a,id:r,title:l,meta:o,thumbnail:s,onImport:c,onUpdateTemplate:m,onDelete:p,onDuplicate:d,togglePreview:u,setPreviewData:g})=>{const[w,h]=(0,i.useState)(!1),[y,b]=(0,i.useState)(l);return t?(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-item"},(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-column"},w?(0,e.createElement)(i.Fragment,null,(0,e.createElement)("input",{type:"text",value:y,onChange:e=>b(e.target.value)}),(0,e.createElement)(n.Button,{className:"elementor-button",onClick:()=>m(r,y)},(0,e.createElement)("i",{className:"eicon-check","aria-hidden":"true",title:window.tiTpc.library.actions.save}),(0,e.createElement)("span",{className:"elementor-button-title elementor-hidden"},window.tiTpc.library.actions.save)),(0,e.createElement)(n.Button,{className:"elementor-button",onClick:()=>h(!1)},(0,e.createElement)("i",{className:"eicon-editor-close","aria-hidden":"true",title:window.tiTpc.library.actions.cancel}),(0,e.createElement)("span",{className:"elementor-button-title elementor-hidden"},window.tiTpc.library.actions.cancel))):l),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-column"},moment(a.date).format("MMMM D, YYYY")),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-column"},moment(a.modified).format("MMMM D, YYYY")),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-column"},(0,e.createElement)(n.Button,{className:"elementor-button elementor-button-success",onClick:()=>c({id:r,title:l,meta:o})},(0,e.createElement)("i",{className:"eicon-file-download","aria-hidden":"true"}),(0,e.createElement)("span",{className:"elementor-button-title"},window.tiTpc.library.actions.insert)),(0,e.createElement)(n.DropdownMenu,{icon:A,label:window.tiTpc.library.filters.sortLabels.actions,popoverProps:{position:"bottom right",noArrow:!1},controls:[{title:window.tiTpc.library.actions.edit,icon:U,isDisabled:!!a.link,onClick:()=>h(!0)},{title:window.tiTpc.library.actions.duplicate,icon:R,onClick:()=>d(r)},{title:window.tiTpc.library.actions.delete,icon:$,onClick:()=>p(r)}]}))):(0,e.createElement)("div",{className:"ti-tpc-template-library-template"},(0,e.createElement)("div",{className:"ti-tpc-template-library-template-body"},(0,e.createElement)("div",{className:"ti-tpc-template-library-template-screenshot",style:{backgroundImage:`url( ${s})`}}),(0,e.createElement)(n.Button,{className:"ti-tpc-template-library-template-preview",onClick:()=>{u(),g({...a})}},(0,e.createElement)("i",{className:"eicon-zoom-in-bold","aria-hidden":"true"}))),(0,e.createElement)("div",{className:"ti-tpc-template-library-template-footer"},(0,e.createElement)(n.Button,{className:"ti-tpc-template-library-template-action elementor-button",onClick:()=>c({id:r,title:l,meta:o})},(0,e.createElement)("i",{className:"eicon-file-download","aria-hidden":"true"}),(0,e.createElement)("span",null,window.tiTpc.library.actions.insert)),(0,e.createElement)("div",{className:"ti-tpc-template-library-template-name"},l)))})),G={template_name:window.tiTpc.library.filters.sortLabels.name,date:window.tiTpc.library.filters.sortLabels.date,modified:window.tiTpc.library.filters.sortLabels.modified},H=(0,y.withSelect)(((e,{isGeneral:t})=>{const a=t?e("tpc/elementor").getTemplates():e("tpc/elementor").getLibrary(),{items:r=[],currentPage:n,totalPages:i}=a;return{items:r,currentPage:n,totalPages:i}}))((({getSearchQuery:t,getOrder:a,setSorting:l,onImport:o,onUpdateTemplate:s,onDelete:c,onDuplicate:m,isGeneral:p,items:d,currentPage:u,totalPages:g})=>{const[w,h]=(0,i.useState)(!1),y=j({loading:w,hasNextPage:u!==g,onLoadMore:async()=>{if(u===g)return;h(!0);const e=a();p?await v({search:t(),page:u+1,isScroll:!0,...e}):await E({search:t(),page:u+1,isScroll:!0,...e}),h(!1)},threshold:1});return(0,e.createElement)("div",{className:r()("ti-tpc-template-library-templates-container",{"is-table":!p}),ref:y},p?d.map((t=>(0,e.createElement)(V,{key:t.template_id,item:t,id:t.template_id,title:t.template_name,thumbnail:t.template_thumbnail,onImport:o}))):(0,e.createElement)(i.Fragment,null,(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-header"},Object.keys(G).map((t=>(0,e.createElement)("div",{key:t,className:"ti-tpc-template-library-templates-table-column"},(0,e.createElement)(n.Button,{className:r()({"is-selected":t===a().orderby,"is-asc":"ASC"===a().order}),onClick:()=>{const e={order:"DESC",orderby:t};t===a().orderby&&"DESC"===a().order&&(e.order="ASC"),l({...e})}},G[t])))),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-table-column"},(0,e.createElement)(n.Button,null,window.tiTpc.library.filters.sortLabels.actions))),d.map((t=>(0,e.createElement)(V,{table:!0,key:t.template_id,item:t,id:t.template_id,title:t.template_name,meta:t.meta||"",onImport:o,onUpdateTemplate:s,onDelete:c,onDuplicate:e=>m(e)})))),0===d.length&&(p?(0,e.createElement)("p",null,(0,D.__)("No templates found. Check again later!","templates-patterns-collection")):(0,e.createElement)("p",{style:{marginLeft:"10px"}},(0,D.__)("No templates available. Try adding few templates.","templates-patterns-collection"))),w&&(0,e.createElement)(n.Placeholder,null,(0,e.createElement)(n.Spinner,null)))})),z=(0,y.withDispatch)((e=>{const{updateCurrentTab:t}=e("tpc/elementor");return{updateCurrentTab:t}}))((({updateCurrentTab:t})=>{(0,i.useEffect)((()=>{const{_ti_tpc_template_sync:e,_ti_tpc_template_id:t,_ti_tpc_screenshot_url:a,_ti_tpc_site_slug:r,_ti_tpc_published:n}=window.tiTpc.postModel.getMetas();m(Boolean(e)),d(t),w(a),b(r),E(Boolean(n))}),[]);const a=elementor.config.initial_document.settings.settings.post_title||"",[l,s]=(0,i.useState)(!1),[c,m]=(0,i.useState)(!1),[p,d]=(0,i.useState)(""),[u,w]=(0,i.useState)(""),[y,b]=(0,i.useState)(""),[v,E]=(0,i.useState)(""),C={width:"650px",margin:"auto",marginTop:"8px",padding:"0 12px"};return(0,e.createElement)("div",{className:"dialog-message dialog-lightbox-message"},(0,e.createElement)("div",{className:"dialog-content dialog-lightbox-content"},(0,e.createElement)("div",{className:"ti-tpc-template-library-export"},(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-icon"},(0,e.createElement)("i",{className:"eicon-library-save","aria-hidden":"true"}),(0,e.createElement)("span",{className:"elementor-screen-only"},window.tiTpc.library.export.save)),(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-title"},window.tiTpc.library.export.title),(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-field"},(0,e.createElement)("input",{className:"ti-tpc-template-library-blank-field-input",value:elementor.config.initial_document.settings.settings.post_title,disabled:!0}),(0,e.createElement)(n.Button,{className:r()("elementor-button elementor-button-success",{"elementor-button-state":l}),onClick:async()=>{s(!0);const e=elementor.elements.toJSON({remove:["default","editSettings","defaultEditSettings"]});let r=!1;p&&(r=await _(p));const n=window.tiTpc.params.meta,i=elementor.documents.getCurrent().container.settings.get("template");i&&(n._wp_page_template=i),r?await T({template_id:p,template_name:a,content:e,link:elementor.config.initial_document.urls.permalink,meta:JSON.stringify(n)}):await N({title:a,type:"page",content:e,link:elementor.config.initial_document.urls.permalink,callback:e=>{d(e.template_id),window.tiTpc.postModel.set("meta",{_ti_tpc_template_id:e.template_id,_ti_tpc_template_sync:c}),window.tiTpc.postModel.save()}}),s(!1),t("library")}},(0,e.createElement)("span",{className:"elementor-state-icon"},(0,e.createElement)("i",{className:"eicon-loading eicon-animation-spin","aria-hidden":"true"})),window.tiTpc.library.export.save)),(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-field"},(0,e.createElement)(n.ToggleControl,{label:window.tiTpc.exporter.toggleLabel,checked:c,onChange:()=>m(!c)})),window.tiTpc.canPredefine&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-field"},(0,e.createElement)("label",{htmlFor:"ti-tpc-template-screenshot",className:"ti-tpc-template-library-blank-field-input-label"},window.tiTpc.library.export.labelScreenshot),(0,e.createElement)("input",{className:"ti-tpc-template-library-blank-field-input",id:"ti-tpc-template-screenshot",value:u,onChange:e=>w(e.target.value)})),(0,e.createElement)("p",{style:C},(0,D.__)("Use `{generate_ss}` to publish this and have a screenshot automatically generated. Otherwise use the url to point to an image location for the template preview.","templates-patterns-collection")),(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-field"},(0,e.createElement)("label",{htmlFor:"ti-tpc-template-slug",className:"ti-tpc-template-library-blank-field-input-label"},window.tiTpc.library.export.labelSlug),(0,e.createElement)("input",{className:"ti-tpc-template-library-blank-field-input",id:"ti-tpc-template-slug",value:y,onChange:e=>b(e.target.value)})),(0,e.createElement)("p",{style:C},(0,D.__)("Use `general` to publish this as a global template. Otherwise use the starter site slug to make it available as a single page for the starter site.","templates-patterns-collection")),(0,e.createElement)("div",{className:"ti-tpc-template-library-blank-field"},(0,e.createElement)(n.Button,{className:r()("elementor-button elementor-button-success",{"elementor-button-state":l}),onClick:async()=>{s(!0);try{await(async e=>{const{meta:t,...a}=tiTpc.params,{template_id:r,...n}=e,i=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e.template_id}/publish`,query:{cache:localStorage.getItem("tpcCacheBuster"),method:"POST",...a,...n}});try{const e=await h()({url:i,method:"POST",headers:{Authorization:`Bearer  ${window.tiTpc.bearer||""} `}});if(e.ok){const t=await e.json();if(t.message)return f(t.message),{success:!1}}else if(e.message)return f(e.message),{success:!1};return localStorage.setItem("tpcCacheBuster",g()),{success:!0}}catch(e){if(e.message)return f(e.message),{success:!1}}})({template_id:p,template_site_slug:y,template_thumbnail:u,premade:v?"no":"yes",link:elementor.config.initial_document.urls.permalink}).then((async e=>{e.success&&await _(p).then((e=>{p===e.template_id&&(w(e.template_thumbnail),elementor.notifications.showToast({message:v?window.tiTpc.exporter.templateUnpublished:window.tiTpc.exporter.templatePublished}),E(!v),window.tiTpc.postModel.set("meta",{_ti_tpc_template_id:p,_ti_tpc_template_sync:c,_ti_tpc_screenshot_url:u,_ti_tpc_site_slug:y,_ti_tpc_published:!v}),window.tiTpc.postModel.save())}))}))}catch(e){elementor.notifications.showToast({message:"Something happened when publishing the template."})}s(!1)}},(0,e.createElement)("span",{className:"elementor-state-icon"},(0,e.createElement)("i",{className:"eicon-loading eicon-animation-spin","aria-hidden":"true"})),v?window.tiTpc.library.export.unpublish:window.tiTpc.library.export.publish),v&&(0,e.createElement)(n.Button,{className:r()("elementor-button elementor-button-success",{"elementor-button-state":l}),onClick:async()=>{s(!0);try{await _(p).then((e=>{p===e.template_id&&(w(e.template_thumbnail),elementor.notifications.showToast({message:(0,D.__)("Template Data Refreshed.","templates-patterns-collection")}),window.tiTpc.postModel.set("meta",{_ti_tpc_template_id:p,_ti_tpc_template_sync:c,_ti_tpc_screenshot_url:u,_ti_tpc_site_slug:y,_ti_tpc_published:v}),window.tiTpc.postModel.save())}))}catch(e){elementor.notifications.showToast({message:"Something happened when refreshing the template data."})}s(!1)},style:{backgroundColor:"dimgray",marginLeft:"12px"}},(0,e.createElement)("span",{className:"elementor-state-icon"},(0,e.createElement)("i",{className:"eicon-loading eicon-animation-spin","aria-hidden":"true"})),(0,D.__)("Refresh","templates-patterns-collection")))))))})),q={date:window.tiTpc.library.filters.sortLabels.date,template_name:window.tiTpc.library.filters.sortLabels.name,modified:window.tiTpc.library.filters.sortLabels.modified},Y=(0,S.compose)((0,y.withSelect)((e=>{const{isFetching:t,isPreview:a,getCurrentTab:r,getPreview:n}=e("tpc/elementor");return{isFetching:t(),isPreview:a(),currentTab:r(),preview:n()}})),(0,y.withDispatch)((e=>{const{setFetching:t}=e("tpc/elementor");return{setFetching:t}})))((({setQuery:t,getSearchQuery:a,setSorting:l,getOrder:s,isSearch:c,setSearch:m,onImport:p,isFetching:d,isPreview:u,currentTab:w,preview:y,setFetching:b})=>{const _=async(e=a())=>{b(!0),m(!!e);const t=s();"templates"===w?await v({search:e,...t}):await E({search:e,...t}),b(!1)};(0,i.useEffect)((()=>{_()}),[w,s()]);const N="templates"===w;return u?(0,e.createElement)("div",{className:r()("dialog-message dialog-lightbox-message",{"is-dark":"dark"===elementor.settings.editorPreferences.model.get("ui_theme")})},(0,e.createElement)("div",{className:"dialog-content dialog-lightbox-content"},(0,e.createElement)("div",{className:"ti-tpc-template-library-preview"},(0,e.createElement)("iframe",{title:y.template_name,src:y.link||""}),(0,e.createElement)("div",{className:"is-loading"},(0,e.createElement)(n.Icon,{icon:L}))))):d?(0,e.createElement)("div",{className:r()("dialog-message dialog-lightbox-message",{"is-dark":"dark"===elementor.settings.editorPreferences.model.get("ui_theme")})},(0,e.createElement)("div",{className:"dialog-content dialog-lightbox-content is-loading"},(0,e.createElement)(n.Spinner,null))):"export"===w?(0,e.createElement)(z,null):(0,e.createElement)("div",{className:r()("dialog-message dialog-lightbox-message",{"is-dark":"dark"===elementor.settings.editorPreferences.model.get("ui_theme")})},(0,e.createElement)("div",{className:"dialog-content dialog-lightbox-content"},(0,e.createElement)("div",{className:"ti-tpc-template-library-templates"},(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-header"},(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-header-filters"},N&&(0,e.createElement)(i.Fragment,null,(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-header-filters-label"},window.tiTpc.library.filters.sortLabel),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-header-filters-filter"},Object.keys(q).map((t=>(0,e.createElement)(n.Button,{key:t,className:r()({"is-selected":t===s().orderby,"is-asc":"ASC"===s().order}),onClick:()=>{const e={order:"DESC",orderby:t};t===s().orderby&&"DESC"===s().order&&(e.order="ASC"),l({...e})}},q[t])))))),(0,e.createElement)("div",{className:"ti-tpc-template-library-templates-header-search"},(0,e.createElement)("label",{htmlFor:"ti-tpc-template-library-filter-search",className:"elementor-screen-only"},window.tiTpc.library.filters.searchLabel),(0,e.createElement)("input",{id:"ti-tpc-template-library-filter-search",placeholder:window.tiTpc.library.filters.search,value:a(),onChange:e=>t(e.target.value),onKeyDown:e=>{e.keyCode===M.ENTER&&_()}}),c?(0,e.createElement)(n.Button,{onClick:()=>{t(""),_("")}},(0,e.createElement)("i",{className:"eicon-close"})):(0,e.createElement)(n.Button,{onClick:()=>_()},(0,e.createElement)("i",{className:"eicon-search"})))),["templates","library"].includes(w)&&(0,e.createElement)(H,{getSearchQuery:()=>a(),getOrder:s,setSorting:l,onImport:p,onUpdateTemplate:async(e,t)=>{b(!0),await T({template_id:e,template_name:t}),b(!1)},onDelete:async e=>{b(!0),await(async e=>{const{meta:t,...a}=tiTpc.params,r=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e}`,query:{cache:localStorage.getItem("tpcCacheBuster"),_method:"DELETE",...a}});try{const e=await h()({url:r,method:"POST"});if(e.ok){const t=await e.json();if(t.message)return f(t.message)}localStorage.setItem("tpcCacheBuster",g()),await E()}catch(e){e.message&&f(e.message)}})(e),b(!1)},onDuplicate:async e=>{b(!0),await(async e=>{const{meta:t,...a}=tiTpc.params,r=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e}/clone`,query:{cache:localStorage.getItem("tpcCacheBuster"),...a}});try{const e=await h()({url:r,method:"POST"});if(e.ok){const t=await e.json();if(t.message)return f(t.message)}localStorage.setItem("tpcCacheBuster",g()),await E()}catch(e){e.message&&f(e.message)}})(e),b(!1)},isFetching:d,isGeneral:N}))))})),J=(0,S.compose)((0,y.withSelect)((e=>{const{getCurrentTab:t}=e("tpc/elementor");return{currentTab:t()}})),(0,y.withDispatch)((e=>{const{setFetching:t}=e("tpc/elementor");return{setFetching:t}})))((({currentTab:t,setFetching:a})=>{const[r,n]=(0,i.useState)({templates:"",library:""}),[l,s]=(0,i.useState)({templates:{order:"DESC",orderby:"date"},library:{order:"DESC",orderby:"date"}}),[c,m]=(0,i.useState)({templates:!1,library:!1}),p="templates"===t,d=()=>p?r.templates:r.library,u=()=>p?l.templates:l.library,g=e=>{if(e.id=elementorCommon.helpers.getUniqueId(),0<e.elements.length)for(let t=0;t<e.elements.length;t++)e.elements[t]=g(e.elements[t]);return e},w=async({id:e,title:t,meta:r})=>{a(!0);const n=await(async e=>{const{meta:t,...a}=tiTpc.params,r=(0,o.stringifyUrl)({url:`${window.tiTpc.endpoint}templates/${e}/import`,query:{cache:localStorage.getItem("tpcCacheBuster"),...a}});let n={};try{const e=await h()({url:r,method:"GET",parse:!1});if(e.ok&&(n=await e.json(),n.message))return f(n.message)}catch(e){e.message&&f(e.message)}var i,l;return i=n,l=e=>{delete e?.settings?.image?.id,delete e?.settings?.background_image?.id,delete e?.settings?.background_overlay_image?.id},i?.content?.forEach?.((e=>{b(e,l)})),n})(e);if(!n)return a(!1);const i=$e.internal("document/history/start-log",{type:"add",title:`${window.tiTpc.library.historyMessage} ${t}`});let l=Number(window.tiTpc.placeholder);const s=n.content;for(let e=0;e<s.length;e++)s[e]=g(s[e]),$e.run("document/elements/create",{container:elementor.getPreviewContainer(),model:s[e],options:l>=0?{at:l++}:{}});const c=elementor.config.document.id;if(await C(c),void 0!==r&&0<Object.keys((e=>{try{const t=JSON.parse(e);if(t&&"object"==typeof t)return t}catch(e){}return!1})(r)||{}).length){r={...JSON.parse(r)};const{_wp_page_template:e,...t}=r;window.tiTpc.postModel.set("meta",{...t}),window.tiTpc.postModel.save(),r._wp_page_template&&elementor.documents.getCurrent().container.settings.set({template:r._wp_page_template})}$e.internal("document/history/end-log",{id:i}),window.tiTpcModal.hide(),a(!1)};return(0,e.createElement)(i.Fragment,null,(0,e.createElement)(P,{getSearchQuery:d,getOrder:u,onImport:w}),(0,e.createElement)(Y,{setQuery:e=>n(p?{...r,templates:e}:{...r,library:e}),getSearchQuery:d,setSorting:e=>s(p?{...l,templates:e}:{...l,library:e}),getOrder:u,isSearch:p?c.templates:c.library,setSearch:e=>m(p?{...c,templates:e}:{...c,library:e}),onImport:w}))}));void 0!==elementorCommon&&(window.tiTpcModal=elementorCommon.dialogsManager.createWidget("lightbox",{id:"ti-tpc-templates-modal",className:"ti-tpc-templates-modal",hide:{auto:!1,onClick:!1,onOutsideClick:!1,onOutsideContextMenu:!1,onBackgroundClick:!0},position:{my:"center",at:"center"},onShow(){const e=window.tiTpcModal.getElements("content");document.getElementById("ti-tpc-templates-modal-content")||e.append('<div id="ti-tpc-templates-modal-content" class="wrap"></div>')}}),window.tiTpcModal.getElements("header").remove(),window.tiTpcModal.getElements("message").remove(),window.tiTpcModal.getElements("widgetContent").append(window.tiTpcModal.addElement("content")));const Z=document.getElementById("tmpl-elementor-add-section");if(Z){const e=Z.textContent,t=/(<div class="[^"]*?elementor-add-section-drag-title[^"]*?">(.|\n)*?<\/div>)/gm;Z.textContent=e.replace(t,`<div class="elementor-add-section-area-button elementor-templates-cloud-button" title="${window.tiTpc.library.libraryButton}"><svg width="100" height="100" viewBox="10 10 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" class="tpc-template-cloud-icon" role="img" aria-hidden="true" focusable="false"><path d="M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z" fill="#0366D6"></path><path d="M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z" fill="white"></path><path d="M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z" fill="white" style=""></path></svg></div> $1`)}elementor.on("preview:loaded",(()=>{elementor.$previewContents[0].body.addEventListener("click",(t=>{(-1<Array.from(t.target.classList).indexOf("elementor-templates-cloud-button")||-1<Array.from(t.target.classList).indexOf("tpc-template-cloud-icon")||-1<Array.from(t.target.parentNode.classList).indexOf("tpc-template-cloud-icon"))&&(t=>{window.tiTpcModal.show();const a=elementor.$previewContents[0].body.querySelector(".elementor-section-wrap"),r=t.closest(".elementor-add-section");window.tiTpc.placeholder=Array.from(a.childNodes).indexOf(r),(0,i.render)((0,e.createElement)(J,null),document.getElementById("ti-tpc-templates-modal-content")),window.tiTpcModal.refreshPosition()})(t.target)}))}));const Q={isFetching:!0,isPreview:!1,tab:"library",templates:[],library:{items:[],currentPage:0,totalPages:0},preview:{}};(0,y.registerStore)("tpc/elementor",{reducer:(e=Q,t)=>"SET_FETCHING"===t.type?{...e,isFetching:t.isFetching}:"TOGGLE_PREVIEW"===t.type?{...e,isPreview:!e.isPreview}:"UPDATE_CURRENT_TAB"===t.type?{...e,tab:t.tab}:"UPDATE_TEMPLATES"===t.type?{...e,templates:{items:t.items,currentPage:Number(t.currentPage),totalPages:Number(t.totalPages)}}:"UPDATE_LIBRARY"===t.type?{...e,library:{items:t.items,currentPage:Number(t.currentPage),totalPages:Number(t.totalPages)}}:"SET_PREVIEW_DATA"===t.type?{...e,preview:t.preview}:e,selectors:{isFetching:e=>e.isFetching,isPreview:e=>e.isPreview,getCurrentTab:e=>e.tab,getTemplates:e=>e.templates,getLibrary:e=>e.library,getPreview:e=>e.preview},actions:{setFetching:e=>({type:"SET_FETCHING",isFetching:e}),togglePreview:e=>({type:"TOGGLE_PREVIEW",isPreview:e}),updateCurrentTab:e=>({type:"UPDATE_CURRENT_TAB",tab:e}),updateTemplates:(e,t,a)=>({type:"UPDATE_TEMPLATES",items:e,currentPage:t,totalPages:a}),updateLibrary:(e,t,a)=>({type:"UPDATE_LIBRARY",items:e,currentPage:t,totalPages:a}),setPreviewData:e=>({type:"SET_PREVIEW_DATA",preview:e})}})})()})();