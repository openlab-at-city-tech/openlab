function wpcShareCommentFB(a,b){FB.ui({method:"share",href:a,quote:b},function(a){})}(!parseInt(wpdiscuzAjaxObj.fbUseOAuth2)&&parseInt(wpdiscuzAjaxObj.enableFbLogin)||parseInt(wpdiscuzAjaxObj.enableFbShare))&&wpdiscuzAjaxObj.facebookAppID&&(function(a,c,d){var b,e=a.getElementsByTagName(c)[0];a.getElementById(d)||((b=a.createElement(c)).id=d,b.src="//connect.facebook.net/en_US/sdk.js",e.parentNode.insertBefore(b,e))}(document,"script","facebook-jssdk"),window.fbAsyncInit=function(){FB.init({appId:wpdiscuzAjaxObj.facebookAppID,cookie:!0,xfbml:!0,version:"v7.0"})}),jQuery(document).ready(function($){(a=Cookies.get("wpdiscuz_social_login_message"))&&"undefined"!==a&&(Cookies.remove("wpdiscuz_social_login_message"),wpdiscuzAjaxObj.setCommentMessage(decodeURIComponent(a.replace(/\+/g,"%20")),"error")),Cookies.get("wpdiscuz_scroll_to_comments")&&(Cookies.remove("wpdiscuz_scroll_to_comments",{path:"/"}),$("html, body").animate({scrollTop:$("#comments").offset().top-32},1e3)),$("body").on("click",".wpd-comment-share .fa-facebook-f",function(){if(1==wpdiscuzAjaxObj.enableFbShare){var b=$(this).parents(".wpd-comment").find(".wpd-comment-right").attr("id"),a=window.location.href;-1!==a.indexOf("#")&&(a=a.substring(0,a.indexOf("#"))),wpcShareCommentFB(a+="#"+b,$(this).parents(".wpd-comment-right").find(".wpd-comment-text").text())}});var a,b="";function c(a,b){var c,e="";f(b,1),Cookies.set("wpdiscuz_scroll_to_comments",1,{path:"/"}),"facebook"===a&&0==wpdiscuzAjaxObj.facebookUseOAuth2?FB.getLoginStatus(function(f){"connected"===f.status?(c=f.authResponse.accessToken,e=f.authResponse.userID,d(a,c,e,b)):FB.login(function(f){"connected"===f.status&&(c=f.authResponse.accessToken,e=f.authResponse.userID,d(a,c,e,b))},{scope:"public_profile,email"})}):d(a,c,e,b)}function d(a,b,c,d){return $.ajax({type:"POST",url:wpdiscuzAjaxObj.url,data:{action:"wpd_social_login",provider:a,token:b,userID:c,postID:wpdiscuzAjaxObj.wc_post_id}}).done(function(a){e(a,d)}),""}function e(b,c){try{var a=$.parseJSON(b),d=a.code,e=a.message,g=a.url;200===parseInt(d)?location.assign(g):wpdiscuzAjaxObj.setCommentMessage(e,"error")}catch(h){console.log(h)}f(c,0)}function f(a,b){1===b?a.find(".wpdiscuz-social-login-spinner").show():a.find(".wpdiscuz-social-login-spinner").hide()}$("body").on("click","#wpdcom .wpd-social-login .wpdiscuz-login-button",function(){var f,e,d,a,g=$(this).parents(".wpd-social-login");f=b=(d=$(this),a="",d.hasClass("wpdsn-fb")&&(a="facebook"),d.hasClass("wpdsn-insta")&&(a="instagram"),d.hasClass("wpdsn-gg")&&(a="google"),d.hasClass("wpdsn-ds")&&(a="disqus"),d.hasClass("wpdsn-wp")&&(a="wordpress"),d.hasClass("wpdsn-tw")&&(a="twitter"),d.hasClass("wpdsn-vk")&&(a="vk"),d.hasClass("wpdsn-ok")&&(a="ok"),d.hasClass("wpdsn-linked")&&(a="linkedin"),d.hasClass("wpdsn-yandex")&&(a="yandex"),d.hasClass("wpdsn-mailru")&&(a="mailru"),d.hasClass("wpdsn-weixin")&&(a="wechat"),d.hasClass("wpdsn-weibo")&&(a="weibo"),d.hasClass("wpdsn-qq")&&(a="qq"),d.hasClass("wpdsn-baidu")&&(a="baidu"),a),e=g,1!=parseInt(wpdiscuzAjaxObj.socialLoginAgreementCheckbox)||1==Cookies.get("socialLoginAgreementConfirmed")?c(f,e):e.parents(".wpd-form-wrap, .wpd-form").find(".wpd-social-login-agreement").first().slideDown(700)}),$("body").on("click","#wpdcom .wpd-agreement-buttons-right .wpd-agreement-button",function(){var a=$(this).parents(".wpd-form-wrap, .wpd-form").find(".wpd-social-login-agreement").slideUp(700);$(this).hasClass("wpd-agreement-button-agree")&&(wpdiscuzAjaxObj.isCookiesEnabled&&Cookies.set("socialLoginAgreementConfirmed",1,{expires:30,path:"/"}),c(b,a))})})