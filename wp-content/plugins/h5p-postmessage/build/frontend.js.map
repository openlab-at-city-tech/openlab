{"version":3,"file":"frontend.js","mappings":";;;;;AAAA;AACA,CAAC,MAAM;EACN,IAAK,WAAW,KAAK,OAAOA,GAAG,EAAG;IACjC;EACD;EAEA,MAAMC,kBAAkB,GAAKC,KAAK,IAAM;IACvC,MAAM;MAAEC;IAAK,CAAC,GAAGD,KAAK;IAEtB,IAAK,CAAEC,IAAI,EAAG;MACb,OAAO,IAAI;IACZ;IAEA,MAAM;MAAEC;IAAU,CAAC,GAAGD,IAAI;IAE1B,IAAK,CAAEC,SAAS,EAAG;MAClB,OAAO,IAAI;IACZ;IAEA,MAAM;MAAEC;IAAO,CAAC,GAAGD,SAAS;IAE5B,IAAK,CAAEC,MAAM,EAAG;MACf,OAAO,IAAI;IACZ;IAEA,MAAMC,QAAQ,GAAGD,MAAM,CAACE,EAAE;IAE1B,MAAMC,IAAI,GAAGN,KAAK,CAACO,OAAO,CAAC,CAAC;IAE5B,MAAMC,QAAQ,GAAG;MAChBJ,QAAQ;MACRK,MAAM,EAAE,iBAAiB;MACzBH;IACD,CAAC;IAED,QAASA,IAAI;MACZ,KAAK,WAAW;QACf,OAAOE,QAAQ;MAEhB,KAAK,UAAU;QACd,MAAME,UAAU,GAAGV,KAAK,CAACW,QAAQ,CAAC,CAAC,KAAKX,KAAK,CAACY,WAAW,CAAC,CAAC,IAAIZ,KAAK,CAACY,WAAW,CAAC,CAAC,GAAG,CAAC;QAEtF,IAAK,CAAEF,UAAU,EAAG;UACnB,OAAO,IAAI;QACZ;QAEA,OAAO;UACN,GAAGF,QAAQ;UACXF,IAAI,EAAE;QACP,CAAC;IACH;EACD,CAAC;EAEDR,GAAG,CAACe,kBAAkB,CAACC,EAAE,CAAC,MAAM,EAAE,UAAUd,KAAK,EAAE;IAClD,MAAMe,eAAe,GAAGhB,kBAAkB,CAAEC,KAAM,CAAC;IAEnD,IAAK,CAAEe,eAAe,EAAG;MACxB;IACD;IAEAC,MAAM,CAACC,MAAM,CAACC,WAAW,CAAEH,eAAe,EAAE,GAAI,CAAC;EAClD,CAAC,CAAC;AACH,CAAC,EAAE,CAAC,C","sources":["webpack://h5p-postmessage/./assets/src/frontend.js"],"sourcesContent":["/* global H5P */\n(() => {\n\tif ( 'undefined' === typeof H5P ) {\n\t\treturn;\n\t}\n\n\tconst getPostMessageData = ( event ) => {\n\t\tconst { data } = event;\n\n\t\tif ( ! data ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { statement } = data;\n\n\t\tif ( ! statement ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst { object } = statement;\n\n\t\tif ( ! object ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst objectId = object.id;\n\n\t\tconst verb = event.getVerb();\n\n\t\tconst baseData = {\n\t\t\tobjectId,\n\t\t\tsource: 'h5p-postmessage',\n\t\t\tverb\n\t\t}\n\n\t\tswitch ( verb ) {\n\t\t\tcase 'attempted' :\n\t\t\t\treturn baseData;\n\n\t\t\tcase 'answered' :\n\t\t\t\tconst isComplete = event.getScore() === event.getMaxScore() && event.getMaxScore() > 0\n\n\t\t\t\tif ( ! isComplete ) {\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\t...baseData,\n\t\t\t\t\tverb: 'completed'\n\t\t\t\t};\n\t\t}\n\t}\n\n\tH5P.externalDispatcher.on('xAPI', function (event) {\n\t\tconst postMessageData = getPostMessageData( event );\n\n\t\tif ( ! postMessageData ) {\n\t\t\treturn;\n\t\t}\n\n\t\twindow.parent.postMessage( postMessageData, '*' );\n\t});\n})();\n"],"names":["H5P","getPostMessageData","event","data","statement","object","objectId","id","verb","getVerb","baseData","source","isComplete","getScore","getMaxScore","externalDispatcher","on","postMessageData","window","parent","postMessage"],"sourceRoot":""}