import*as e from"@wordpress/interactivity";var t,o,a,r,n={225:(e,t,o)=>{o.d(t,{B:()=>a,J:()=>r});const a=async e=>{const t=e=>e.id||e.outerHTML,o=new Map;for(const a of e)o.set(t(a),a);const a=[];for(const e of document.head.children){const r=t(e);"LINK"===e.nodeName||"STYLE"===e.nodeName?a.push(e):o.has(r)?o.delete(r):"SCRIPT"!==e.nodeName&&"META"!==e.nodeName&&a.push(e)}const r=[...o.values()];a.forEach((e=>e.remove())),document.head.append(...r)},r=async(e,t)=>{const o=[],a=[{tagName:"style",selector:"link[rel=stylesheet]",attribute:"href"},{tagName:"script",selector:"script[src]",attribute:"src"}];for(const r of a){const{tagName:a,selector:n,attribute:i}=r,s=e.querySelectorAll(n);await Promise.all(Array.from(s).map((async r=>{const n=r.getAttribute(i);if(!t.has(n))try{const e=await fetch(n),o=await e.text();t.set(n,{tag:r,text:o})}catch(e){console.error(e)}const s=t.get(n),c=e.createElement(a);c.innerText=s.text;for(const e of s.tag.attributes)c.setAttribute(e.name,e.value);o.push(c)})))}return[e.querySelector("title"),...e.querySelectorAll("style"),...o]}},638:(e,t,o)=>{o.a(e,(async(e,a)=>{try{o.d(t,{N:()=>N,S:()=>_});var r,n=o(998),i=o(225);const{directivePrefix:e,getRegionRootFragment:s,initialVdom:c,toVdom:l,render:d,parseInitialData:u,populateInitialData:h,batch:f}=(0,n.privateApis)("I acknowledge that using private APIs means my theme or plugin will inevitably break in the next version of WordPress."),m=null!==(r=(0,n.getConfig)("core/router").navigationMode)&&void 0!==r?r:"regionBased",p=new Map,g=new Map,w=e=>{const t=new URL(e,window.location.href);return t.pathname+t.search},y=async(e,{html:t})=>{try{if(!t){const o=await window.fetch(e);if(200!==o.status)return!1;t=await o.text()}const o=(new window.DOMParser).parseFromString(t,"text/html");return v(o)}catch(e){return!1}},v=async(t,{vdom:o}={})=>{const a={body:void 0};let r;if("fullPage"===m&&(r=await(0,i.J)(t,g),a.body=o?o.get(document.body):l(t.body)),"regionBased"===m){const r=`data-${e}-router-region`;t.querySelectorAll(`[${r}]`).forEach((e=>{const t=e.getAttribute(r);a[t]=o?.has(e)?o.get(e):l(e)}))}const n=t.querySelector("title")?.innerText,s=u(t);return{regions:a,head:r,title:n,initialData:s}},b=t=>{f((()=>{if("fullPage"===m){(0,i.B)(t.head);const e=s(document.body);d(t.regions.body,e)}if("regionBased"===m){h(t.initialData);const o=`data-${e}-router-region`;document.querySelectorAll(`[${o}]`).forEach((e=>{const a=e.getAttribute(o),r=s(e);d(t.regions[a],r)}))}t.title&&(document.title=t.title)}))},x=e=>(window.location.assign(e),new Promise((()=>{})));window.addEventListener("popstate",(async()=>{const e=w(window.location.href),t=p.has(e)&&await p.get(e);t?(b(t),_.url=window.location.href):window.location.reload()})),"fullPage"===m&&([].map.call(document.querySelectorAll("script[src]"),(e=>{g.set(e.getAttribute("src"),{tag:e,text:e.textContent})})),await(0,i.J)(document,g)),p.set(w(window.location.href),Promise.resolve(v(document,{vdom:c})));const S=e=>e&&e instanceof window.HTMLAnchorElement&&e.href&&(!e.target||"_self"===e.target)&&e.origin===window.location.origin&&!e.pathname.startsWith("/wp-admin")&&!e.pathname.startsWith("/wp-login.php")&&!e.getAttribute("href").startsWith("#")&&!new URL(e.href).searchParams.has("_wpnonce"),A=e=>e&&0===e.button&&!e.metaKey&&!e.ctrlKey&&!e.altKey&&!e.shiftKey&&!e.defaultPrevented;let P="";const{state:_,actions:N}=(0,n.store)("core/router",{state:{url:window.location.href,navigation:{hasStarted:!1,hasFinished:!1,texts:{loading:"",loaded:""},message:""}},actions:{*navigate(e,t={}){const{clientNavigationDisabled:o}=(0,n.getConfig)();o&&(yield x(e));const a=w(e),{navigation:r}=_,{loadingAnimation:i=!0,screenReaderAnnouncement:s=!0,timeout:c=1e4}=t;P=e,N.prefetch(a,t);const l=new Promise((e=>setTimeout(e,c))),d=setTimeout((()=>{P===e&&(i&&(r.hasStarted=!0,r.hasFinished=!1),s&&(r.message=r.texts.loading))}),400),u=yield Promise.race([p.get(a),l]);if(clearTimeout(d),P===e)if(u&&!u.initialData?.config?.["core/router"]?.clientNavigationDisabled){yield b(u),window.history[t.replace?"replaceState":"pushState"]({},"",e),_.url=e,i&&(r.hasStarted=!1,r.hasFinished=!0),s&&(r.message=r.texts.loaded+(r.message===r.texts.loaded?"Â ":""));const{hash:o}=new URL(e,window.location.href);o&&document.querySelector(o)?.scrollIntoView()}else yield x(e)},prefetch(e,t={}){const{clientNavigationDisabled:o}=(0,n.getConfig)();if(o)return;const a=w(e);!t.force&&p.has(a)||p.set(a,y(a,{html:t.html}))}}});"fullPage"===m&&(document.addEventListener("click",(function(e){const t=e.target.closest("a");S(t)&&A(e)&&(e.preventDefault(),N.navigate(t.href))}),!0),document.addEventListener("mouseenter",(function(e){if("A"===e.target?.nodeName){const t=e.target.closest("a");S(t)&&A(e)&&N.prefetch(t.href)}}),!0)),a()}catch(e){a(e)}}),1)},998:(t,o,a)=>{var r,n;t.exports=(r={getConfig:()=>e.getConfig,privateApis:()=>e.privateApis,store:()=>e.store},n={},a.d(n,r),n)}},i={};function s(e){var t=i[e];if(void 0!==t)return t.exports;var o=i[e]={exports:{}};return n[e](o,o.exports,s),o.exports}t="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",o="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",r=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},s.a=(e,n,i)=>{var s;i&&((s=[]).d=-1);var c,l,d,u=new Set,h=e.exports,f=new Promise(((e,t)=>{d=t,l=e}));f[o]=h,f[t]=e=>(s&&e(s),u.forEach(e),f.catch((e=>{}))),e.exports=f,n((e=>{var n;c=(e=>e.map((e=>{if(null!==e&&"object"==typeof e){if(e[t])return e;if(e.then){var n=[];n.d=0,e.then((e=>{i[o]=e,r(n)}),(e=>{i[a]=e,r(n)}));var i={};return i[t]=e=>e(n),i}}var s={};return s[t]=e=>{},s[o]=e,s})))(e);var i=()=>c.map((e=>{if(e[a])throw e[a];return e[o]})),l=new Promise((e=>{(n=()=>e(i)).r=0;var o=e=>e!==s&&!u.has(e)&&(u.add(e),e&&!e.d&&(n.r++,e.push(n)));c.map((e=>e[t](o)))}));return n.r?l:i()}),(e=>(e?d(f[a]=e):l(h),r(s)))),s&&s.d<0&&(s.d=0)},s.d=(e,t)=>{for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c=s(638),l=(c=await c).N,d=c.S;export{l as actions,d as state};
//# sourceMappingURL=router.min.js.map