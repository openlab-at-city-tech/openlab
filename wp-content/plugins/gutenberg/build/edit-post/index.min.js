!function(){var e={4403:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var a=l.apply(null,n);a&&e.push(a)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var i in n)o.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(n=function(){return l}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var l=t[o];if(void 0!==l)return l.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){"use strict";n.r(o),n.d(o,{PluginBlockSettingsMenuItem:function(){return Ml},PluginDocumentSettingPanel:function(){return Jo},PluginMoreMenuItem:function(){return Nl},PluginPostPublishPanel:function(){return ml},PluginPostStatusInfo:function(){return wo},PluginPrePublishPanel:function(){return _l},PluginSidebar:function(){return el},PluginSidebarMoreMenuItem:function(){return Il},__experimentalFullscreenModeClose:function(){return In},__experimentalMainDashboardButton:function(){return jn},initializeEditor:function(){return Al},reinitializeEditor:function(){return Dl},store:function(){return Vt}});var e={};n.r(e),n.d(e,{disableComplementaryArea:function(){return $},enableComplementaryArea:function(){return z},pinItem:function(){return W},setDefaultComplementaryArea:function(){return U},setFeatureDefaults:function(){return K},setFeatureValue:function(){return Z},toggleFeature:function(){return j},unpinItem:function(){return q}});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:function(){return Y},isFeatureActive:function(){return Q},isItemPinned:function(){return X}});var l={};n.r(l),n.d(l,{__experimentalSetPreviewDeviceType:function(){return Ke},__unstableCreateTemplate:function(){return et},__unstableSwitchToTemplateMode:function(){return Je},closeGeneralSidebar:function(){return Me},closeModal:function(){return Ie},closePublishSidebar:function(){return Ae},hideBlockTypes:function(){return $e},initializeMetaBoxes:function(){return nt},metaBoxUpdatesFailure:function(){return Ze},metaBoxUpdatesSuccess:function(){return je},openGeneralSidebar:function(){return Be},openModal:function(){return Ne},openPublishSidebar:function(){return De},removeEditorPanel:function(){return Ve},requestMetaBoxUpdates:function(){return qe},setAvailableMetaBoxesPerLocation:function(){return We},setIsEditingTemplate:function(){return Qe},setIsInserterOpened:function(){return Ye},setIsListViewOpened:function(){return Xe},showBlockTypes:function(){return ze},switchEditorMode:function(){return He},toggleEditorPanelEnabled:function(){return Oe},toggleEditorPanelOpened:function(){return Fe},toggleFeature:function(){return Re},togglePinnedPluginItem:function(){return Ge},togglePublishSidebar:function(){return Le},updatePreferredStyleVariations:function(){return Ue}});var r={};n.r(r),n.d(r,{__experimentalGetInsertionPoint:function(){return It},__experimentalGetPreviewDeviceType:function(){return Mt},areMetaBoxesInitialized:function(){return Lt},getActiveGeneralSidebarName:function(){return mt},getActiveMetaBoxLocations:function(){return St},getAllMetaBoxes:function(){return Tt},getEditedPostTemplate:function(){return Ot},getEditorMode:function(){return ct},getHiddenBlockTypes:function(){return ht},getMetaBoxesPerLocation:function(){return Ct},getPreference:function(){return gt},getPreferences:function(){return pt},hasMetaBoxes:function(){return xt},isEditingTemplate:function(){return At},isEditorPanelEnabled:function(){return bt},isEditorPanelOpened:function(){return ft},isEditorPanelRemoved:function(){return Et},isEditorSidebarOpened:function(){return dt},isFeatureActive:function(){return yt},isInserterOpened:function(){return Nt},isListViewOpened:function(){return Dt},isMetaBoxLocationActive:function(){return Pt},isMetaBoxLocationVisible:function(){return kt},isModalActive:function(){return vt},isPluginItemPinned:function(){return wt},isPluginSidebarOpened:function(){return ut},isPublishSidebarOpened:function(){return _t},isSavingMetaBoxes:function(){return Bt}});var a=window.wp.element,i=window.wp.blocks,s=window.wp.blockLibrary,c=window.wp.data,d=window.wp.hooks,u=window.wp.preferences,m=window.wp.mediaUtils;function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},p.apply(this,arguments)}(0,d.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",(()=>m.MediaUpload));var g=window.wp.components,h=window.wp.blockEditor,_=window.wp.i18n,E=window.wp.compose;const b=(0,E.compose)((0,c.withSelect)(((e,t)=>{if((0,i.hasBlockSupport)(t.name,"multiple",!0))return{};const n=e(h.store).getBlocks().find((e=>{let{name:n}=e;return t.name===n}));return{originalBlockClientId:n&&n.clientId!==t.clientId&&n.clientId}})),(0,c.withDispatch)(((e,t)=>{let{originalBlockClientId:n}=t;return{selectFirst:()=>e(h.store).selectBlock(n)}}))),f=(0,E.createHigherOrderComponent)((e=>b((t=>{let{originalBlockClientId:n,selectFirst:o,...l}=t;if(!n)return(0,a.createElement)(e,l);const r=(0,i.getBlockType)(l.name),s=function(e){const t=(0,i.findTransform)((0,i.getBlockTransforms)("to",e),(e=>{let{type:t,blocks:n}=e;return"block"===t&&1===n.length}));return t?(0,i.getBlockType)(t.blocks[0]):null}(l.name);return[(0,a.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,a.createElement)(e,p({key:"block-edit"},l))),(0,a.createElement)(h.Warning,{key:"multiple-use-warning",actions:[(0,a.createElement)(g.Button,{key:"find-original",variant:"secondary",onClick:o},(0,_.__)("Find original")),(0,a.createElement)(g.Button,{key:"remove",variant:"secondary",onClick:()=>l.onReplace([])},(0,_.__)("Remove")),s&&(0,a.createElement)(g.Button,{key:"transform",variant:"secondary",onClick:()=>l.onReplace((0,i.createBlock)(s.name,l.attributes))},(0,_.__)("Transform into:")," ",s.title)]},(0,a.createElement)("strong",null,null==r?void 0:r.title,": "),(0,_.__)("This block can only be used once."))]}))),"withMultipleValidation");(0,d.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",f);var v=window.wp.primitives,y=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M18.2 17c0 .7-.6 1.2-1.2 1.2H7c-.7 0-1.2-.6-1.2-1.2V7c0-.7.6-1.2 1.2-1.2h3.2V4.2H7C5.5 4.2 4.2 5.5 4.2 7v10c0 1.5 1.2 2.8 2.8 2.8h10c1.5 0 2.8-1.2 2.8-2.8v-3.6h-1.5V17zM14.9 3v1.5h3.7l-6.4 6.4 1.1 1.1 6.4-6.4v3.7h1.5V3h-6.3z"})),w=window.wp.plugins,S=window.wp.url,k=window.wp.notices,P=window.wp.editor;function C(){const{createNotice:e}=(0,c.useDispatch)(k.store),t=(0,c.useSelect)((e=>()=>e(P.store).getEditedPostAttribute("content")),[]),n=(0,E.useCopyToClipboard)(t,(function(){e("info",(0,_.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}));return(0,a.createElement)(g.MenuItem,{ref:n},(0,_.__)("Copy all blocks"))}var T=window.wp.keycodes;function x(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;const n=[...e];for(const e of t){const t=n.findIndex((t=>t.id===e.id));-1!==t?n[t]=e:n.push(e)}return n}const B=(0,c.combineReducers)({isSaving:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("SET_META_BOXES_PER_LOCATIONS"===t.type){const n={...e};for(const[e,o]of Object.entries(t.metaBoxesPerLocation))n[e]=x(n[e],o);return n}return e},initialized:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"META_BOXES_INITIALIZED"===t.type||e}});var M=(0,c.combineReducers)({activeModal:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e},metaBoxes:B,publishSidebarActive:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e},removedPanels:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"REMOVE_PANEL"!==t.type||e.includes(t.panelName)?e:[...e,t.panelName]},deviceType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Desktop",t=arguments.length>1?arguments[1]:void 0;return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},isEditingTemplate:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_IS_EDITING_TEMPLATE"===t.type?t.value:e}}),N=window.wp.apiFetch,I=n.n(N),D=n(4403),A=n.n(D),L=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),O=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),F=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),V=window.wp.viewport,R=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),H=window.wp.deprecated,G=n.n(H);const U=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),z=(e,t)=>n=>{let{registry:o,dispatch:l}=n;t&&(o.select(u.store).get(e,"isComplementaryAreaVisible")||o.dispatch(u.store).set(e,"isComplementaryAreaVisible",!0),l({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},$=e=>t=>{let{registry:n}=t;n.select(u.store).get(e,"isComplementaryAreaVisible")&&n.dispatch(u.store).set(e,"isComplementaryAreaVisible",!1)},W=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const l=o.select(u.store).get(e,"pinnedItems");!0!==(null==l?void 0:l[t])&&o.dispatch(u.store).set(e,"pinnedItems",{...l,[t]:!0})},q=(e,t)=>n=>{let{registry:o}=n;if(!t)return;const l=o.select(u.store).get(e,"pinnedItems");o.dispatch(u.store).set(e,"pinnedItems",{...l,[t]:!1})};function j(e,t){return function(n){let{registry:o}=n;G()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),o.dispatch(u.store).toggle(e,t)}}function Z(e,t,n){return function(o){let{registry:l}=o;G()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),l.dispatch(u.store).set(e,t,!!n)}}function K(e,t){return function(n){let{registry:o}=n;G()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),o.dispatch(u.store).setDefaults(e,t)}}const Y=(0,c.createRegistrySelector)((e=>(t,n)=>{var o;const l=e(u.store).get(n,"isComplementaryAreaVisible");if(void 0!==l)return l?null==t||null===(o=t.complementaryAreas)||void 0===o?void 0:o[n]:null})),X=(0,c.createRegistrySelector)((e=>(t,n,o)=>{var l;const r=e(u.store).get(n,"pinnedItems");return null===(l=null==r?void 0:r[o])||void 0===l||l})),Q=(0,c.createRegistrySelector)((e=>(t,n,o)=>(G()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(u.store).get(n,o))));var J=(0,c.combineReducers)({complementaryAreas:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e}});const ee=(0,c.createReduxStore)("core/interface",{reducer:J,actions:e,selectors:t});(0,c.register)(ee);var te=(0,w.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),ne=te((function(e){let{as:t=g.Button,scope:n,identifier:o,icon:l,selectedIcon:r,name:i,...s}=e;const d=t,u=(0,c.useSelect)((e=>e(ee).getActiveComplementaryArea(n)===o),[o]),{enableComplementaryArea:m,disableComplementaryArea:h}=(0,c.useDispatch)(ee);return(0,a.createElement)(d,p({icon:r&&u?r:l,onClick:()=>{u?h(n):m(n,o)}},s))})),oe=e=>{let{smallScreenTitle:t,children:n,className:o,toggleButtonProps:l}=e;const r=(0,a.createElement)(ne,p({icon:R},l));return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},t&&(0,a.createElement)("span",{className:"interface-complementary-area-header__small-title"},t),r),(0,a.createElement)("div",{className:A()("components-panel__header","interface-complementary-area-header",o),tabIndex:-1},n,r))};const le=()=>{};function re(e){let{name:t,as:n=g.Button,onClick:o,...l}=e;return(0,a.createElement)(g.Fill,{name:t},(e=>{let{onClick:t}=e;return(0,a.createElement)(n,p({onClick:o||t?function(){(o||le)(...arguments),(t||le)(...arguments)}:void 0},l))}))}re.Slot=function(e){let{name:t,as:n=g.ButtonGroup,fillProps:o={},bubblesVirtually:l,...r}=e;return(0,a.createElement)(g.Slot,{name:t,bubblesVirtually:l,fillProps:o},(e=>{if(!a.Children.toArray(e).length)return null;const t=[];a.Children.forEach(e,(e=>{let{props:{__unstableExplicitMenuItem:n,__unstableTarget:o}}=e;o&&n&&t.push(o)}));const o=a.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&t.includes(e.props.__unstableTarget)?null:e));return(0,a.createElement)(n,r,o)}))};var ae=re;const ie=e=>{let{__unstableExplicitMenuItem:t,__unstableTarget:n,...o}=e;return(0,a.createElement)(g.MenuItem,o)};function se(e){let{scope:t,target:n,__unstableExplicitMenuItem:o,...l}=e;return(0,a.createElement)(ne,p({as:e=>(0,a.createElement)(ae,p({__unstableExplicitMenuItem:o,__unstableTarget:`${t}/${n}`,as:ie,name:`${t}/plugin-more-menu`},e)),role:"menuitemcheckbox",selectedIcon:L,name:n,scope:t},l))}function ce(e){let{scope:t,...n}=e;return(0,a.createElement)(g.Fill,p({name:`PinnedItems/${t}`},n))}ce.Slot=function(e){let{scope:t,className:n,...o}=e;return(0,a.createElement)(g.Slot,p({name:`PinnedItems/${t}`},o),(e=>(null==e?void 0:e.length)>0&&(0,a.createElement)("div",{className:A()(n,"interface-pinned-items")},e)))};var de=ce;function ue(e){let{scope:t,children:n,className:o}=e;return(0,a.createElement)(g.Fill,{name:`ComplementaryArea/${t}`},(0,a.createElement)("div",{className:o},n))}const me=te((function(e){let{children:t,className:n,closeLabel:o=(0,_.__)("Close plugin"),identifier:l,header:r,headerClassName:i,icon:s,isPinnable:d=!0,panelClassName:u,scope:m,name:p,smallScreenTitle:h,title:E,toggleShortcut:b,isActiveByDefault:f,showIconLabels:v=!1}=e;const{isActive:y,isPinned:w,activeArea:S,isSmall:k,isLarge:P}=(0,c.useSelect)((e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(ee),o=t(m);return{isActive:o===l,isPinned:n(m,l),activeArea:o,isSmall:e(V.store).isViewportMatch("< medium"),isLarge:e(V.store).isViewportMatch("large")}}),[l,m]);!function(e,t,n,o,l){const r=(0,a.useRef)(!1),i=(0,a.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:d}=(0,c.useDispatch)(ee);(0,a.useEffect)((()=>{o&&l&&!r.current?(d(e),i.current=!0):i.current&&!l&&r.current?(i.current=!1,s(e,t)):i.current&&n&&n!==t&&(i.current=!1),l!==r.current&&(r.current=l)}),[o,l,e,t,n])}(m,l,S,y,k);const{enableComplementaryArea:C,disableComplementaryArea:T,pinItem:x,unpinItem:B}=(0,c.useDispatch)(ee);return(0,a.useEffect)((()=>{f&&void 0===S&&!k&&C(m,l)}),[S,f,m,l,k]),(0,a.createElement)(a.Fragment,null,d&&(0,a.createElement)(de,{scope:m},w&&(0,a.createElement)(ne,{scope:m,identifier:l,isPressed:y&&(!v||P),"aria-expanded":y,label:E,icon:v?L:s,showTooltip:!v,variant:v?"tertiary":void 0})),p&&d&&(0,a.createElement)(se,{target:p,scope:m,icon:s},E),y&&(0,a.createElement)(ue,{className:A()("interface-complementary-area",n),scope:m},(0,a.createElement)(oe,{className:i,closeLabel:o,onClose:()=>T(m),smallScreenTitle:h,toggleButtonProps:{label:o,shortcut:b,scope:m,identifier:l}},r||(0,a.createElement)(a.Fragment,null,(0,a.createElement)("strong",null,E),d&&(0,a.createElement)(g.Button,{className:"interface-complementary-area__pin-unpin-item",icon:w?O:F,label:w?(0,_.__)("Unpin from toolbar"):(0,_.__)("Pin to toolbar"),onClick:()=>(w?B:x)(m,l),isPressed:w,"aria-expanded":w}))),(0,a.createElement)(g.Panel,{className:u},t)))}));me.Slot=function(e){let{scope:t,...n}=e;return(0,a.createElement)(g.Slot,p({name:`ComplementaryArea/${t}`},n))};var pe=me,ge=e=>{let{isActive:t}=e;return(0,a.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,a.useEffect)((()=>(t?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{t&&document.body.classList.remove("is-fullscreen-mode")})),[t]),null};function he(e){let{children:t,className:n,ariaLabel:o,as:l="div",...r}=e;return(0,a.createElement)(l,p({className:A()("interface-navigable-region",n),"aria-label":o,role:"region",tabIndex:"-1"},r),(0,a.createElement)("div",{className:"interface-navigable-region__stacker"},t))}var _e=(0,a.forwardRef)((function(e,t){let{isDistractionFree:n,footer:o,header:l,editorNotices:r,sidebar:i,secondarySidebar:s,notices:c,content:d,actions:u,labels:m,className:h,shortcuts:b}=e;const f=(0,g.__unstableUseNavigateRegions)(b);!function(e){(0,a.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const v={
/* translators: accessibility text for the top bar landmark region. */
header:(0,_.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,_.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,_.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,_.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,_.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,_.__)("Footer"),...m},y={hidden:n?{opacity:0}:{opacity:1},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}}};return(0,a.createElement)("div",p({},f,{ref:(0,E.useMergeRefs)([t,f.ref]),className:A()(h,"interface-interface-skeleton",f.className,!!o&&"has-footer")}),(0,a.createElement)("div",{className:"interface-interface-skeleton__editor"},!!l&&n&&(0,a.createElement)(he,{as:g.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":v.header,initial:n?"hidden":"hover",whileHover:"hover",variants:y,transition:{type:"tween",delay:.8}},l),!!l&&!n&&(0,a.createElement)(he,{className:"interface-interface-skeleton__header",ariaLabel:v.header},l),n&&(0,a.createElement)("div",{className:"interface-interface-skeleton__header"},r),(0,a.createElement)("div",{className:"interface-interface-skeleton__body"},!!s&&(0,a.createElement)(he,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:v.secondarySidebar},s),!!c&&(0,a.createElement)("div",{className:"interface-interface-skeleton__notices"},c),(0,a.createElement)(he,{className:"interface-interface-skeleton__content",ariaLabel:v.body},d),!!i&&(0,a.createElement)(he,{className:"interface-interface-skeleton__sidebar",ariaLabel:v.sidebar},i),!!u&&(0,a.createElement)(he,{className:"interface-interface-skeleton__actions",ariaLabel:v.actions},u))),!!o&&(0,a.createElement)(he,{className:"interface-interface-skeleton__footer",ariaLabel:v.footer},o))})),Ee=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function be(e){let{as:t=g.DropdownMenu,className:n,label:
/* translators: button label text should, if possible, be under 16 characters. */
o=(0,_.__)("Options"),popoverProps:l,toggleProps:r,children:i}=e;return(0,a.createElement)(t,{className:A()("interface-more-menu-dropdown",n),icon:Ee,label:o,popoverProps:{position:"bottom left",...l,className:A()("interface-more-menu-dropdown__content",null==l?void 0:l.className)},toggleProps:{tooltipPosition:"bottom",...r}},(e=>i(e)))}function fe(e){let{closeModal:t,children:n}=e;return(0,a.createElement)(g.Modal,{className:"interface-preferences-modal",title:(0,_.__)("Preferences"),closeLabel:(0,_.__)("Close"),onRequestClose:t},n)}var ve=function(e){let{icon:t,size:n=24,...o}=e;return(0,a.cloneElement)(t,{width:n,height:n,...o})},ye=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),we=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));const Se="preferences-menu";function ke(e){let{sections:t}=e;const n=(0,E.useViewportMatch)("medium"),[o,l]=(0,a.useState)(Se),{tabs:r,sectionsContentMap:i}=(0,a.useMemo)((()=>{let e={tabs:[],sectionsContentMap:{}};return t.length&&(e=t.reduce(((e,t)=>{let{name:n,tabLabel:o,content:l}=t;return e.tabs.push({name:n,title:o}),e.sectionsContentMap[n]=l,e}),{tabs:[],sectionsContentMap:{}})),e}),[t]),s=(0,a.useCallback)((e=>i[e.name]||null),[i]);let c;return c=n?(0,a.createElement)(g.TabPanel,{className:"interface-preferences__tabs",tabs:r,initialTabName:o!==Se?o:void 0,onSelect:l,orientation:"vertical"},s):(0,a.createElement)(g.__experimentalNavigatorProvider,{initialPath:"/",className:"interface-preferences__provider"},(0,a.createElement)(g.__experimentalNavigatorScreen,{path:"/"},(0,a.createElement)(g.Card,{isBorderless:!0,size:"small"},(0,a.createElement)(g.CardBody,null,(0,a.createElement)(g.__experimentalItemGroup,null,r.map((e=>(0,a.createElement)(g.__experimentalNavigatorButton,{key:e.name,path:e.name,as:g.__experimentalItem,isAction:!0},(0,a.createElement)(g.__experimentalHStack,{justify:"space-between"},(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(g.__experimentalTruncate,null,e.title)),(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(ve,{icon:(0,_.isRTL)()?ye:we})))))))))),t.length&&t.map((e=>(0,a.createElement)(g.__experimentalNavigatorScreen,{key:`${e.name}-menu`,path:e.name},(0,a.createElement)(g.Card,{isBorderless:!0,size:"large"},(0,a.createElement)(g.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6"},(0,a.createElement)(g.__experimentalNavigatorBackButton,{icon:(0,_.isRTL)()?we:ye,"aria-label":(0,_.__)("Navigate to the previous view")}),(0,a.createElement)(g.__experimentalText,{size:"16"},e.tabLabel)),(0,a.createElement)(g.CardBody,null,e.content)))))),c}var Pe=e=>{let{description:t,title:n,children:o}=e;return(0,a.createElement)("fieldset",{className:"interface-preferences-modal__section"},(0,a.createElement)("legend",{className:"interface-preferences-modal__section-legend"},(0,a.createElement)("h2",{className:"interface-preferences-modal__section-title"},n),t&&(0,a.createElement)("p",{className:"interface-preferences-modal__section-description"},t)),o)},Ce=function(e){let{help:t,label:n,isChecked:o,onChange:l,children:r}=e;return(0,a.createElement)("div",{className:"interface-preferences-modal__option"},(0,a.createElement)(g.ToggleControl,{__nextHasNoMarginBottom:!0,help:t,label:n,checked:o,onChange:l}),r)},Te=window.wp.a11y,xe=window.wp.coreData;const Be=e=>t=>{let{registry:n}=t;return n.dispatch(ee).enableComplementaryArea(Vt.name,e)},Me=()=>e=>{let{registry:t}=e;return t.dispatch(ee).disableComplementaryArea(Vt.name)};function Ne(e){return{type:"OPEN_MODAL",name:e}}function Ie(){return{type:"CLOSE_MODAL"}}function De(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function Ae(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function Le(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}const Oe=e=>t=>{var n;let{registry:o}=t;const l=null!==(n=o.select(u.store).get("core/edit-post","inactivePanels"))&&void 0!==n?n:[];let r;r=null!=l&&l.includes(e)?l.filter((t=>t!==e)):[...l,e],o.dispatch(u.store).set("core/edit-post","inactivePanels",r)},Fe=e=>t=>{var n;let{registry:o}=t;const l=null!==(n=o.select(u.store).get("core/edit-post","openPanels"))&&void 0!==n?n:[];let r;r=null!=l&&l.includes(e)?l.filter((t=>t!==e)):[...l,e],o.dispatch(u.store).set("core/edit-post","openPanels",r)};function Ve(e){return{type:"REMOVE_PANEL",panelName:e}}const Re=e=>t=>{let{registry:n}=t;return n.dispatch(u.store).toggle("core/edit-post",e)},He=e=>t=>{let{registry:n}=t;n.dispatch(u.store).set("core/edit-post","editorMode",e),"visual"!==e&&n.dispatch(h.store).clearSelectedBlock();const o="visual"===e?(0,_.__)("Visual editor selected"):(0,_.__)("Code editor selected");(0,Te.speak)(o,"assertive")},Ge=e=>t=>{let{registry:n}=t;const o=n.select(ee).isItemPinned("core/edit-post",e);n.dispatch(ee)[o?"unpinItem":"pinItem"]("core/edit-post",e)},Ue=(e,t)=>n=>{var o;let{registry:l}=n;if(!e)return;const r=null!==(o=l.select(u.store).get("core/edit-post","preferredStyleVariations"))&&void 0!==o?o:{};if(t)l.dispatch(u.store).set("core/edit-post","preferredStyleVariations",{...r,[e]:t});else{const t={...r};delete t[e],l.dispatch(u.store).set("core/edit-post","preferredStyleVariations",t)}},ze=e=>t=>{var n;let{registry:o}=t;const l=(null!==(n=o.select(u.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[]).filter((t=>!(Array.isArray(e)?e:[e]).includes(t)));o.dispatch(u.store).set("core/edit-post","hiddenBlockTypes",l)},$e=e=>t=>{var n;let{registry:o}=t;const l=null!==(n=o.select(u.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[],r=new Set([...l,...Array.isArray(e)?e:[e]]);o.dispatch(u.store).set("core/edit-post","hiddenBlockTypes",[...r])};function We(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const qe=()=>async e=>{let{registry:t,select:n,dispatch:o}=e;o({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();const l=t.select(P.store).getCurrentPost(),r=[!!l.comment_status&&["comment_status",l.comment_status],!!l.ping_status&&["ping_status",l.ping_status],!!l.sticky&&["sticky",l.sticky],!!l.author&&["post_author",l.author]].filter(Boolean),a=[new window.FormData(document.querySelector(".metabox-base-form")),...n.getActiveMetaBoxLocations().map((e=>new window.FormData((e=>document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`)||document.querySelector("#metaboxes .metabox-location-"+e))(e))))].reduce(((e,t)=>{for(const[n,o]of t)e.append(n,o);return e}),new window.FormData);r.forEach((e=>{let[t,n]=e;return a.append(t,n)}));try{await I()({url:window._wpMetaBoxUrl,method:"POST",body:a,parse:!1}),o.metaBoxUpdatesSuccess()}catch{o.metaBoxUpdatesFailure()}};function je(){return{type:"META_BOX_UPDATES_SUCCESS"}}function Ze(){return{type:"META_BOX_UPDATES_FAILURE"}}function Ke(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function Ye(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function Xe(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function Qe(e){return{type:"SET_IS_EDITING_TEMPLATE",value:e}}const Je=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t=>{let{registry:n,select:o,dispatch:l}=t;if(l(Qe(!0)),!o.isFeatureActive("welcomeGuideTemplate")){const t=e?(0,_.__)("Custom template created. You're in template mode now."):(0,_.__)("Editing template. Changes made here affect all posts and pages that use the template.");n.dispatch(k.store).createSuccessNotice(t,{type:"snackbar"})}}},et=e=>async t=>{let{registry:n}=t;const o=await n.dispatch(xe.store).saveEntityRecord("postType","wp_template",e),l=n.select(P.store).getCurrentPost();n.dispatch(xe.store).editEntityRecord("postType",l.type,l.id,{template:o.slug})};let tt=!1;const nt=()=>e=>{let{registry:t,select:n,dispatch:o}=e;if(!t.select(P.store).__unstableIsEditorReady())return;if(tt)return;const l=t.select(P.store).getCurrentPostType();window.postboxes.page!==l&&window.postboxes.add_postbox_toggles(l),tt=!0;let r=t.select(P.store).isSavingPost(),a=t.select(P.store).isAutosavingPost();t.subscribe((async()=>{const e=t.select(P.store).isSavingPost(),l=t.select(P.store).isAutosavingPost(),i=r&&!a&&!e&&n.hasMetaBoxes();r=e,a=l,i&&await o.requestMetaBoxUpdates()})),o({type:"META_BOXES_INITIALIZED"})};var ot={};function lt(e){return[e]}function rt(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function at(e,t){var n,o=t||lt;function l(e){var t,o,l,r,a,i=n,s=!0;for(t=0;t<e.length;t++){if(!(a=o=e[t])||"object"!=typeof a){s=!1;break}i.has(o)?i=i.get(o):(l=new WeakMap,i.set(o,l),i=l)}return i.has(ot)||((r=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=s,i.set(ot,r)),i.get(ot)}function r(){n=new WeakMap}function a(){var t,n,r,a,i,s=arguments.length;for(a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];for((t=l(i=o.apply(null,a))).isUniqueByDependants||(t.lastDependants&&!rt(i,t.lastDependants,0)&&t.clear(),t.lastDependants=i),n=t.head;n;){if(rt(n.args,a,1))return n!==t.head&&(n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=t.head,n.prev=null,t.head.prev=n,t.head=n),n.val;n=n.next}return n={val:e.apply(null,a)},a[0]=null,n.args=a,t.head&&(t.head.prev=n,n.next=t.head),t.head=n,n.val}return a.getDependants=o,a.clear=r,r(),a}const it=[],st={},ct=(0,c.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(u.store).get("core/edit-post","editorMode"))&&void 0!==t?t:"visual"})),dt=(0,c.createRegistrySelector)((e=>()=>{const t=e(ee).getActiveComplementaryArea("core/edit-post");return["edit-post/document","edit-post/block"].includes(t)})),ut=(0,c.createRegistrySelector)((e=>()=>{const t=e(ee).getActiveComplementaryArea("core/edit-post");return!!t&&!["edit-post/document","edit-post/block"].includes(t)})),mt=(0,c.createRegistrySelector)((e=>()=>e(ee).getActiveComplementaryArea("core/edit-post"))),pt=(0,c.createRegistrySelector)((e=>()=>{G()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});return{...["hiddenBlockTypes","editorMode","preferredStyleVariations"].reduce(((t,n)=>({...t,[n]:e(u.store).get("core/edit-post",n)})),{}),panels:function(e,t){var n;const o=null==e?void 0:e.reduce(((e,t)=>({...e,[t]:{enabled:!1}})),{}),l=null==t?void 0:t.reduce(((e,t)=>{const n=null==e?void 0:e[t];return{...e,[t]:{...n,opened:!0}}}),null!=o?o:{});return null!==(n=null!=l?l:o)&&void 0!==n?n:st}(e(u.store).get("core/edit-post","inactivePanels"),e(u.store).get("core/edit-post","openPanels"))}}));function gt(e,t,n){G()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const o=pt(e)[t];return void 0===o?n:o}const ht=(0,c.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(u.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==t?t:it}));function _t(e){return e.publishSidebarActive}function Et(e,t){return e.removedPanels.includes(t)}const bt=(0,c.createRegistrySelector)((e=>(t,n)=>{const o=e(u.store).get("core/edit-post","inactivePanels");return!(Et(t,n)||null!=o&&o.includes(n))})),ft=(0,c.createRegistrySelector)((e=>(t,n)=>{const o=e(u.store).get("core/edit-post","openPanels");return!(null==o||!o.includes(n))}));function vt(e,t){return e.activeModal===t}const yt=(0,c.createRegistrySelector)((e=>(t,n)=>!!e(u.store).get("core/edit-post",n))),wt=(0,c.createRegistrySelector)((e=>(t,n)=>e(ee).isItemPinned("core/edit-post",n))),St=at((e=>Object.keys(e.metaBoxes.locations).filter((t=>Pt(e,t)))),(e=>[e.metaBoxes.locations]));function kt(e,t){var n;return Pt(e,t)&&(null===(n=Ct(e,t))||void 0===n?void 0:n.some((t=>{let{id:n}=t;return bt(e,`meta-box-${n}`)})))}function Pt(e,t){const n=Ct(e,t);return!!n&&0!==n.length}function Ct(e,t){return e.metaBoxes.locations[t]}const Tt=at((e=>Object.values(e.metaBoxes.locations).flat()),(e=>[e.metaBoxes.locations]));function xt(e){return St(e).length>0}function Bt(e){return e.metaBoxes.isSaving}function Mt(e){return e.deviceType}function Nt(e){return!!e.blockInserterPanel}function It(e){const{rootClientId:t,insertionIndex:n,filterValue:o}=e.blockInserterPanel;return{rootClientId:t,insertionIndex:n,filterValue:o}}function Dt(e){return e.listViewPanel}function At(e){return e.isEditingTemplate}function Lt(e){return e.metaBoxes.initialized}const Ot=(0,c.createRegistrySelector)((e=>()=>{const t=e(P.store).getEditedPostAttribute("template");if(t){var n;const o=null===(n=e(xe.store).getEntityRecords("postType","wp_template",{per_page:-1}))||void 0===n?void 0:n.find((e=>e.slug===t));return o?e(xe.store).getEditedEntityRecord("postType","wp_template",o.id):o}const o=e(P.store).getCurrentPost();return o.link?e(xe.store).__experimentalGetTemplateForLink(o.link):null})),Ft="core/edit-post",Vt=(0,c.createReduxStore)(Ft,{reducer:M,actions:l,selectors:r});(0,c.register)(Vt);var Rt=(0,c.withDispatch)((e=>{const{openModal:t}=e(Vt);return{openModal:t}}))((function(e){let{openModal:t}=e;return(0,a.createElement)(g.MenuItem,{onClick:()=>{t("edit-post/keyboard-shortcut-help")},shortcut:T.displayShortcut.access("h")},(0,_.__)("Keyboard shortcuts"))})),Ht=window.lodash;const{Fill:Gt,Slot:Ut}=(0,g.createSlotFill)("ToolsMoreMenuGroup");Gt.Slot=e=>{let{fillProps:t}=e;return(0,a.createElement)(Ut,{fillProps:t},(e=>!(0,Ht.isEmpty)(e)&&(0,a.createElement)(g.MenuGroup,{label:(0,_.__)("Tools")},e)))};var zt=Gt;function $t(){const e=(0,c.useSelect)((e=>e(Vt).isEditingTemplate()),[]);return(0,a.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,_.__)("Welcome Guide")})}var Wt,qt=(0,a.createElement)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(v.Path,{d:"M13.8 5.2H3v1.5h10.8V5.2zm-3.6 12v1.5H21v-1.5H10.2zm7.2-6H6.6v1.5h10.8v-1.5z"}));let jt=a.Fragment;!0===(null===(Wt=window)||void 0===Wt?void 0:Wt.__experimentalEnableOffCanvasNavigationEditor)&&(jt=()=>{const{openGeneralSidebar:e}=(0,c.useDispatch)("core/edit-post");return(0,a.createElement)(g.ToolbarGroup,null,(0,a.createElement)(g.ToolbarButton,{className:"components-toolbar__control",label:(0,_.__)("Open navigation list view"),onClick:()=>e("edit-post/block"),icon:qt}))});var Zt=()=>(0,a.createElement)(h.BlockEditorProvider,null,(0,a.createElement)(h.__unstableBlockToolbarLastItem,null,(0,a.createElement)(h.__unstableBlockNameContext.Consumer,null,(e=>"core/navigation"===e&&(0,a.createElement)(jt,null)))));(0,w.registerPlugin)("edit-post",{render:()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(zt,null,(e=>{let{onClose:t}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(g.MenuItem,{role:"menuitem",href:(0,S.addQueryArgs)("edit.php",{post_type:"wp_block"})},(0,_.__)("Manage Reusable blocks")),(0,a.createElement)(Rt,{onSelect:t}),(0,a.createElement)($t,null),(0,a.createElement)(C,null),(0,a.createElement)(g.MenuItem,{role:"menuitem",icon:y,href:(0,_.__)("https://wordpress.org/support/article/wordpress-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,_.__)("Help"),(0,a.createElement)(g.VisuallyHidden,{as:"span"},
/* translators: accessibility text */
(0,_.__)("(opens in a new tab)"))))})),(0,a.createElement)(Zt,null))});var Kt=window.wp.keyboardShortcuts;function Yt(){const e=(0,c.useSelect)((e=>e(P.store).getEditorSettings().richEditingEnabled),[]),{switchEditorMode:t}=(0,c.useDispatch)(Vt);return(0,a.createElement)("div",{className:"edit-post-text-editor"},(0,a.createElement)(P.TextEditorGlobalKeyboardShortcuts,null),e&&(0,a.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,a.createElement)("h2",null,(0,_.__)("Editing code")),(0,a.createElement)(g.Button,{variant:"tertiary",onClick:()=>t("visual"),shortcut:T.displayShortcut.secondary("m")},(0,_.__)("Exit code editor"))),(0,a.createElement)("div",{className:"edit-post-text-editor__body"},(0,a.createElement)(P.PostTitle,null),(0,a.createElement)(P.PostTextEditor,null)))}var Xt=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}));const Qt=()=>{};var Jt=function(e){let{onClick:t=Qt,small:n=!1}=e;const{shortcut:o,areAdvancedSettingsOpened:l}=(0,c.useSelect)((e=>({shortcut:e(Kt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),areAdvancedSettingsOpened:"edit-post/block"===e(Vt).getActiveGeneralSidebarName()})),[]),{openGeneralSidebar:r,closeGeneralSidebar:i}=(0,c.useDispatch)(Vt),s=l?(0,_.__)("Hide more settings"):(0,_.__)("Show more settings");return(0,a.createElement)(g.MenuItem,{onClick:()=>{l?(i(),(0,Te.speak)((0,_.__)("Block settings closed"))):(r("edit-post/block"),(0,Te.speak)((0,_.__)("Additional settings are now available in the Editor block settings sidebar"))),t()},shortcut:o},!n&&s)};function en(e){let{children:t,contentRef:n,shouldIframe:o,styles:l,assets:r,style:i}=e;const s=(0,h.__unstableUseMouseMoveTypingReset)();return o?(0,a.createElement)(h.__unstableIframe,{head:(0,a.createElement)(h.__unstableEditorStyles,{styles:l}),assets:r,ref:s,contentRef:n,style:{width:"100%",height:"100%",display:"block"},name:"editor-canvas"},t):(0,a.createElement)(a.Fragment,null,(0,a.createElement)(h.__unstableEditorStyles,{styles:l}),(0,a.createElement)(h.WritingFlow,{ref:n,className:"editor-styles-wrapper",style:{flex:"1",...i},tabIndex:-1},t))}function tn(e){for(let t=0;t<e.length;t++){if("core/post-content"===e[t].name)return e[t];if(e[t].innerBlocks.length){const n=tn(e[t].innerBlocks);if(n)return n}}}function nn(e){var t;let{styles:n}=e;const{deviceType:o,isWelcomeGuideVisible:l,isTemplateMode:r,editedPostTemplate:s={},wrapperBlockName:d,wrapperUniqueId:u}=(0,c.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n,__experimentalGetPreviewDeviceType:o,getEditedPostTemplate:l}=e(Vt),{getCurrentPostId:r,getCurrentPostType:a,getEditorSettings:i}=e(P.store),s=n();let c;"wp_block"===a()?c="core/block":s||(c="core/post-content");const d=i().supportsTemplateMode,u=e(xe.store).canUser("create","templates");return{deviceType:o(),isWelcomeGuideVisible:t("welcomeGuide"),isTemplateMode:s,editedPostTemplate:d&&u?l():void 0,wrapperBlockName:c,wrapperUniqueId:r()}}),[]),{isCleanNewPost:m}=(0,c.useSelect)(P.store),p=(0,c.useSelect)((e=>e(Vt).hasMetaBoxes()),[]),{themeHasDisabledLayoutStyles:b,themeSupportsLayout:f,assets:v,isFocusMode:y}=(0,c.useSelect)((e=>{const t=e(h.store).getSettings();return{themeHasDisabledLayoutStyles:t.disableLayoutStyles,themeSupportsLayout:t.supportsLayout,assets:t.__unstableResolvedAssets,isFocusMode:t.focusMode}}),[]),{clearSelectedBlock:w}=(0,c.useDispatch)(h.store),{setIsEditingTemplate:S}=(0,c.useDispatch)(Vt),k={height:"100%",width:"100%",margin:0,display:"flex",flexFlow:"column",background:"white"},C={...k,borderRadius:"2px 2px 0 0",border:"1px solid #ddd",borderBottom:0},T=(0,h.__experimentalUseResizeCanvas)(o,r),x=(0,h.useSetting)("layout"),B="is-"+o.toLowerCase()+"-preview";let M,N=r?C:k;T&&(N=T),p||T||r||(M="40vh");const I=(0,a.useRef)(),D=(0,E.useMergeRefs)([I,(0,h.__unstableUseClipboardHandler)(),(0,h.__unstableUseTypewriter)(),(0,h.__unstableUseTypingObserver)(),(0,h.__unstableUseBlockSelectionClearer)()]),L=(0,h.__unstableUseBlockSelectionClearer)(),O=(0,a.useMemo)((()=>r?{type:"default"}:f?{...x,type:"constrained"}:{type:"default"}),[r,f,x]),F=(0,a.useMemo)((()=>{if(null!=s&&s.blocks)return tn(null==s?void 0:s.blocks);const e="string"==typeof(null==s?void 0:s.content)?null==s?void 0:s.content:"";return tn((0,i.parse)(e))||{}}),[null==s?void 0:s.content,null==s?void 0:s.blocks]),V=(0,h.__experimentaluseLayoutClasses)(F),R=A()({"is-layout-flow":!f},f&&V),H=(0,h.__experimentaluseLayoutStyles)(F,".block-editor-block-list__layout.is-root-container"),G=(null==F||null===(t=F.attributes)||void 0===t?void 0:t.layout)||{},U=(0,a.useMemo)((()=>G&&("constrained"===(null==G?void 0:G.type)||null!=G&&G.inherit||null!=G&&G.contentSize||null!=G&&G.wideSize)?{...x,...G,type:"constrained"}:{...x,...G,type:"default"}),[null==G?void 0:G.type,null==G?void 0:G.inherit,null==G?void 0:G.contentSize,null==G?void 0:G.wideSize,x]),z=F?U:O,$=(0,a.useRef)();return(0,a.useEffect)((()=>{var e;!l&&m()&&(null==$||null===(e=$.current)||void 0===e||e.focus())}),[l,m]),(0,a.createElement)(h.BlockTools,{__unstableContentRef:I,className:A()("edit-post-visual-editor",{"is-template-mode":r})},(0,a.createElement)(P.VisualEditorGlobalKeyboardShortcuts,null),(0,a.createElement)(g.__unstableMotion.div,{className:"edit-post-visual-editor__content-area",animate:{padding:r?"48px 48px 0":"0"},ref:L},r&&(0,a.createElement)(g.Button,{className:"edit-post-visual-editor__exit-template-mode",icon:Xt,onClick:()=>{w(),S(!1)}},(0,_.__)("Back")),(0,a.createElement)(g.__unstableMotion.div,{animate:N,initial:k,className:B},(0,a.createElement)(en,{shouldIframe:r||"Tablet"===o||"Mobile"===o,contentRef:D,styles:n,assets:v,style:{paddingBottom:M}},f&&!b&&!r&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(h.__experimentalLayoutStyle,{selector:".edit-post-visual-editor__post-title-wrapper, .block-editor-block-list__layout.is-root-container",layout:O,layoutDefinitions:null==x?void 0:x.definitions}),H&&(0,a.createElement)(h.__experimentalLayoutStyle,{layout:U,css:H,layoutDefinitions:null==x?void 0:x.definitions})),!r&&(0,a.createElement)("div",{className:A()("edit-post-visual-editor__post-title-wrapper",{"is-focus-mode":y}),contentEditable:!1},(0,a.createElement)(P.PostTitle,{ref:$})),(0,a.createElement)(h.__experimentalRecursionProvider,{blockName:d,uniqueId:u},(0,a.createElement)(h.BlockList,{className:r?"wp-site-blocks":`${R} wp-block-post-content`,__experimentalLayout:z}))))),(0,a.createElement)(h.__unstableBlockSettingsMenuFirstItem,null,(e=>{let{onClose:t}=e;return(0,a.createElement)(Jt,{onClick:t})})))}var on=function(){const{getBlockSelectionStart:e}=(0,c.useSelect)(h.store),{getEditorMode:t,isEditorSidebarOpened:n,isListViewOpened:o,isFeatureActive:l}=(0,c.useSelect)(Vt),r=(0,c.useSelect)((e=>{const{richEditingEnabled:t,codeEditingEnabled:n}=e(P.store).getEditorSettings();return!t||!n}),[]),{createInfoNotice:s}=(0,c.useDispatch)(k.store),{switchEditorMode:d,openGeneralSidebar:m,closeGeneralSidebar:p,toggleFeature:g,setIsListViewOpened:E,setIsInserterOpened:b}=(0,c.useDispatch)(Vt),{registerShortcut:f}=(0,c.useDispatch)(Kt.store),{set:v}=(0,c.useDispatch)(u.store),{replaceBlocks:y}=(0,c.useDispatch)(h.store),{getBlockName:w,getSelectedBlockClientId:S,getBlockAttributes:C}=(0,c.useSelect)(h.store),T=(e,t)=>{e.preventDefault();const n=0===t?"core/paragraph":"core/heading",o=S();if(null===o)return;const l=w(o);if("core/paragraph"!==l&&"core/heading"!==l)return;const r=C(o),{content:a,align:s}=r;y(o,(0,i.createBlock)(n,{level:t,content:a,align:s}))};return(0,a.useEffect)((()=>{f({name:"core/edit-post/toggle-mode",category:"global",description:(0,_.__)("Switch between visual editor and code editor."),keyCombination:{modifier:"secondary",character:"m"}}),f({name:"core/edit-post/toggle-distraction-free",category:"global",description:(0,_.__)("Toggle distraction free mode."),keyCombination:{modifier:"primaryShift",character:"\\"}}),f({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,_.__)("Toggle fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}}),f({name:"core/edit-post/toggle-list-view",category:"global",description:(0,_.__)("Open the block list view."),keyCombination:{modifier:"access",character:"o"}}),f({name:"core/edit-post/toggle-sidebar",category:"global",description:(0,_.__)("Show or hide the settings sidebar."),keyCombination:{modifier:"primaryShift",character:","}}),f({name:"core/edit-post/next-region",category:"global",description:(0,_.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),f({name:"core/edit-post/previous-region",category:"global",description:(0,_.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),f({name:"core/edit-post/keyboard-shortcuts",category:"main",description:(0,_.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),f({name:"core/block-editor/transform-heading-to-paragraph",category:"block-library",description:(0,_.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((e=>{f({name:`core/block-editor/transform-paragraph-to-heading-${e}`,category:"block-library",description:(0,_.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${e}`}})}))}),[]),(0,Kt.useShortcut)("core/edit-post/toggle-mode",(()=>{d("visual"===t()?"text":"visual")}),{isDisabled:r}),(0,Kt.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{g("fullscreenMode")})),(0,Kt.useShortcut)("core/edit-post/toggle-distraction-free",(()=>{p(),E(!1),v("core/edit-post","fixedToolbar",!1),b(!1),E(!1),p(),g("distractionFree"),s(l("distractionFree")?(0,_.__)("Distraction free mode turned on."):(0,_.__)("Distraction free mode turned off."),{id:"core/edit-post/distraction-free-mode/notice",type:"snackbar"})})),(0,Kt.useShortcut)("core/edit-post/toggle-sidebar",(t=>{if(t.preventDefault(),n())p();else{const t=e()?"edit-post/block":"edit-post/document";m(t)}})),(0,Kt.useShortcut)("core/edit-post/toggle-list-view",(()=>E(!o()))),(0,Kt.useShortcut)("core/block-editor/transform-heading-to-paragraph",(e=>T(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,Kt.useShortcut)(`core/block-editor/transform-paragraph-to-heading-${e}`,(t=>T(t,e)))})),null};const ln=[{keyCombination:{modifier:"primary",character:"b"},description:(0,_.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,_.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,_.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,_.__)("Remove a link.")},{keyCombination:{character:"[["},description:(0,_.__)("Insert a link to a post or page")},{keyCombination:{modifier:"primary",character:"u"},description:(0,_.__)("Underline the selected text.")},{keyCombination:{modifier:"access",character:"d"},description:(0,_.__)("Strikethrough the selected text.")},{keyCombination:{modifier:"access",character:"x"},description:(0,_.__)("Make the selected text inline code.")},{keyCombination:{modifier:"access",character:"0"},description:(0,_.__)("Convert the current heading to a paragraph.")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,_.__)("Convert the current paragraph or heading to a heading of level 1 to 6.")}];function rn(e){let{keyCombination:t,forceAriaLabel:n}=e;const o=t.modifier?T.displayShortcutList[t.modifier](t.character):t.character,l=t.modifier?T.shortcutAriaLabel[t.modifier](t.character):t.character;return(0,a.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":n||l},(Array.isArray(o)?o:[o]).map(((e,t)=>"+"===e?(0,a.createElement)(a.Fragment,{key:t},e):(0,a.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help-modal__shortcut-key"},e))))}var an=function(e){let{description:t,keyCombination:n,aliases:o=[],ariaLabel:l}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-description"},t),(0,a.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-term"},(0,a.createElement)(rn,{keyCombination:n,forceAriaLabel:l}),o.map(((e,t)=>(0,a.createElement)(rn,{keyCombination:e,forceAriaLabel:l,key:t})))))},sn=function(e){let{name:t}=e;const{keyCombination:n,description:o,aliases:l}=(0,c.useSelect)((e=>{const{getShortcutKeyCombination:n,getShortcutDescription:o,getShortcutAliases:l}=e(Kt.store);return{keyCombination:n(t),aliases:l(t),description:o(t)}}),[t]);return n?(0,a.createElement)(an,{keyCombination:n,description:o,aliases:l}):null};const cn="edit-post/keyboard-shortcut-help",dn=e=>{let{shortcuts:t}=e;return(0,a.createElement)("ul",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-list",role:"list"},t.map(((e,t)=>(0,a.createElement)("li",{className:"edit-post-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,a.createElement)(sn,{name:e}):(0,a.createElement)(an,e)))))},un=e=>{let{title:t,shortcuts:n,className:o}=e;return(0,a.createElement)("section",{className:A()("edit-post-keyboard-shortcut-help-modal__section",o)},!!t&&(0,a.createElement)("h2",{className:"edit-post-keyboard-shortcut-help-modal__section-title"},t),(0,a.createElement)(dn,{shortcuts:n}))},mn=e=>{let{title:t,categoryName:n,additionalShortcuts:o=[]}=e;const l=(0,c.useSelect)((e=>e(Kt.store).getCategoryShortcuts(n)),[n]);return(0,a.createElement)(un,{title:t,shortcuts:l.concat(o)})};var pn=(0,E.compose)([(0,c.withSelect)((e=>({isModalActive:e(Vt).isModalActive(cn)}))),(0,c.withDispatch)(((e,t)=>{let{isModalActive:n}=t;const{openModal:o,closeModal:l}=e(Vt);return{toggleModal:()=>n?l():o(cn)}}))])((function(e){let{isModalActive:t,toggleModal:n}=e;return(0,Kt.useShortcut)("core/edit-post/keyboard-shortcuts",n),t?(0,a.createElement)(g.Modal,{className:"edit-post-keyboard-shortcut-help-modal",title:(0,_.__)("Keyboard shortcuts"),closeButtonLabel:(0,_.__)("Close"),onRequestClose:n},(0,a.createElement)(un,{className:"edit-post-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-post/keyboard-shortcuts"]}),(0,a.createElement)(mn,{title:(0,_.__)("Global shortcuts"),categoryName:"global"}),(0,a.createElement)(mn,{title:(0,_.__)("Selection shortcuts"),categoryName:"selection"}),(0,a.createElement)(mn,{title:(0,_.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,_.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:(0,_.__)("Forward-slash")}]}),(0,a.createElement)(un,{title:(0,_.__)("Text formatting"),shortcuts:ln})):null}));function gn(e){let{willEnable:t}=e;const[n,o]=(0,a.useState)(!1);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,_.__)("A page reload is required for this change. Make sure your content is saved before reloading.")),(0,a.createElement)(g.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:n,disabled:n,onClick:()=>{o(!0),document.getElementById("toggle-custom-fields-form").submit()}},t?(0,_.__)("Enable & Reload"):(0,_.__)("Disable & Reload")))}var hn=(0,c.withSelect)((e=>({areCustomFieldsEnabled:!!e(P.store).getEditorSettings().enableCustomFields})))((function(e){let{label:t,areCustomFieldsEnabled:n}=e;const[o,l]=(0,a.useState)(n);return(0,a.createElement)(Ce,{label:t,isChecked:o,onChange:l},o!==n&&(0,a.createElement)(gn,{willEnable:o}))})),En=(0,E.compose)((0,c.withSelect)(((e,t)=>{let{panelName:n}=t;const{isEditorPanelEnabled:o,isEditorPanelRemoved:l}=e(Vt);return{isRemoved:l(n),isChecked:o(n)}})),(0,E.ifCondition)((e=>{let{isRemoved:t}=e;return!t})),(0,c.withDispatch)(((e,t)=>{let{panelName:n}=t;return{onChange:()=>e(Vt).toggleEditorPanelEnabled(n)}})))(Ce);const{Fill:bn,Slot:fn}=(0,g.createSlotFill)("EnablePluginDocumentSettingPanelOption"),vn=e=>{let{label:t,panelName:n}=e;return(0,a.createElement)(bn,null,(0,a.createElement)(En,{label:t,panelName:n}))};vn.Slot=fn;var yn=vn,wn=(0,E.compose)((0,c.withSelect)((e=>({isChecked:e(P.store).isPublishSidebarEnabled()}))),(0,c.withDispatch)((e=>{const{enablePublishSidebar:t,disablePublishSidebar:n}=e(P.store);return{onChange:e=>e?t():n()}})),(0,V.ifViewportMatches)("medium"))(Ce),Sn=(0,E.compose)((0,c.withSelect)(((e,t)=>{let{featureName:n}=t;const{isFeatureActive:o}=e(Vt);return{isChecked:o(n)}})),(0,c.withDispatch)(((e,t)=>{let{featureName:n,onToggle:o=(()=>{})}=t;return{onChange:()=>{o(),e(Vt).toggleFeature(n)}}})))(Ce),kn=(0,c.withSelect)((e=>{const{getEditorSettings:t}=e(P.store),{getAllMetaBoxes:n}=e(Vt);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:n()}}))((function(e){let{areCustomFieldsRegistered:t,metaBoxes:n,...o}=e;const l=n.filter((e=>{let{id:t}=e;return"postcustom"!==t}));return t||0!==l.length?(0,a.createElement)(Pe,o,t&&(0,a.createElement)(hn,{label:(0,_.__)("Custom fields")}),(0,Ht.map)(l,(e=>{let{id:t,title:n}=e;return(0,a.createElement)(En,{key:t,label:n,panelName:`meta-box-${t}`})}))):null})),Pn=function(e){let{blockTypes:t,value:n,onItemChange:o}=e;return(0,a.createElement)("ul",{className:"edit-post-block-manager__checklist"},t.map((e=>(0,a.createElement)("li",{key:e.name,className:"edit-post-block-manager__checklist-item"},(0,a.createElement)(g.CheckboxControl,{__nextHasNoMarginBottom:!0,label:e.title,checked:n.includes(e.name),onChange:function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return o(e.name,...n)}}),(0,a.createElement)(h.BlockIcon,{icon:e.icon})))))},Cn=function e(t){let{title:n,blockTypes:o}=t;const l=(0,E.useInstanceId)(e),{defaultAllowedBlockTypes:r,hiddenBlockTypes:i}=(0,c.useSelect)((e=>{const{getEditorSettings:t}=e(P.store),{getHiddenBlockTypes:n}=e(Vt);return{defaultAllowedBlockTypes:t().defaultAllowedBlockTypes,hiddenBlockTypes:n()}}),[]),s=(0,a.useMemo)((()=>!0===r?o:o.filter((e=>{let{name:t}=e;return null==r?void 0:r.includes(t)}))),[r,o]),{showBlockTypes:d,hideBlockTypes:u}=(0,c.useDispatch)(Vt),m=(0,a.useCallback)(((e,t)=>{t?d(e):u(e)}),[]),p=(0,a.useCallback)((e=>{const t=(0,Ht.map)(o,"name");e?d(t):u(t)}),[o]);if(!s.length)return null;const h=(0,Ht.map)(s,"name").filter((e=>!i.includes(e))),_="edit-post-block-manager__category-title-"+l,b=h.length===s.length,f=!b&&h.length>0;return(0,a.createElement)("div",{role:"group","aria-labelledby":_,className:"edit-post-block-manager__category"},(0,a.createElement)(g.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:b,onChange:p,className:"edit-post-block-manager__category-title",indeterminate:f,label:(0,a.createElement)("span",{id:_},n)}),(0,a.createElement)(Pn,{blockTypes:s,value:h,onItemChange:m}))},Tn=(0,c.withSelect)((e=>{const{getBlockTypes:t,getCategories:n,hasBlockSupport:o,isMatchingSearchTerm:l}=e(i.store),{getHiddenBlockTypes:r}=e(Vt),a=t(),s=r().filter((e=>a.some((t=>t.name===e)))),c=Array.isArray(s)&&s.length;return{blockTypes:a,categories:n(),hasBlockSupport:o,isMatchingSearchTerm:l,numberOfHiddenBlocks:c}}))((function(e){let{blockTypes:t,categories:n,hasBlockSupport:o,isMatchingSearchTerm:l,numberOfHiddenBlocks:r}=e;const i=(0,E.useDebounce)(Te.speak,500),[s,c]=(0,a.useState)("");return t=t.filter((e=>o(e,"inserter",!0)&&(!s||l(e,s))&&(!e.parent||e.parent.includes("core/post-content")))),(0,a.useEffect)((()=>{if(!s)return;const e=t.length,n=(0,_.sprintf)(
/* translators: %d: number of results. */
(0,_._n)("%d result found.","%d results found.",e),e);i(n)}),[t.length,s,i]),(0,a.createElement)("div",{className:"edit-post-block-manager__content"},!!r&&(0,a.createElement)("div",{className:"edit-post-block-manager__disabled-blocks-count"},(0,_.sprintf)(
/* translators: %d: number of blocks. */
(0,_._n)("%d block is hidden.","%d blocks are hidden.",r),r)),(0,a.createElement)(g.SearchControl,{__nextHasNoMarginBottom:!0,label:(0,_.__)("Search for a block"),placeholder:(0,_.__)("Search for a block"),value:s,onChange:e=>c(e),className:"edit-post-block-manager__search"}),(0,a.createElement)("div",{tabIndex:"0",role:"region","aria-label":(0,_.__)("Available block types"),className:"edit-post-block-manager__results"},0===t.length&&(0,a.createElement)("p",{className:"edit-post-block-manager__no-results"},(0,_.__)("No blocks found.")),n.map((e=>(0,a.createElement)(Cn,{key:e.slug,title:e.title,blockTypes:t.filter((t=>t.category===e.slug))}))),(0,a.createElement)(Cn,{title:(0,_.__)("Uncategorized"),blockTypes:t.filter((e=>{let{category:t}=e;return!t}))})))}));function xn(){const e=(0,E.useViewportMatch)("medium"),{closeModal:t}=(0,c.useDispatch)(Vt),[n,o]=(0,c.useSelect)((t=>{const{getEditorSettings:n}=t(P.store),{getEditorMode:o,isFeatureActive:l}=t(Vt),r=t(Vt).isModalActive("edit-post/preferences"),a=o(),i=n().richEditingEnabled,s=l("distractionFree");return[r,!s&&e&&i&&"visual"===a,s]}),[e]),{closeGeneralSidebar:l,setIsListViewOpened:r,setIsInserterOpened:i}=(0,c.useDispatch)(Vt),{set:s}=(0,c.useDispatch)(u.store),d=()=>{s("core/edit-post","fixedToolbar",!1),i(!1),r(!1),l()},m=(0,a.useMemo)((()=>[{name:"general",tabLabel:(0,_.__)("General"),content:(0,a.createElement)(a.Fragment,null,e&&(0,a.createElement)(Pe,{title:(0,_.__)("Publishing"),description:(0,_.__)("Change options related to publishing.")},(0,a.createElement)(wn,{help:(0,_.__)("Review settings, such as visibility and tags."),label:(0,_.__)("Include pre-publish checklist")})),(0,a.createElement)(Pe,{title:(0,_.__)("Appearance"),description:(0,_.__)("Customize options related to the block editor interface and editing flow.")},(0,a.createElement)(Sn,{featureName:"distractionFree",onToggle:d,help:(0,_.__)("Reduce visual distractions by hiding the toolbar and other elements to focus on writing."),label:(0,_.__)("Distraction free")}),(0,a.createElement)(Sn,{featureName:"focusMode",help:(0,_.__)("Highlights the current block and fades other content."),label:(0,_.__)("Spotlight mode")}),(0,a.createElement)(Sn,{featureName:"showIconLabels",label:(0,_.__)("Show button text labels"),help:(0,_.__)("Show text instead of icons on buttons.")}),(0,a.createElement)(Sn,{featureName:"showListViewByDefault",help:(0,_.__)("Opens the block list view sidebar by default."),label:(0,_.__)("Always open list view")}),(0,a.createElement)(Sn,{featureName:"themeStyles",help:(0,_.__)("Make the editor look like your theme."),label:(0,_.__)("Use theme styles")}),o&&(0,a.createElement)(Sn,{featureName:"showBlockBreadcrumbs",help:(0,_.__)("Shows block breadcrumbs at the bottom of the editor."),label:(0,_.__)("Display block breadcrumbs")})))},{name:"blocks",tabLabel:(0,_.__)("Blocks"),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Pe,{title:(0,_.__)("Block interactions"),description:(0,_.__)("Customize how you interact with blocks in the block library and editing canvas.")},(0,a.createElement)(Sn,{featureName:"mostUsedBlocks",help:(0,_.__)("Places the most frequent blocks in the block library."),label:(0,_.__)("Show most used blocks")}),(0,a.createElement)(Sn,{featureName:"keepCaretInsideBlock",help:(0,_.__)("Aids screen readers by stopping text caret from leaving blocks."),label:(0,_.__)("Contain text cursor inside block")})),(0,a.createElement)(Pe,{title:(0,_.__)("Visible blocks"),description:(0,_.__)("Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.")},(0,a.createElement)(Tn,null)))},{name:"panels",tabLabel:(0,_.__)("Panels"),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Pe,{title:(0,_.__)("Document settings"),description:(0,_.__)("Choose what displays in the panel.")},(0,a.createElement)(yn.Slot,null),(0,a.createElement)(P.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,a.createElement)(En,{label:(0,Ht.get)(t,["labels","menu_name"]),panelName:`taxonomy-panel-${t.slug}`})}),(0,a.createElement)(P.PostFeaturedImageCheck,null,(0,a.createElement)(En,{label:(0,_.__)("Featured image"),panelName:"featured-image"})),(0,a.createElement)(P.PostExcerptCheck,null,(0,a.createElement)(En,{label:(0,_.__)("Excerpt"),panelName:"post-excerpt"})),(0,a.createElement)(P.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,a.createElement)(En,{label:(0,_.__)("Discussion"),panelName:"discussion-panel"})),(0,a.createElement)(P.PageAttributesCheck,null,(0,a.createElement)(En,{label:(0,_.__)("Page attributes"),panelName:"page-attributes"}))),(0,a.createElement)(kn,{title:(0,_.__)("Additional"),description:(0,_.__)("Add extra areas to the editor.")}))}]),[e,o]);return n?(0,a.createElement)(fe,{closeModal:t},(0,a.createElement)(ke,{sections:m})):null}class Bn extends a.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){const{postId:t,postStatus:n,postType:o,isSavingPost:l}=this.props,{historyId:r}=this.state;"trash"!==n||l?t===e.postId&&t===r||"auto-draft"===n||!t||this.setBrowserURL(t):this.setTrashURL(t,o)}setTrashURL(e,t){window.location.href=function(e,t){return(0,S.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}(e,t)}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,function(e){return(0,S.addQueryArgs)("post.php",{post:e,action:"edit"})}(e)),this.setState((()=>({historyId:e})))}render(){return null}}var Mn=(0,c.withSelect)((e=>{const{getCurrentPost:t,isSavingPost:n}=e(P.store),o=t();let{id:l,status:r,type:a}=o;return["wp_template","wp_template_part"].includes(a)&&(l=o.wp_id),{postId:l,postStatus:r,postType:a,isSavingPost:n()}}))(Bn),Nn=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,a.createElement)(v.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),In=function(e){let{showTooltip:t,icon:n,href:o}=e;const{isActive:l,isRequestingSiteIcon:r,postType:i,siteIconUrl:s}=(0,c.useSelect)((e=>{const{getCurrentPostType:t}=e(P.store),{isFeatureActive:n}=e(Vt),{getEntityRecord:o,getPostType:l,isResolving:r}=e(xe.store),a=o("root","__unstableBase",void 0)||{};return{isActive:n("fullscreenMode"),isRequestingSiteIcon:r("getEntityRecord",["root","__unstableBase",void 0]),postType:l(t()),siteIconUrl:a.site_icon_url}}),[]),d=(0,E.useReducedMotion)();if(!l||!i)return null;let u=(0,a.createElement)(g.Icon,{size:"36px",icon:Nn});s&&(u=(0,a.createElement)(g.__unstableMotion.img,{variants:!d&&{expand:{scale:1.25,transition:{type:"tween",duration:"0.3"}}},alt:(0,_.__)("Site Icon"),className:"edit-post-fullscreen-mode-close_site-icon",src:s})),r&&(u=null),n&&(u=(0,a.createElement)(g.Icon,{size:"36px",icon:n}));const m=A()({"edit-post-fullscreen-mode-close":!0,"has-icon":s});return(0,a.createElement)(g.__unstableMotion.div,{whileHover:"expand"},(0,a.createElement)(g.Button,{className:m,href:null!=o?o:(0,S.addQueryArgs)("edit.php",{post_type:i.slug}),label:(0,Ht.get)(i,["labels","view_items"],(0,_.__)("Back")),showTooltip:t},u))},Dn=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));const An=e=>{e.preventDefault()};var Ln=function(){const e=(0,a.useRef)(),{setIsInserterOpened:t,setIsListViewOpened:n}=(0,c.useDispatch)(Vt),{isInserterEnabled:o,isInserterOpened:l,isTextModeEnabled:r,showIconLabels:i,isListViewOpen:s,listViewShortcut:d}=(0,c.useSelect)((e=>{const{hasInserterItems:t,getBlockRootClientId:n,getBlockSelectionEnd:o}=e(h.store),{getEditorSettings:l}=e(P.store),{getEditorMode:r,isFeatureActive:a,isListViewOpened:i}=e(Vt),{getShortcutRepresentation:s}=e(Kt.store);return{isInserterEnabled:"visual"===r()&&l().richEditingEnabled&&t(n(o())),isInserterOpened:e(Vt).isInserterOpened(),isTextModeEnabled:"text"===r(),showIconLabels:a("showIconLabels"),isListViewOpen:i(),listViewShortcut:s("core/edit-post/toggle-list-view")}}),[]),u=(0,E.useViewportMatch)("medium"),m=(0,E.useViewportMatch)("wide"),p=(0,_.__)("Document tools"),b=(0,a.useCallback)((()=>n(!s)),[n,s]),f=(0,a.createElement)(a.Fragment,null,(0,a.createElement)(g.ToolbarItem,{as:g.Button,className:"edit-post-header-toolbar__document-overview-toggle",icon:qt,disabled:r,isPressed:s
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,_.__)("Document Overview"),onClick:b,shortcut:d,showTooltip:!i,variant:i?"tertiary":void 0})),v=(0,a.useCallback)((()=>{l?e.current.focus():t(!0)}),[l,t]),y=(0,_._x)("Toggle block inserter","Generic label for block inserter button"),w=l?(0,_.__)("Close"):(0,_.__)("Add");return(0,a.createElement)(h.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":p},(0,a.createElement)("div",{className:"edit-post-header-toolbar__left"},(0,a.createElement)(g.ToolbarItem,{ref:e,as:g.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:l,onMouseDown:An,onClick:v,disabled:!o,icon:Dn,label:i?w:y,showTooltip:!i}),(m||!i)&&(0,a.createElement)(a.Fragment,null,u&&(0,a.createElement)(g.ToolbarItem,{as:h.ToolSelector,showTooltip:!i,variant:i?"tertiary":void 0,disabled:r}),(0,a.createElement)(g.ToolbarItem,{as:P.EditorHistoryUndo,showTooltip:!i,variant:i?"tertiary":void 0}),(0,a.createElement)(g.ToolbarItem,{as:P.EditorHistoryRedo,showTooltip:!i,variant:i?"tertiary":void 0}),f)))};const On=[{value:"visual",label:(0,_.__)("Visual editor")},{value:"text",label:(0,_.__)("Code editor")}];var Fn=function(){const{shortcut:e,isRichEditingEnabled:t,isCodeEditingEnabled:n,isEditingTemplate:o,mode:l}=(0,c.useSelect)((e=>({shortcut:e(Kt.store).getShortcutRepresentation("core/edit-post/toggle-mode"),isRichEditingEnabled:e(P.store).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:e(P.store).getEditorSettings().codeEditingEnabled,isEditingTemplate:e(Vt).isEditingTemplate(),mode:e(Vt).getEditorMode()})),[]),{switchEditorMode:r}=(0,c.useDispatch)(Vt);if(o)return null;if(!t||!n)return null;const i=On.map((t=>t.value!==l?{...t,shortcut:e}:t));return(0,a.createElement)(g.MenuGroup,{label:(0,_.__)("Editor")},(0,a.createElement)(g.MenuItemsChoice,{choices:i,value:l,onSelect:r}))};function Vn(){const{openModal:e}=(0,c.useDispatch)(Vt);return(0,a.createElement)(g.MenuItem,{onClick:()=>{e("edit-post/preferences")}},(0,_.__)("Preferences"))}var Rn=function(){const e=(0,c.useRegistry)(),t=(0,c.useSelect)((e=>e(h.store).getSettings().isDistractionFree),[]),n=(0,c.useSelect)((e=>e(h.store).getBlocks()),[]),{setIsInserterOpened:o,setIsListViewOpened:l,closeGeneralSidebar:r}=(0,c.useDispatch)(Vt),{set:i}=(0,c.useDispatch)(u.store),{selectBlock:s}=(0,c.useDispatch)(h.store);return(0,E.useViewportMatch)("medium")?(0,a.createElement)(g.MenuGroup,{label:(0,_._x)("View","noun")},(0,a.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",disabled:t,name:"fixedToolbar",label:(0,_.__)("Top toolbar"),info:(0,_.__)("Access all block and document tools in a single place"),messageActivated:(0,_.__)("Top toolbar activated"),messageDeactivated:(0,_.__)("Top toolbar deactivated")}),(0,a.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"focusMode",label:(0,_.__)("Spotlight mode"),info:(0,_.__)("Focus on one block at a time"),messageActivated:(0,_.__)("Spotlight mode activated"),messageDeactivated:(0,_.__)("Spotlight mode deactivated")}),(0,a.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,_.__)("Fullscreen mode"),info:(0,_.__)("Show and hide admin UI"),messageActivated:(0,_.__)("Fullscreen mode activated"),messageDeactivated:(0,_.__)("Fullscreen mode deactivated"),shortcut:T.displayShortcut.secondary("f")}),(0,a.createElement)(u.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"distractionFree",onToggle:()=>{e.batch((()=>{i("core/edit-post","fixedToolbar",!1),o(!1),l(!1),r(),!t&&n.length&&s(n[0].clientId)}))},label:(0,_.__)("Distraction free"),info:(0,_.__)("Write with calmness"),messageActivated:(0,_.__)("Distraction free mode activated"),messageDeactivated:(0,_.__)("Distraction free mode deactivated"),shortcut:T.displayShortcut.primaryShift("\\")})):null},Hn=e=>{let{showIconLabels:t}=e;const n=(0,E.useViewportMatch)("large");return(0,a.createElement)(be,{toggleProps:{showTooltip:!t,...t&&{variant:"tertiary"}}},(e=>{let{onClose:o}=e;return(0,a.createElement)(a.Fragment,null,t&&!n&&(0,a.createElement)(de.Slot,{className:t&&"show-icon-labels",scope:"core/edit-post"}),(0,a.createElement)(Rn,null),(0,a.createElement)(Fn,null),(0,a.createElement)(ae.Slot,{name:"core/edit-post/plugin-more-menu",label:(0,_.__)("Plugins"),as:g.MenuGroup,fillProps:{onClick:o}}),(0,a.createElement)(zt.Slot,{fillProps:{onClose:o}}),(0,a.createElement)(g.MenuGroup,null,(0,a.createElement)(Vn,null)))}))},Gn=(0,E.compose)((0,c.withSelect)((e=>({hasPublishAction:(0,Ht.get)(e(P.store).getCurrentPost(),["_links","wp:action-publish"],!1),isBeingScheduled:e(P.store).isEditedPostBeingScheduled(),isPending:e(P.store).isCurrentPostPending(),isPublished:e(P.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(P.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(Vt).isPublishSidebarOpened(),isScheduled:e(P.store).isCurrentPostScheduled()}))),(0,c.withDispatch)((e=>{const{togglePublishSidebar:t}=e(Vt);return{togglePublishSidebar:t}})))((function(e){let{forceIsDirty:t,forceIsSaving:n,hasPublishAction:o,isBeingScheduled:l,isPending:r,isPublished:i,isPublishSidebarEnabled:s,isPublishSidebarOpened:c,isScheduled:d,togglePublishSidebar:u,setEntitiesSavedStatesCallback:m}=e;const p="toggle",g="button",h=(0,E.useViewportMatch)("medium","<");let _;return _=i||d&&l||r&&!o&&!h?g:h||s?p:g,(0,a.createElement)(P.PostPublishButton,{forceIsDirty:t,forceIsSaving:n,isOpen:c,isToggle:_===p,onToggle:u,setEntitiesSavedStatesCallback:m})}));function Un(){const{hasActiveMetaboxes:e,isPostSaveable:t,isSaving:n,isViewable:o,deviceType:l}=(0,c.useSelect)((e=>{const{getEditedPostAttribute:t}=e(P.store),{getPostType:n}=e(xe.store),o=n(t("type"));return{hasActiveMetaboxes:e(Vt).hasMetaBoxes(),isSaving:e(Vt).isSavingMetaBoxes(),isPostSaveable:e(P.store).isEditedPostSaveable(),isViewable:(0,Ht.get)(o,["viewable"],!1),deviceType:e(Vt).__experimentalGetPreviewDeviceType()}}),[]),{__experimentalSetPreviewDeviceType:r}=(0,c.useDispatch)(Vt);return(0,a.createElement)(h.__experimentalPreviewOptions,{isEnabled:t,className:"edit-post-post-preview-dropdown",deviceType:l,setDeviceType:r
/* translators: button label text should, if possible, be under 16 characters. */,viewLabel:(0,_.__)("Preview")},o&&(0,a.createElement)(g.MenuGroup,null,(0,a.createElement)("div",{className:"edit-post-header-preview__grouping-external"},(0,a.createElement)(P.PostPreviewButton,{className:"edit-post-header-preview__button-external",role:"menuitem",forceIsAutosaveable:e,forcePreviewLink:n?null:void 0,textContent:(0,a.createElement)(a.Fragment,null,(0,_.__)("Preview in new tab"),(0,a.createElement)(g.Icon,{icon:y}))}))))}const zn="__experimentalMainDashboardButton",{Fill:$n,Slot:Wn}=(0,g.createSlotFill)(zn),qn=$n;qn.Slot=e=>{let{children:t}=e;const n=(0,g.__experimentalUseSlotFills)(zn);return Boolean(n&&n.length)?(0,a.createElement)(Wn,{bubblesVirtually:!0}):t};var jn=qn,Zn=(0,a.createElement)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(v.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));function Kn(){const{clearSelectedBlock:e}=(0,c.useDispatch)(h.store),{setIsEditingTemplate:t}=(0,c.useDispatch)(Vt),{getEditorSettings:n}=(0,c.useSelect)(P.store),{updateEditorSettings:o,editPost:l}=(0,c.useDispatch)(P.store),{deleteEntityRecord:r}=(0,c.useDispatch)(xe.store),{template:i}=(0,c.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(Vt);return{template:t()?n():null}}),[]),[s,d]=(0,a.useState)(!1);if(!i||!i.wp_id)return null;let u=i.slug;null!=i&&i.title&&(u=i.title);const m=null==i?void 0:i.has_theme_file;return(0,a.createElement)(g.MenuGroup,{className:"edit-post-template-top-area__second-menu-group"},(0,a.createElement)(a.Fragment,null,(0,a.createElement)(g.MenuItem,{className:"edit-post-template-top-area__delete-template-button",isDestructive:!m,onClick:()=>{d(!0)},info:m?(0,_.__)("Use the template as supplied by the theme."):void 0},m?(0,_.__)("Clear customizations"):(0,_.__)("Delete template")),(0,a.createElement)(g.__experimentalConfirmDialog,{isOpen:s,onConfirm:()=>{e(),t(!1),d(!1),l({template:""});const a=n(),s=(0,Ht.pickBy)(a.availableTemplates,((e,t)=>t!==i.slug));o({...a,availableTemplates:s}),r("postType","wp_template",i.id,{throwOnError:!0})},onCancel:()=>{d(!1)}},(0,_.sprintf)(
/* translators: %s: template name */
(0,_.__)("Are you sure you want to delete the %s template? It may be used by other pages or posts."),u))))}function Yn(){const[e,t]=(0,a.useState)(!1),{template:n}=(0,c.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Vt);return{template:t()}}),[]),{editEntityRecord:o}=(0,c.useDispatch)(xe.store),{getEditorSettings:l}=(0,c.useSelect)(P.store),{updateEditorSettings:r}=(0,c.useDispatch)(P.store);if(!n.is_custom||n.has_theme_file)return null;let i=(0,_.__)("Default");return null!=n&&n.title?i=n.title:n&&(i=n.slug),(0,a.createElement)("div",{className:"edit-site-template-details__group"},(0,a.createElement)(g.TextControl,{label:(0,_.__)("Title"),value:e?"":i,help:(0,_.__)('Give the template a title that indicates its purpose, e.g. "Full Width".'),onChange:a=>{if(!a&&!e)return void t(!0);t(!1);const i=l(),s=(0,Ht.mapValues)(i.availableTemplates,((e,t)=>t!==n.slug?e:a));r({...i,availableTemplates:s}),o("postType","wp_template",n.id,{title:a})},onBlur:()=>t(!1)}))}function Xn(){const{description:e,title:t}=(0,c.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Vt);return{title:t().title,description:t().description}}),[]);return e?(0,a.createElement)("div",{className:"edit-site-template-details__group"},(0,a.createElement)(g.__experimentalHeading,{level:4,weight:600},t),(0,a.createElement)(g.__experimentalText,{className:"edit-post-template-details__description",size:"body",as:"p",style:{marginTop:"12px"}},e)):null}var Qn=function(){const{template:e,isEditing:t,title:n}=(0,c.useSelect)((e=>{const{isEditingTemplate:t,getEditedPostTemplate:n}=e(Vt),{getEditedPostAttribute:o}=e(P.store),l=t();return{template:l?n():null,isEditing:l,title:o("title")?o("title"):(0,_.__)("Untitled")}}),[]),{clearSelectedBlock:o}=(0,c.useDispatch)(h.store),{setIsEditingTemplate:l}=(0,c.useDispatch)(Vt);if(!t||!e)return null;let r=(0,_.__)("Default");null!=e&&e.title?r=e.title:e&&(r=e.slug);const i=!!(e.custom||e.wp_id||e.description);return(0,a.createElement)("div",{className:"edit-post-template-top-area"},(0,a.createElement)(g.Button,{className:"edit-post-template-post-title",isLink:!0,showTooltip:!0,label:(0,_.sprintf)(
/* translators: %s: Title of the referring post, e.g: "Hello World!" */
(0,_.__)("Edit %s"),n),onClick:()=>{o(),l(!1)}},n),i?(0,a.createElement)(g.Dropdown,{position:"bottom center",contentClassName:"edit-post-template-top-area__popover",renderToggle:e=>{let{onToggle:t}=e;return(0,a.createElement)(g.Button,{className:"edit-post-template-title",isLink:!0,icon:Zn,showTooltip:!0,onClick:t,label:(0,_.__)("Template Options")},r)},renderContent:()=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Yn,null),(0,a.createElement)(Xn,null),(0,a.createElement)(Kn,null))}):(0,a.createElement)(g.__experimentalText,{className:"edit-post-template-title",size:"body",style:{lineHeight:"24px"}},r))},Jn=function(e){let{setEntitiesSavedStatesCallback:t}=e;const n=(0,E.useViewportMatch)("large"),{hasActiveMetaboxes:o,isPublishSidebarOpened:l,isSaving:r,showIconLabels:i,isDistractionFree:s}=(0,c.useSelect)((e=>({hasActiveMetaboxes:e(Vt).hasMetaBoxes(),isPublishSidebarOpened:e(Vt).isPublishSidebarOpened(),isSaving:e(Vt).isSavingMetaBoxes(),showIconLabels:e(Vt).isFeatureActive("showIconLabels"),isDistractionFree:e(Vt).isFeatureActive("distractionFree")&&n})),[]),d=A()("edit-post-header"),u={hidden:s?{y:"-50"}:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}},m={hidden:s?{x:"-100%"}:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}};return(0,a.createElement)("div",{className:d},(0,a.createElement)(jn.Slot,null,(0,a.createElement)(g.__unstableMotion.div,{variants:m,transition:{type:"tween",delay:.8}},(0,a.createElement)(In,{showTooltip:!0}))),(0,a.createElement)(g.__unstableMotion.div,{variants:u,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,a.createElement)(Ln,null),(0,a.createElement)(Qn,null)),(0,a.createElement)(g.__unstableMotion.div,{variants:u,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},!l&&(0,a.createElement)(P.PostSavedState,{forceIsDirty:o,forceIsSaving:r,showIconLabels:i}),(0,a.createElement)(Un,null),(0,a.createElement)(P.PostPreviewButton,{forceIsAutosaveable:o,forcePreviewLink:r?null:void 0}),(0,a.createElement)(Gn,{forceIsDirty:o,forceIsSaving:r,setEntitiesSavedStatesCallback:t}),(n||!i)&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(de.Slot,{scope:"core/edit-post"}),(0,a.createElement)(Hn,{showIconLabels:i})),i&&!n&&(0,a.createElement)(Hn,{showIconLabels:i})))},eo=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function to(){const{insertionPoint:e,showMostUsedBlocks:t}=(0,c.useSelect)((e=>{const{isFeatureActive:t,__experimentalGetInsertionPoint:n}=e(Vt);return{insertionPoint:n(),showMostUsedBlocks:t("mostUsedBlocks")}}),[]),{setIsInserterOpened:n}=(0,c.useDispatch)(Vt),o=(0,E.useViewportMatch)("medium","<"),l=o?"div":g.VisuallyHidden,[r,i]=(0,E.__experimentalUseDialog)({onClose:()=>n(!1),focusOnMount:null}),s=(0,a.useRef)();return(0,a.useEffect)((()=>{s.current.focusSearch()}),[]),(0,a.createElement)("div",p({ref:r},i,{className:"edit-post-editor__inserter-panel"}),(0,a.createElement)(l,{className:"edit-post-editor__inserter-panel-header"},(0,a.createElement)(g.Button,{icon:eo,label:(0,_.__)("Close block inserter"),onClick:()=>n(!1)})),(0,a.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,a.createElement)(h.__experimentalLibrary,{showMostUsedBlocks:t,showInserterHelpPanel:!0,shouldFocusBlock:o,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue,ref:s})))}function no(){return(0,a.createElement)(g.SVG,{width:"138",height:"148",viewBox:"0 0 138 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(g.Rect,{width:"138",height:"148",rx:"4",fill:"#F0F6FC"}),(0,a.createElement)(g.Line,{x1:"44",y1:"28",x2:"24",y2:"28",stroke:"#DDDDDD"}),(0,a.createElement)(g.Rect,{x:"48",y:"16",width:"27",height:"23",rx:"4",fill:"#DDDDDD"}),(0,a.createElement)(g.Path,{d:"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z",fill:"black"}),(0,a.createElement)(g.Line,{x1:"55",y1:"59",x2:"24",y2:"59",stroke:"#DDDDDD"}),(0,a.createElement)(g.Rect,{x:"59",y:"47",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,a.createElement)(g.Path,{d:"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z",fill:"black"}),(0,a.createElement)(g.Line,{x1:"80",y1:"90",x2:"24",y2:"90",stroke:"#DDDDDD"}),(0,a.createElement)(g.Rect,{x:"84",y:"78",width:"30",height:"23",rx:"4",fill:"#F0B849"}),(0,a.createElement)(g.Path,{d:"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z",fill:"black"}),(0,a.createElement)(g.Line,{x1:"66",y1:"121",x2:"24",y2:"121",stroke:"#DDDDDD"}),(0,a.createElement)(g.Rect,{x:"70",y:"109",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,a.createElement)(g.Path,{d:"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z",fill:"black"}))}function oo(){const{headingCount:e}=(0,c.useSelect)((e=>{const{getGlobalBlockCount:t}=e(h.store);return{headingCount:t("core/heading")}}),[]);return(0,a.createElement)(a.Fragment,null,e>0?(0,a.createElement)(P.DocumentOutline,null):(0,a.createElement)("div",{className:"edit-post-editor__list-view-empty-headings"},(0,a.createElement)(no,null),(0,a.createElement)("p",null,(0,_.__)("Navigate the structure of your document and address issues like empty or incorrect heading levels."))),(0,a.createElement)("div",{className:"edit-post-editor__list-view-overview"},(0,a.createElement)("div",null,(0,a.createElement)(g.__experimentalText,null,(0,_.__)("Characters:")),(0,a.createElement)(g.__experimentalText,null,(0,a.createElement)(P.CharacterCount,null))),(0,a.createElement)("div",null,(0,a.createElement)(g.__experimentalText,null,(0,_.__)("Words:")),(0,a.createElement)(P.WordCount,null)),(0,a.createElement)("div",null,(0,a.createElement)(g.__experimentalText,null,(0,_.__)("Time to read:")),(0,a.createElement)(P.TimeToRead,null))))}function lo(){const{setIsListViewOpened:e}=(0,c.useDispatch)(Vt),t=(0,E.useFocusOnMount)("firstElement"),n=(0,E.useFocusReturn)(),o=(0,E.useFocusReturn)(),[l,r]=(0,a.useState)("list-view");return(0,a.createElement)("div",{"aria-label":(0,_.__)("Document Overview"),className:"edit-post-editor__document-overview-panel",onKeyDown:function(t){t.keyCode!==T.ESCAPE||t.defaultPrevented||(t.preventDefault(),e(!1))}},(0,a.createElement)("div",{className:"edit-post-editor__document-overview-panel-header components-panel__header edit-post-sidebar__panel-tabs",ref:n},(0,a.createElement)(g.Button,{icon:R,label:(0,_.__)("Close Document Overview Sidebar"),onClick:()=>e(!1)}),(0,a.createElement)("ul",null,(0,a.createElement)("li",null,(0,a.createElement)(g.Button,{onClick:()=>{r("list-view")},className:A()("edit-post-sidebar__panel-tab",{"is-active":"list-view"===l}),"aria-current":"list-view"===l},(0,_.__)("List View"))),(0,a.createElement)("li",null,(0,a.createElement)(g.Button,{onClick:()=>{r("outline")},className:A()("edit-post-sidebar__panel-tab",{"is-active":"outline"===l}),"aria-current":"outline"===l},(0,_.__)("Outline"))))),(0,a.createElement)("div",{ref:(0,E.useMergeRefs)([o,t]),className:"edit-post-editor__list-view-container"},"list-view"===l&&(0,a.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,a.createElement)(h.__experimentalListView,null)),"outline"===l&&(0,a.createElement)(oo,null)))}var ro=(0,a.createElement)(v.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),ao=(0,a.createElement)(v.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),io=e=>{let{sidebarName:t}=e;const{openGeneralSidebar:n}=(0,c.useDispatch)(Vt),o=()=>n("edit-post/document"),{documentLabel:l,isTemplateMode:r}=(0,c.useSelect)((e=>({
// translators: Default label for the Document sidebar tab, not selected.
documentLabel:e(P.store).getPostTypeLabel()||(0,_._x)("Document","noun"),isTemplateMode:e(Vt).isEditingTemplate()})),[]),[i,s]="edit-post/document"===t?// translators: ARIA label for the Document sidebar tab, selected. %s: Document label.
[(0,_.sprintf)((0,_.__)("%s (selected)"),l),"is-active"]:[l,""],[d,u]="edit-post/block"===t?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,_.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,_.__)("Block"),""],[m,p]="edit-post/document"===t?[(0,_.__)("Template (selected)"),"is-active"]:[(0,_.__)("Template"),""];return(0,a.createElement)("ul",null,!r&&(0,a.createElement)("li",null,(0,a.createElement)(g.Button,{onClick:o,className:`edit-post-sidebar__panel-tab ${s}`,"aria-label":i,"data-label":l},l)),r&&(0,a.createElement)("li",null,(0,a.createElement)(g.Button,{onClick:o,className:`edit-post-sidebar__panel-tab ${p}`,"aria-label":m,"data-label":(0,_.__)("Template")},(0,_.__)("Template"))),(0,a.createElement)("li",null,(0,a.createElement)(g.Button,{onClick:()=>n("edit-post/block"),className:`edit-post-sidebar__panel-tab ${u}`,"aria-label":d,"data-label":(0,_.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
(0,_.__)("Block"))))};function so(e){let{isOpen:t,onClick:n}=e;const o=(0,P.usePostVisibilityLabel)();return(0,a.createElement)(g.Button,{className:"edit-post-post-visibility__toggle",variant:"tertiary","aria-expanded":t,"aria-label":(0,_.sprintf)((0,_.__)("Select visibility: %s"),o),onClick:n},o)}var co=function(){const[e,t]=(0,a.useState)(null),n=(0,a.useMemo)((()=>({anchor:e})),[e]);return(0,a.createElement)(P.PostVisibilityCheck,{render:e=>{let{canEdit:o}=e;return(0,a.createElement)(g.PanelRow,{ref:t,className:"edit-post-post-visibility"},(0,a.createElement)("span",null,(0,_.__)("Visibility")),!o&&(0,a.createElement)("span",null,(0,a.createElement)(P.PostVisibilityLabel,null)),o&&(0,a.createElement)(g.Dropdown,{position:"bottom left",contentClassName:"edit-post-post-visibility__dialog",popoverProps:n,focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,a.createElement)(so,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,a.createElement)(P.PostVisibility,{onClose:t})}}))}})};function uo(){return(0,a.createElement)(P.PostTrashCheck,null,(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PostTrash,null)))}function mo(){const[e,t]=(0,a.useState)(null),n=(0,a.useMemo)((()=>({anchor:e})),[e]);return(0,a.createElement)(P.PostScheduleCheck,null,(0,a.createElement)(g.PanelRow,{className:"edit-post-post-schedule",ref:t},(0,a.createElement)("span",null,(0,_.__)("Publish")),(0,a.createElement)(g.Dropdown,{popoverProps:n,position:"bottom left",contentClassName:"edit-post-post-schedule__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,a.createElement)(po,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,a.createElement)(P.PostSchedule,{onClose:t})}})))}function po(e){let{isOpen:t,onClick:n}=e;const o=(0,P.usePostScheduleLabel)(),l=(0,P.usePostScheduleLabel)({full:!0});return(0,a.createElement)(g.Button,{className:"edit-post-post-schedule__toggle",variant:"tertiary",label:l,showTooltip:!0,"aria-expanded":t,"aria-label":(0,_.sprintf)((0,_.__)("Change date: %s"),o),onClick:n},o)}var go=function(){return(0,a.createElement)(P.PostStickyCheck,null,(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PostSticky,null)))},ho=function(){return(0,a.createElement)(P.PostAuthorCheck,null,(0,a.createElement)(g.PanelRow,{className:"edit-post-post-author"},(0,a.createElement)(P.PostAuthor,null)))},_o=function(){return(0,a.createElement)(P.PostSlugCheck,null,(0,a.createElement)(g.PanelRow,{className:"edit-post-post-slug"},(0,a.createElement)(P.PostSlug,null)))},Eo=function(){return(0,a.createElement)(P.PostFormatCheck,null,(0,a.createElement)(g.PanelRow,{className:"edit-post-post-format"},(0,a.createElement)(P.PostFormat,null)))},bo=function(){return(0,a.createElement)(P.PostPendingStatusCheck,null,(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PostPendingStatus,null)))};const{Fill:fo,Slot:vo}=(0,g.createSlotFill)("PluginPostStatusInfo"),yo=e=>{let{children:t,className:n}=e;return(0,a.createElement)(fo,null,(0,a.createElement)(g.PanelRow,{className:n},t))};yo.Slot=vo;var wo=yo,So=(0,a.createElement)(v.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,a.createElement)(v.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"}));const ko=(0,_.__)("Custom Template");function Po(e){let{onClose:t}=e;const n=(0,c.useSelect)((e=>e(P.store).getEditorSettings().defaultBlockTemplate),[]),{__unstableCreateTemplate:o,__unstableSwitchToTemplateMode:l}=(0,c.useDispatch)(Vt),[r,s]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),m=()=>{s(""),t()};return(0,a.createElement)(g.Modal,{title:(0,_.__)("Create custom template"),closeLabel:(0,_.__)("Close"),onRequestClose:m,className:"edit-post-post-template__create-modal"},(0,a.createElement)("form",{className:"edit-post-post-template__create-form",onSubmit:async e=>{if(e.preventDefault(),d)return;u(!0);const t=null!=n?n:(0,i.serialize)([(0,i.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,i.createBlock)("core/site-title"),(0,i.createBlock)("core/site-tagline")]),(0,i.createBlock)("core/separator"),(0,i.createBlock)("core/group",{tagName:"main"},[(0,i.createBlock)("core/group",{layout:{inherit:!0}},[(0,i.createBlock)("core/post-title")]),(0,i.createBlock)("core/post-content",{layout:{inherit:!0}})])]);await o({slug:(0,S.cleanForSlug)(r||ko),content:t,title:r||ko}),u(!1),m(),l(!0)}},(0,a.createElement)(g.Flex,{align:"flex-start",gap:8},(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(g.TextControl,{label:(0,_.__)("Name"),value:r,onChange:s,placeholder:ko,disabled:d,help:(0,_.__)('Describe the template, e.g. "Post with sidebar". Custom templates can be applied to any post or page.')}))),(0,a.createElement)(g.Flex,{justify:"flex-end",expanded:!1},(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(g.Button,{variant:"tertiary",onClick:m},(0,_.__)("Cancel"))),(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(g.Button,{variant:"primary",type:"submit",isBusy:d,"aria-disabled":d},(0,_.__)("Create"))))))}function Co(e){var t,n;let{onClose:o}=e;const{isPostsPage:l,availableTemplates:r,fetchedTemplates:i,selectedTemplateSlug:s,canCreate:d,canEdit:u}=(0,c.useSelect)((e=>{const{canUser:t,getEntityRecord:n,getEntityRecords:o}=e(xe.store),l=e(P.store).getEditorSettings(),r=t("read","settings")?n("root","site"):void 0,a=e(P.store).getCurrentPostId()===(null==r?void 0:r.page_for_posts),i=t("create","templates");return{isPostsPage:a,availableTemplates:l.availableTemplates,fetchedTemplates:i?o("postType","wp_template",{post_type:e(P.store).getCurrentPostType(),per_page:-1}):void 0,selectedTemplateSlug:e(P.store).getEditedPostAttribute("template"),canCreate:i&&!a&&l.supportsTemplateMode,canEdit:i&&l.supportsTemplateMode&&!!e(Vt).getEditedPostTemplate()}}),[]),m=(0,a.useMemo)((()=>Object.entries({...r,...Object.fromEntries((null!=i?i:[]).map((e=>{let{slug:t,title:n}=e;return[t,n.rendered]})))}).map((e=>{let[t,n]=e;return{value:t,label:n}}))),[r,i]),p=null!==(t=m.find((e=>e.value===s)))&&void 0!==t?t:m.find((e=>!e.value)),{editPost:E}=(0,c.useDispatch)(P.store),{__unstableSwitchToTemplateMode:b}=(0,c.useDispatch)(Vt),[f,v]=(0,a.useState)(!1);return(0,a.createElement)("div",{className:"edit-post-post-template__form"},(0,a.createElement)(h.__experimentalInspectorPopoverHeader,{title:(0,_.__)("Template"),help:(0,_.__)("Templates define the way content is displayed when viewing your site."),actions:d?[{icon:So,label:(0,_.__)("Add template"),onClick:()=>v(!0)}]:[],onClose:o}),l?(0,a.createElement)(g.Notice,{className:"edit-post-post-template__notice",status:"warning",isDismissible:!1},(0,_.__)("The posts page template cannot be changed.")):(0,a.createElement)(g.SelectControl,{hideLabelFromVision:!0,label:(0,_.__)("Template"),value:null!==(n=null==p?void 0:p.value)&&void 0!==n?n:"",options:m,onChange:e=>E({template:e||""})}),u&&(0,a.createElement)("p",null,(0,a.createElement)(g.Button,{variant:"link",onClick:()=>b()},(0,_.__)("Edit template"))),f&&(0,a.createElement)(Po,{onClose:()=>v(!1)}))}function To(){const[e,t]=(0,a.useState)(null),n=(0,a.useMemo)((()=>({anchor:e})),[e]);return(0,c.useSelect)((e=>{var t;const n=e(P.store).getCurrentPostType(),o=e(xe.store).getPostType(n);if(null==o||!o.viewable)return!1;const l=e(P.store).getEditorSettings();return!!(l.availableTemplates&&Object.keys(l.availableTemplates).length>0)||!!l.supportsTemplateMode&&(null!==(t=e(xe.store).canUser("create","templates"))&&void 0!==t&&t)}),[])?(0,a.createElement)(g.PanelRow,{className:"edit-post-post-template",ref:t},(0,a.createElement)("span",null,(0,_.__)("Template")),(0,a.createElement)(g.Dropdown,{popoverProps:n,position:"bottom left",className:"edit-post-post-template__dropdown",contentClassName:"edit-post-post-template__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,a.createElement)(xo,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,a.createElement)(Co,{onClose:t})}})):null}function xo(e){let{isOpen:t,onClick:n}=e;const o=(0,c.useSelect)((e=>{const t=e(P.store).getEditedPostAttribute("template"),{supportsTemplateMode:n,availableTemplates:o}=e(P.store).getEditorSettings();if(!n&&o[t])return o[t];const l=e(xe.store).canUser("create","templates")&&e(Vt).getEditedPostTemplate();return(null==l?void 0:l.title)||(null==l?void 0:l.slug)||(null==o?void 0:o[t])}),[]);return(0,a.createElement)(g.Button,{className:"edit-post-post-template__toggle",variant:"tertiary","aria-expanded":t,"aria-label":o?(0,_.sprintf)(// translators: %s: Name of the currently selected template.
(0,_.__)("Select template: %s"),o):(0,_.__)("Select template"),onClick:n},null!=o?o:(0,_.__)("Default template"))}function Bo(){const[e,t]=(0,a.useState)(null),n=(0,a.useMemo)((()=>({anchor:e})),[e]);return(0,a.createElement)(P.PostURLCheck,null,(0,a.createElement)(g.PanelRow,{className:"edit-post-post-url",ref:t},(0,a.createElement)("span",null,(0,_.__)("URL")),(0,a.createElement)(g.Dropdown,{popoverProps:n,position:"bottom left",className:"edit-post-post-url__dropdown",contentClassName:"edit-post-post-url__dialog",focusOnMount:!0,renderToggle:e=>{let{isOpen:t,onToggle:n}=e;return(0,a.createElement)(Mo,{isOpen:t,onClick:n})},renderContent:e=>{let{onClose:t}=e;return(0,a.createElement)(P.PostURL,{onClose:t})}})))}function Mo(e){let{isOpen:t,onClick:n}=e;const o=(0,P.usePostURLLabel)();return(0,a.createElement)(g.Button,{className:"edit-post-post-url__toggle",variant:"tertiary","aria-expanded":t,"aria-label":(0,_.sprintf)((0,_.__)("Change URL: %s"),o),onClick:n},o)}const No="post-status";var Io=(0,E.compose)([(0,c.withSelect)((e=>{const{isEditorPanelRemoved:t,isEditorPanelOpened:n}=e(Vt);return{isRemoved:t(No),isOpened:n(No)}})),(0,E.ifCondition)((e=>{let{isRemoved:t}=e;return!t})),(0,c.withDispatch)((e=>({onTogglePanel:()=>e(Vt).toggleEditorPanelOpened(No)})))])((function(e){let{isOpened:t,onTogglePanel:n}=e;return(0,a.createElement)(g.PanelBody,{className:"edit-post-post-status",title:(0,_.__)("Summary"),opened:t,onToggle:n},(0,a.createElement)(wo.Slot,null,(e=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(co,null),(0,a.createElement)(mo,null),(0,a.createElement)(To,null),(0,a.createElement)(Bo,null),(0,a.createElement)(go,null),(0,a.createElement)(bo,null),(0,a.createElement)(Eo,null),(0,a.createElement)(_o,null),(0,a.createElement)(ho,null),e,(0,a.createElement)(uo,null)))))})),Do=function(){return(0,a.createElement)(P.PostLastRevisionCheck,null,(0,a.createElement)(g.PanelBody,{className:"edit-post-last-revision__panel"},(0,a.createElement)(P.PostLastRevision,null)))},Ao=(0,E.compose)((0,c.withSelect)(((e,t)=>{const n=(0,Ht.get)(t.taxonomy,["slug"]),o=n?`taxonomy-panel-${n}`:"";return{panelName:o,isEnabled:!!n&&e(Vt).isEditorPanelEnabled(o),isOpened:!!n&&e(Vt).isEditorPanelOpened(o)}})),(0,c.withDispatch)(((e,t)=>({onTogglePanel:()=>{e(Vt).toggleEditorPanelOpened(t.panelName)}}))))((function(e){let{isEnabled:t,taxonomy:n,isOpened:o,onTogglePanel:l,children:r}=e;if(!t)return null;const i=(0,Ht.get)(n,["labels","menu_name"]);return i?(0,a.createElement)(g.PanelBody,{title:i,opened:o,onToggle:l},r):null})),Lo=function(){return(0,a.createElement)(P.PostTaxonomiesCheck,null,(0,a.createElement)(P.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,a.createElement)(Ao,{taxonomy:t},e)}))};const Oo="featured-image",Fo=(0,c.withSelect)((e=>{const{getEditedPostAttribute:t}=e(P.store),{getPostType:n}=e(xe.store),{isEditorPanelEnabled:o,isEditorPanelOpened:l}=e(Vt);return{postType:n(t("type")),isEnabled:o(Oo),isOpened:l(Oo)}})),Vo=(0,c.withDispatch)((e=>{const{toggleEditorPanelOpened:t}=e(Vt);return{onTogglePanel:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t(Oo,...n)}}}));var Ro=(0,E.compose)(Fo,Vo)((function(e){let{isEnabled:t,isOpened:n,postType:o,onTogglePanel:l}=e;return t?(0,a.createElement)(P.PostFeaturedImageCheck,null,(0,a.createElement)(g.PanelBody,{title:(0,Ht.get)(o,["labels","featured_image"],(0,_.__)("Featured image")),opened:n,onToggle:l},(0,a.createElement)(P.PostFeaturedImage,null))):null}));const Ho="post-excerpt";var Go=(0,E.compose)([(0,c.withSelect)((e=>({isEnabled:e(Vt).isEditorPanelEnabled(Ho),isOpened:e(Vt).isEditorPanelOpened(Ho)}))),(0,c.withDispatch)((e=>({onTogglePanel:()=>e(Vt).toggleEditorPanelOpened(Ho)})))])((function(e){let{isEnabled:t,isOpened:n,onTogglePanel:o}=e;return t?(0,a.createElement)(P.PostExcerptCheck,null,(0,a.createElement)(g.PanelBody,{title:(0,_.__)("Excerpt"),opened:n,onToggle:o},(0,a.createElement)(P.PostExcerpt,null))):null}));const Uo="discussion-panel";var zo=(0,E.compose)([(0,c.withSelect)((e=>({isEnabled:e(Vt).isEditorPanelEnabled(Uo),isOpened:e(Vt).isEditorPanelOpened(Uo)}))),(0,c.withDispatch)((e=>({onTogglePanel:()=>e(Vt).toggleEditorPanelOpened(Uo)})))])((function(e){let{isEnabled:t,isOpened:n,onTogglePanel:o}=e;return t?(0,a.createElement)(P.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,a.createElement)(g.PanelBody,{title:(0,_.__)("Discussion"),opened:n,onToggle:o},(0,a.createElement)(P.PostTypeSupportCheck,{supportKeys:"comments"},(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PostComments,null))),(0,a.createElement)(P.PostTypeSupportCheck,{supportKeys:"trackbacks"},(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PostPingbacks,null))))):null}));const $o="page-attributes";var Wo=function(){const{isEnabled:e,isOpened:t,postType:n}=(0,c.useSelect)((e=>{const{getEditedPostAttribute:t}=e(P.store),{isEditorPanelEnabled:n,isEditorPanelOpened:o}=e(Vt),{getPostType:l}=e(xe.store);return{isEnabled:n($o),isOpened:o($o),postType:l(t("type"))}}),[]),{toggleEditorPanelOpened:o}=(0,c.useDispatch)(Vt);return e&&n?(0,a.createElement)(P.PageAttributesCheck,null,(0,a.createElement)(g.PanelBody,{title:(0,Ht.get)(n,["labels","attributes"],(0,_.__)("Page attributes")),opened:t,onToggle:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o($o,...t)}},(0,a.createElement)(P.PageAttributesParent,null),(0,a.createElement)(g.PanelRow,null,(0,a.createElement)(P.PageAttributesOrder,null)))):null},qo=function(e){let{location:t}=e;const n=(0,a.useRef)(null),o=(0,a.useRef)(null);(0,a.useEffect)((()=>(o.current=document.querySelector(".metabox-location-"+t),o.current&&n.current.appendChild(o.current),()=>{o.current&&document.querySelector("#metaboxes").appendChild(o.current)})),[t]);const l=(0,c.useSelect)((e=>e(Vt).isSavingMetaBoxes()),[]),r=A()("edit-post-meta-boxes-area",`is-${t}`,{"is-loading":l});return(0,a.createElement)("div",{className:r},l&&(0,a.createElement)(g.Spinner,null),(0,a.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:n}),(0,a.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class jo extends a.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){const{id:e,isVisible:t}=this.props,n=document.getElementById(e);n&&(t?n.classList.remove("is-hidden"):n.classList.add("is-hidden"))}render(){return null}}var Zo=(0,c.withSelect)(((e,t)=>{let{id:n}=t;return{isVisible:e(Vt).isEditorPanelEnabled(`meta-box-${n}`)}}))(jo);function Ko(e){let{location:t}=e;const n=(0,c.useRegistry)(),{metaBoxes:o,areMetaBoxesInitialized:l,isEditorReady:r}=(0,c.useSelect)((e=>{const{__unstableIsEditorReady:n}=e(P.store),{getMetaBoxesPerLocation:o,areMetaBoxesInitialized:l}=e(Vt);return{metaBoxes:o(t),areMetaBoxesInitialized:l(),isEditorReady:n()}}),[t]);return(0,a.useEffect)((()=>{r&&!l&&n.dispatch(Vt).initializeMetaBoxes()}),[r,l]),l?(0,a.createElement)(a.Fragment,null,(0,Ht.map)(o,(e=>{let{id:t}=e;return(0,a.createElement)(Zo,{key:t,id:t})})),(0,a.createElement)(qo,{location:t})):null}window.wp.warning;const{Fill:Yo,Slot:Xo}=(0,g.createSlotFill)("PluginDocumentSettingPanel"),Qo=(0,E.compose)((0,w.withPluginContext)(((e,t)=>(void 0===t.name&&"undefined"!=typeof process&&process.env,{panelName:`${e.name}/${t.name}`}))),(0,c.withSelect)(((e,t)=>{let{panelName:n}=t;return{opened:e(Vt).isEditorPanelOpened(n),isEnabled:e(Vt).isEditorPanelEnabled(n)}})),(0,c.withDispatch)(((e,t)=>{let{panelName:n}=t;return{onToggle:()=>e(Vt).toggleEditorPanelOpened(n)}})))((e=>{let{isEnabled:t,panelName:n,opened:o,onToggle:l,className:r,title:i,icon:s,children:c}=e;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(yn,{label:i,panelName:n}),(0,a.createElement)(Yo,null,t&&(0,a.createElement)(g.PanelBody,{className:r,title:i,icon:s,opened:o,onToggle:l},c)))}));Qo.Slot=Xo;var Jo=Qo;function el(e){let{className:t,...n}=e;const{postTitle:o,shortcut:l,showIconLabels:r}=(0,c.useSelect)((e=>({postTitle:e(P.store).getEditedPostAttribute("title"),shortcut:e(Kt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),showIconLabels:e(Vt).isFeatureActive("showIconLabels")})),[]);return(0,a.createElement)(pe,p({panelClassName:t,className:"edit-post-sidebar",smallScreenTitle:o||(0,_.__)("(no title)"),scope:"core/edit-post",toggleShortcut:l,showIconLabels:r},n))}var tl=(0,a.createElement)(v.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,a.createElement)(v.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),nl=function(){const e=(0,c.useSelect)((e=>{const{getEditedPostTemplate:t}=e(Vt);return t()}),[]);return e?(0,a.createElement)(g.PanelBody,null,(0,a.createElement)(g.Flex,{align:"flex-start",gap:"3"},(0,a.createElement)(g.FlexItem,null,(0,a.createElement)(ve,{icon:tl})),(0,a.createElement)(g.FlexBlock,null,(0,a.createElement)("h2",{className:"edit-post-template-summary__title"},(null==e?void 0:e.title)||(null==e?void 0:e.slug)),(0,a.createElement)("p",null,null==e?void 0:e.description)))):null};const ol=a.Platform.select({web:!0,native:!1});var ll=()=>{const{sidebarName:e,keyboardShortcut:t,isTemplateMode:n}=(0,c.useSelect)((e=>{let t=e(ee).getActiveComplementaryArea(Vt.name);return["edit-post/document","edit-post/block"].includes(t)||(e(h.store).getBlockSelectionStart()&&(t="edit-post/block"),t="edit-post/document"),{sidebarName:t,keyboardShortcut:e(Kt.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),isTemplateMode:e(Vt).isEditingTemplate()}}),[]);return(0,a.createElement)(el,{identifier:e,header:(0,a.createElement)(io,{sidebarName:e}),closeLabel:(0,_.__)("Close settings"),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,_.__)("Settings"),toggleShortcut:t,icon:(0,_.isRTL)()?ro:ao,isActiveByDefault:ol},!n&&"edit-post/document"===e&&(0,a.createElement)(a.Fragment,null,(0,a.createElement)(Io,null),(0,a.createElement)(Jo.Slot,null),(0,a.createElement)(Do,null),(0,a.createElement)(Lo,null),(0,a.createElement)(Ro,null),(0,a.createElement)(Go,null),(0,a.createElement)(zo,null),(0,a.createElement)(Wo,null),(0,a.createElement)(Ko,{location:"side"})),n&&"edit-post/document"===e&&(0,a.createElement)(nl,null),"edit-post/block"===e&&(0,a.createElement)(h.BlockInspector,null))};function rl(e){let{nonAnimatedSrc:t,animatedSrc:n}=e;return(0,a.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,a.createElement)("source",{srcSet:t,media:"(prefers-reduced-motion: reduce)"}),(0,a.createElement)("img",{src:n,width:"312",height:"240",alt:""}))}function al(){const{toggleFeature:e}=(0,c.useDispatch)(Vt);return(0,a.createElement)(g.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,_.__)("Welcome to the block editor"),finishButtonText:(0,_.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,a.createElement)(rl,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,_.__)("Welcome to the block editor")),(0,a.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,_.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct “block” of content.")))},{image:(0,a.createElement)(rl,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,_.__)("Make each block your own")),(0,a.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,_.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,a.createElement)(rl,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,_.__)("Get to know the block library")),(0,a.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,a.createInterpolateElement)((0,_.__)("All of the blocks available to you live in the block library. You’ll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,a.createElement)("img",{alt:(0,_.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,a.createElement)(rl,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,_.__)("Learn how to use the block editor")),(0,a.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,_.__)("New to the block editor? Want to learn more about using it? "),(0,a.createElement)(g.ExternalLink,{href:(0,_.__)("https://wordpress.org/support/article/wordpress-editor/")},(0,_.__)("Here's a detailed guide."))))}]})}function il(){const{toggleFeature:e}=(0,c.useDispatch)(Vt);return(0,a.createElement)(g.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,_.__)("Welcome to the template editor"),finishButtonText:(0,_.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,a.createElement)(rl,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,a.createElement)(a.Fragment,null,(0,a.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,_.__)("Welcome to the template editor")),(0,a.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,_.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")))}]})}function sl(){const{isActive:e,isTemplateMode:t}=(0,c.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n}=e(Vt),o=n();return{isActive:t(o?"welcomeGuideTemplate":"welcomeGuide"),isTemplateMode:o}}),[]);return e?t?(0,a.createElement)(il,null):(0,a.createElement)(al,null):null}const{Fill:cl,Slot:dl}=(0,g.createSlotFill)("PluginPostPublishPanel"),ul=(0,E.compose)((0,w.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((e=>{let{children:t,className:n,title:o,initialOpen:l=!1,icon:r}=e;return(0,a.createElement)(cl,null,(0,a.createElement)(g.PanelBody,{className:n,initialOpen:l||!o,title:o,icon:r},t))}));ul.Slot=dl;var ml=ul;const{Fill:pl,Slot:gl}=(0,g.createSlotFill)("PluginPrePublishPanel"),hl=(0,E.compose)((0,w.withPluginContext)(((e,t)=>({icon:t.icon||e.icon}))))((e=>{let{children:t,className:n,title:o,initialOpen:l=!1,icon:r}=e;return(0,a.createElement)(pl,null,(0,a.createElement)(g.PanelBody,{className:n,initialOpen:l||!o,title:o,icon:r},t))}));hl.Slot=gl;var _l=hl;const{Fill:El,Slot:bl}=(0,g.createSlotFill)("ActionsPanel");function fl(e){let{setEntitiesSavedStatesCallback:t,closeEntitiesSavedStates:n,isEntitiesSavedStatesOpen:o}=e;const{closePublishSidebar:l,togglePublishSidebar:r}=(0,c.useDispatch)(Vt),{publishSidebarOpened:i,hasActiveMetaboxes:s,isSavingMetaBoxes:d,hasNonPostEntityChanges:u}=(0,c.useSelect)((e=>({publishSidebarOpened:e(Vt).isPublishSidebarOpened(),hasActiveMetaboxes:e(Vt).hasMetaBoxes(),isSavingMetaBoxes:e(Vt).isSavingMetaBoxes(),hasNonPostEntityChanges:e(P.store).hasNonPostEntityChanges()})),[]),m=(0,a.useCallback)((()=>t(!0)),[]);let p;return p=i?(0,a.createElement)(P.PostPublishPanel,{onClose:l,forceIsDirty:s,forceIsSaving:d,PrePublishExtension:_l.Slot,PostPublishExtension:ml.Slot}):u?(0,a.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,a.createElement)(g.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:m,"aria-expanded":!1},(0,_.__)("Open save panel"))):(0,a.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,a.createElement)(g.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:r,"aria-expanded":!1},(0,_.__)("Open publish panel"))),(0,a.createElement)(a.Fragment,null,o&&(0,a.createElement)(P.EntitiesSavedStates,{close:n}),(0,a.createElement)(bl,{bubblesVirtually:!0}),!o&&p)}function vl(){const{blockPatternsWithPostContentBlockType:e,postType:t}=(0,c.useSelect)((e=>{const{__experimentalGetPatternsByBlockTypes:t}=e(h.store),{getCurrentPostType:n}=e(P.store);return{blockPatternsWithPostContentBlockType:t("core/post-content"),postType:n()}}),[]);return(0,a.useMemo)((()=>e.filter((e=>"page"===t&&!e.postTypes||Array.isArray(e.postTypes)&&e.postTypes.includes(t)))),[t,e])}function yl(e){let{onChoosePattern:t}=e;const n=vl(),o=(0,E.useAsyncList)(n),{resetEditorBlocks:l}=(0,c.useDispatch)(P.store);return(0,a.createElement)(h.__experimentalBlockPatternsList,{blockPatterns:n,shownPatterns:o,onClickPattern:(e,n)=>{l(n),t()}})}const wl="INITIAL",Sl="PATTERN",kl="CLOSED";function Pl(){const[e,t]=(0,a.useState)(wl),n=vl().length>0,o=(0,c.useSelect)((t=>{if(!n||e!==wl)return!1;const{getEditedPostContent:o,isEditedPostSaveable:l}=t(P.store),{isEditingTemplate:r,isFeatureActive:a}=t(Vt);return!l()&&""===o()&&!r()&&!a("welcomeGuide")}),[e,n]);return(0,a.useEffect)((()=>{o&&t(Sl)}),[o]),e===wl||e===kl?null:(0,a.createElement)(g.Modal,{className:"edit-post-start-page-options__modal",title:(0,_.__)("Choose a pattern"),closeLabel:(0,_.__)("Cancel"),onRequestClose:()=>{t(kl)}},(0,a.createElement)("div",{className:"edit-post-start-page-options__modal-content"},e===Sl&&(0,a.createElement)(yl,{onChoosePattern:()=>{t(kl)}})))}const Cl={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,_.__)("Editor top bar"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,_.__)("Editor content"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,_.__)("Editor settings"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,_.__)("Editor publish"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,_.__)("Editor footer")};var Tl=function(e){let{styles:t}=e;const n=(0,E.useViewportMatch)("medium","<"),o=(0,E.useViewportMatch)("huge",">="),l=(0,E.useViewportMatch)("large"),{openGeneralSidebar:r,closeGeneralSidebar:i,setIsInserterOpened:s}=(0,c.useDispatch)(Vt),{createErrorNotice:d}=(0,c.useDispatch)(k.store),{mode:u,isFullscreenActive:m,isRichEditingEnabled:p,sidebarIsOpened:b,hasActiveMetaboxes:f,hasFixedToolbar:v,previousShortcut:y,nextShortcut:S,hasBlockSelected:C,isInserterOpened:T,isListViewOpened:x,showIconLabels:B,isDistractionFree:M,showBlockBreadcrumbs:N,isTemplateMode:I,documentLabel:D}=(0,c.useSelect)((e=>{const{getEditorSettings:t,getPostTypeLabel:n}=e(P.store),o=t(),r=n();return{isTemplateMode:e(Vt).isEditingTemplate(),hasFixedToolbar:e(Vt).isFeatureActive("fixedToolbar"),sidebarIsOpened:!(!e(ee).getActiveComplementaryArea(Vt.name)&&!e(Vt).isPublishSidebarOpened()),isFullscreenActive:e(Vt).isFeatureActive("fullscreenMode"),isInserterOpened:e(Vt).isInserterOpened(),isListViewOpened:e(Vt).isListViewOpened(),mode:e(Vt).getEditorMode(),isRichEditingEnabled:o.richEditingEnabled,hasActiveMetaboxes:e(Vt).hasMetaBoxes(),previousShortcut:e(Kt.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(Kt.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:e(Vt).isFeatureActive("showIconLabels"),isDistractionFree:e(Vt).isFeatureActive("distractionFree")&&l,showBlockBreadcrumbs:e(Vt).isFeatureActive("showBlockBreadcrumbs"),
// translators: Default label for the Document in the Block Breadcrumb.
documentLabel:r||(0,_._x)("Document","noun")}}),[]),L=A()("edit-post-layout","is-mode-"+u,{"is-sidebar-opened":b,"has-fixed-toolbar":v,"has-metaboxes":f,"show-icon-labels":B,"is-distraction-free":M});(0,a.useEffect)((()=>{b&&!o&&s(!1)}),[b,o]),(0,a.useEffect)((()=>{T&&!o&&i()}),[T,o]);const[O,F]=(0,a.useState)(!1),V=(0,a.useCallback)((e=>{"function"==typeof O&&O(e),F(!1)}),[O]),R=x?(0,_.__)("Document Overview"):(0,_.__)("Block Library");return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(ge,{isActive:m}),(0,a.createElement)(Mn,null),(0,a.createElement)(P.UnsavedChangesWarning,null),(0,a.createElement)(P.AutosaveMonitor,null),(0,a.createElement)(P.LocalAutosaveMonitor,null),(0,a.createElement)(on,null),(0,a.createElement)(P.EditorKeyboardShortcutsRegister,null),(0,a.createElement)(ll,null),(0,a.createElement)(_e,{isDistractionFree:M,className:L,labels:{...Cl,secondarySidebar:R},header:(0,a.createElement)(Jn,{setEntitiesSavedStatesCallback:F}),editorNotices:(0,a.createElement)(P.EditorNotices,null),secondarySidebar:"visual"===u&&T?(0,a.createElement)(to,null):"visual"===u&&x?(0,a.createElement)(lo,null):null,sidebar:(!n||b)&&(0,a.createElement)(a.Fragment,null,!n&&!b&&(0,a.createElement)("div",{className:"edit-post-layout__toggle-sidebar-panel"},(0,a.createElement)(g.Button,{variant:"secondary",className:"edit-post-layout__toggle-sidebar-panel-button",onClick:()=>r(C?"edit-post/block":"edit-post/document"),"aria-expanded":!1},C?(0,_.__)("Open block settings"):(0,_.__)("Open document settings"))),(0,a.createElement)(pe.Slot,{scope:"core/edit-post"})),notices:(0,a.createElement)(P.EditorSnackbars,null),content:(0,a.createElement)(a.Fragment,null,!M&&(0,a.createElement)(P.EditorNotices,null),("text"===u||!p)&&(0,a.createElement)(Yt,null),p&&"visual"===u&&(0,a.createElement)(nn,{styles:t}),!I&&(0,a.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,a.createElement)(Ko,{location:"normal"}),(0,a.createElement)(Ko,{location:"advanced"})),n&&b&&(0,a.createElement)(g.ScrollLock,null)),footer:!M&&N&&!n&&p&&"visual"===u&&(0,a.createElement)("div",{className:"edit-post-layout__footer"},(0,a.createElement)(h.BlockBreadcrumb,{rootLabelText:D})),actions:(0,a.createElement)(fl,{closeEntitiesSavedStates:V,isEntitiesSavedStatesOpen:O,setEntitiesSavedStatesCallback:F}),shortcuts:{previous:y,next:S}}),(0,a.createElement)(xn,null),(0,a.createElement)(pn,null),(0,a.createElement)(sl,null),(0,a.createElement)(Pl,null),(0,a.createElement)(g.Popover.Slot,null),(0,a.createElement)(w.PluginArea,{onError:function(e){d((0,_.sprintf)(
/* translators: %s: plugin name */
(0,_.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}))};function xl(e){let{postId:t}=e;return(e=>{const{hasBlockSelection:t,isEditorSidebarOpened:n}=(0,c.useSelect)((e=>({hasBlockSelection:!!e(h.store).getBlockSelectionStart(),isEditorSidebarOpened:e(Ft).isEditorSidebarOpened()})),[e]),{openGeneralSidebar:o}=(0,c.useDispatch)(Ft);(0,a.useEffect)((()=>{n&&o(t?"edit-post/block":"edit-post/document")}),[t,n])})(t),(e=>{const{newPermalink:t}=(0,c.useSelect)((e=>({newPermalink:e(P.store).getCurrentPost().link})),[e]),n=(0,a.useRef)();(0,a.useEffect)((()=>{n.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[e]),(0,a.useEffect)((()=>{t&&n.current&&n.current.setAttribute("href",t)}),[t])})(t),null}var Bl=function(e){let{postId:t,postType:n,settings:o,initialEdits:l,onError:r,...s}=e;const{hasFixedToolbar:d,focusMode:m,isDistractionFree:h,hasInlineToolbar:_,hasThemeStyles:E,post:b,preferredStyleVariations:f,hiddenBlockTypes:v,blockTypes:y,keepCaretInsideBlock:w,isTemplateMode:S,template:k}=(0,c.useSelect)((e=>{var o,l;const{isFeatureActive:r,__experimentalGetPreviewDeviceType:a,isEditingTemplate:s,getEditedPostTemplate:c,getHiddenBlockTypes:d}=e(Vt),{getEntityRecord:m,getPostType:p,getEntityRecords:g,canUser:h}=e(xe.store),{getEditorSettings:_}=e(P.store),{getBlockTypes:E}=e(i.store);let b;if(["wp_template","wp_template_part"].includes(n)){const e=g("postType",n,{wp_id:t});b=null==e?void 0:e[0]}else b=m("postType",n,t);const f=_().supportsTemplateMode,v=null!==(o=null===(l=p(n))||void 0===l?void 0:l.viewable)&&void 0!==o&&o,y=h("create","templates");return{hasFixedToolbar:r("fixedToolbar")||"Desktop"!==a(),focusMode:r("focusMode"),isDistractionFree:r("distractionFree"),hasInlineToolbar:r("inlineToolbar"),hasThemeStyles:r("themeStyles"),preferredStyleVariations:e(u.store).get("core/edit-post","preferredStyleVariations"),hiddenBlockTypes:d(),blockTypes:E(),keepCaretInsideBlock:r("keepCaretInsideBlock"),isTemplateMode:s(),template:f&&v&&y?c():null,post:b}}),[n,t]),{updatePreferredStyleVariations:C,setIsInserterOpened:T}=(0,c.useDispatch)(Vt),x=(0,a.useMemo)((()=>{const e={...o,__experimentalPreferredStyleVariations:{value:f,onChange:C},hasFixedToolbar:d,focusMode:m,isDistractionFree:h,hasInlineToolbar:_,__experimentalSetIsInserterOpened:T,keepCaretInsideBlock:w,defaultAllowedBlockTypes:o.allowedBlockTypes};if(v.length>0){const t=!0===o.allowedBlockTypes?(0,Ht.map)(y,"name"):o.allowedBlockTypes||[];e.allowedBlockTypes=t.filter((e=>!v.includes(e)))}return e}),[o,d,m,h,v,y,f,T,C,w]),B=(0,a.useMemo)((()=>{var e;const t=[],n=[];null===(e=o.styles)||void 0===e||e.forEach((e=>{e.__unstableType&&"theme"!==e.__unstableType?n.push(e):t.push(e)}));const l=[...o.defaultEditorStyles,...n];return E&&t.length?o.styles:l}),[o,E]);return b?(0,a.createElement)(a.StrictMode,null,(0,a.createElement)(Kt.ShortcutProvider,null,(0,a.createElement)(g.SlotFillProvider,null,(0,a.createElement)(P.EditorProvider,p({settings:x,post:b,initialEdits:l,useSubRegistry:!1,__unstableTemplate:S?k:void 0},s),(0,a.createElement)(P.ErrorBoundary,{onError:r},(0,a.createElement)(xl,{postId:t}),(0,a.createElement)(Tl,{styles:B})),(0,a.createElement)(P.PostLockedModal,null))))):null},Ml=e=>{let{allowedBlocks:t,icon:n,label:o,onClick:l,small:r,role:i}=e;return(0,a.createElement)(h.BlockSettingsMenuControls,null,(e=>{let{selectedBlocks:s,onClose:c}=e;return((e,t)=>{return!Array.isArray(t)||(n=t,0===e.filter((e=>!n.includes(e))).length);var n})(s,t)?(0,a.createElement)(g.MenuItem,{onClick:(0,E.compose)(l,c),icon:n,label:r?o:void 0,role:i},!r&&o):null}))},Nl=(0,E.compose)((0,w.withPluginContext)(((e,t)=>{var n;return{as:null!==(n=t.as)&&void 0!==n?n:g.MenuItem,icon:t.icon||e.icon,name:"core/edit-post/plugin-more-menu"}})))(ae);function Il(e){return(0,a.createElement)(se,p({__unstableExplicitMenuItem:!0,scope:"core/edit-post"},e))}function Dl(e,t,n,o,l){(0,a.unmountComponentAtNode)(n);const r=Dl.bind(null,e,t,n,o,l);(0,a.render)((0,a.createElement)(Bl,{settings:o,onError:r,postId:t,postType:e,initialEdits:l,recovery:!0}),n)}function Al(e,t,n,o,l){const r=document.getElementById(e),m=Dl.bind(null,t,n,r,o,l);(0,c.dispatch)(u.store).setDefaults("core/edit-post",{editorMode:"visual",fixedToolbar:!1,fullscreenMode:!0,hiddenBlockTypes:[],inactivePanels:[],isPublishSidebarEnabled:!0,openPanels:["post-status"],preferredStyleVariations:{},showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,c.dispatch)(i.store).__experimentalReapplyBlockTypeFilters(),(0,c.select)(Vt).isFeatureActive("showListViewByDefault")&&(0,c.dispatch)(Vt).setIsListViewOpened(!0),(0,s.registerCoreBlocks)(),(0,s.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:o.__unstableEnableFullSiteEditingBlocks}),(0,d.addFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter",((e,t)=>!(!(0,c.select)(Vt).isEditingTemplate()&&"core/template-part"===t.name)&&e)),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),(0,a.render)((0,a.createElement)(Bl,{settings:o,onError:m,postId:n,postType:t,initialEdits:l}),r)}}(),(window.wp=window.wp||{}).editPost=o}();
//# sourceMappingURL=index.min.js.map