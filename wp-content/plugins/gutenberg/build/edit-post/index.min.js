!function(){var e={4403:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var l=a.apply(null,n);l&&e.push(l)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var s in n)o.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};!function(){"use strict";n.r(o),n.d(o,{PluginBlockSettingsMenuItem:function(){return or},PluginDocumentSettingPanel:function(){return ya},PluginMoreMenuItem:function(){return ar},PluginPostPublishPanel:function(){return Na},PluginPostStatusInfo:function(){return Go},PluginPrePublishPanel:function(){return Fa},PluginSidebar:function(){return wa},PluginSidebarMoreMenuItem:function(){return rr},__experimentalFullscreenModeClose:function(){return Wn},__experimentalMainDashboardButton:function(){return co},__experimentalPluginPostExcerpt:function(){return sa},initializeEditor:function(){return lr},reinitializeEditor:function(){return sr},store:function(){return ln}});var e={};n.r(e),n.d(e,{closeModal:function(){return j},disableComplementaryArea:function(){return G},enableComplementaryArea:function(){return H},openModal:function(){return Z},pinItem:function(){return z},setDefaultComplementaryArea:function(){return R},setFeatureDefaults:function(){return q},setFeatureValue:function(){return W},toggleFeature:function(){return $},unpinItem:function(){return U}});var t={};n.r(t),n.d(t,{getActiveComplementaryArea:function(){return K},isComplementaryAreaLoading:function(){return Y},isFeatureActive:function(){return X},isItemPinned:function(){return Q},isModalActive:function(){return J}});var a={};n.r(a),n.d(a,{__experimentalSetPreviewDeviceType:function(){return ht},__unstableCreateTemplate:function(){return vt},__unstableSwitchToTemplateMode:function(){return ft},closeGeneralSidebar:function(){return Ye},closeModal:function(){return Xe},closePublishSidebar:function(){return et},hideBlockTypes:function(){return dt},initializeMetaBoxes:function(){return wt},metaBoxUpdatesFailure:function(){return gt},metaBoxUpdatesSuccess:function(){return pt},openGeneralSidebar:function(){return Ke},openModal:function(){return Qe},openPublishSidebar:function(){return Je},removeEditorPanel:function(){return at},requestMetaBoxUpdates:function(){return mt},setAvailableMetaBoxesPerLocation:function(){return ut},setIsEditingTemplate:function(){return Et},setIsInserterOpened:function(){return bt},setIsListViewOpened:function(){return _t},showBlockTypes:function(){return ct},switchEditorMode:function(){return lt},toggleDistractionFree:function(){return St},toggleEditorPanelEnabled:function(){return nt},toggleEditorPanelOpened:function(){return ot},toggleFeature:function(){return rt},togglePinnedPluginItem:function(){return st},togglePublishSidebar:function(){return tt},updatePreferredStyleVariations:function(){return it}});var r={};n.r(r),n.d(r,{__experimentalGetInsertionPoint:function(){return en},__experimentalGetPreviewDeviceType:function(){return Xt},areMetaBoxesInitialized:function(){return on},getActiveGeneralSidebarName:function(){return Dt},getActiveMetaBoxLocations:function(){return Wt},getAllMetaBoxes:function(){return Kt},getEditedPostTemplate:function(){return an},getEditorMode:function(){return It},getHiddenBlockTypes:function(){return Ft},getMetaBoxesPerLocation:function(){return jt},getPreference:function(){return Vt},getPreferences:function(){return Lt},hasMetaBoxes:function(){return Yt},isEditingTemplate:function(){return nn},isEditorPanelEnabled:function(){return Ht},isEditorPanelOpened:function(){return Gt},isEditorPanelRemoved:function(){return Rt},isEditorSidebarOpened:function(){return At},isFeatureActive:function(){return Ut},isInserterOpened:function(){return Jt},isListViewOpened:function(){return tn},isMetaBoxLocationActive:function(){return Zt},isMetaBoxLocationVisible:function(){return qt},isModalActive:function(){return zt},isPluginItemPinned:function(){return $t},isPluginSidebarOpened:function(){return Nt},isPublishSidebarOpened:function(){return Ot},isSavingMetaBoxes:function(){return Qt}});var l=window.React,s=window.wp.blocks,i=window.wp.blockLibrary,c=window.wp.deprecated,d=n.n(c),u=window.wp.element,m=window.wp.data,p=window.wp.hooks,g=window.wp.preferences,h=window.wp.widgets,b=window.wp.mediaUtils;(0,p.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",(()=>b.MediaUpload));var _=window.wp.components,E=window.wp.blockEditor,f=window.wp.i18n,v=window.wp.compose;const y=(0,v.compose)((0,m.withSelect)(((e,t)=>{if((0,s.hasBlockSupport)(t.name,"multiple",!0))return{};const n=e(E.store).getBlocks().find((({name:e})=>t.name===e));return{originalBlockClientId:n&&n.clientId!==t.clientId&&n.clientId}})),(0,m.withDispatch)(((e,{originalBlockClientId:t})=>({selectFirst:()=>e(E.store).selectBlock(t)})))),w=(0,v.createHigherOrderComponent)((e=>y((({originalBlockClientId:t,selectFirst:n,...o})=>{if(!t)return(0,l.createElement)(e,{...o});const a=(0,s.getBlockType)(o.name),r=function(e){const t=(0,s.findTransform)((0,s.getBlockTransforms)("to",e),(({type:e,blocks:t})=>"block"===e&&1===t.length));return t?(0,s.getBlockType)(t.blocks[0]):null}(o.name);return[(0,l.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,l.createElement)(e,{key:"block-edit",...o})),(0,l.createElement)(E.Warning,{key:"multiple-use-warning",actions:[(0,l.createElement)(_.Button,{key:"find-original",variant:"secondary",onClick:n},(0,f.__)("Find original")),(0,l.createElement)(_.Button,{key:"remove",variant:"secondary",onClick:()=>o.onReplace([])},(0,f.__)("Remove")),r&&(0,l.createElement)(_.Button,{key:"transform",variant:"secondary",onClick:()=>o.onReplace((0,s.createBlock)(r.name,o.attributes))},(0,f.__)("Transform into:")," ",r.title)]},(0,l.createElement)("strong",null,a?.title,": "),(0,f.__)("This block can only be used once."))]}))),"withMultipleValidation");(0,p.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",w);var S=window.wp.coreData,k=window.wp.editor,P=window.wp.primitives,C=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),T=window.wp.plugins,x=window.wp.url,B=window.wp.notices;function M(){const{createNotice:e}=(0,m.useDispatch)(B.store),{getEditedPostAttribute:t}=(0,m.useSelect)(k.store),n=(0,v.useCopyToClipboard)((function(){return t("content")}),(function(){e("info",(0,f.__)("All content copied."),{isDismissible:!0,type:"snackbar"})}));return(0,l.createElement)(_.MenuItem,{ref:n},(0,f.__)("Copy all blocks"))}var I=window.wp.keycodes,A=n(4403),N=n.n(A),D=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),L=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),V=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),F=window.wp.viewport,O=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));const R=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),H=(e,t)=>({registry:n,dispatch:o})=>{t&&(n.select(g.store).get(e,"isComplementaryAreaVisible")||n.dispatch(g.store).set(e,"isComplementaryAreaVisible",!0),o({type:"ENABLE_COMPLEMENTARY_AREA",scope:e,area:t}))},G=e=>({registry:t})=>{t.select(g.store).get(e,"isComplementaryAreaVisible")&&t.dispatch(g.store).set(e,"isComplementaryAreaVisible",!1)},z=(e,t)=>({registry:n})=>{if(!t)return;const o=n.select(g.store).get(e,"pinnedItems");!0!==o?.[t]&&n.dispatch(g.store).set(e,"pinnedItems",{...o,[t]:!0})},U=(e,t)=>({registry:n})=>{if(!t)return;const o=n.select(g.store).get(e,"pinnedItems");n.dispatch(g.store).set(e,"pinnedItems",{...o,[t]:!1})};function $(e,t){return function({registry:n}){d()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),n.dispatch(g.store).toggle(e,t)}}function W(e,t,n){return function({registry:o}){d()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),o.dispatch(g.store).set(e,t,!!n)}}function q(e,t){return function({registry:n}){d()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),n.dispatch(g.store).setDefaults(e,t)}}function Z(e){return{type:"OPEN_MODAL",name:e}}function j(){return{type:"CLOSE_MODAL"}}const K=(0,m.createRegistrySelector)((e=>(t,n)=>{const o=e(g.store).get(n,"isComplementaryAreaVisible");if(void 0!==o)return!1===o?null:t?.complementaryAreas?.[n]})),Y=(0,m.createRegistrySelector)((e=>(t,n)=>{const o=e(g.store).get(n,"isComplementaryAreaVisible"),a=t?.complementaryAreas?.[n];return o&&void 0===a})),Q=(0,m.createRegistrySelector)((e=>(t,n,o)=>{var a;const r=e(g.store).get(n,"pinnedItems");return null===(a=r?.[o])||void 0===a||a})),X=(0,m.createRegistrySelector)((e=>(t,n,o)=>(d()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!e(g.store).get(n,o))));function J(e,t){return e.activeModal===t}var ee=(0,m.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return e[n]?e:{...e,[n]:o}}case"ENABLE_COMPLEMENTARY_AREA":{const{scope:n,area:o}=t;return{...e,[n]:o}}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}});const te=(0,m.createReduxStore)("core/interface",{reducer:ee,actions:e,selectors:t});(0,m.register)(te);var ne=(0,T.withPluginContext)(((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`}))),oe=ne((function({as:e=_.Button,scope:t,identifier:n,icon:o,selectedIcon:a,name:r,...s}){const i=e,c=(0,m.useSelect)((e=>e(te).getActiveComplementaryArea(t)===n),[n,t]),{enableComplementaryArea:d,disableComplementaryArea:u}=(0,m.useDispatch)(te);return(0,l.createElement)(i,{icon:a&&c?a:o,"aria-controls":n.replace("/",":"),onClick:()=>{c?u(t):d(t,n)},...s})})),ae=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:o})=>{const a=(0,l.createElement)(oe,{icon:O,...o});return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,l.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,l.createElement)("div",{className:N()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,a))};const re=()=>{};function le({name:e,as:t=_.Button,onClick:n,...o}){return(0,l.createElement)(_.Fill,{name:e},(({onClick:e})=>(0,l.createElement)(t,{onClick:n||e?(...t)=>{(n||re)(...t),(e||re)(...t)}:void 0,...o})))}le.Slot=function({name:e,as:t=_.ButtonGroup,fillProps:n={},bubblesVirtually:o,...a}){return(0,l.createElement)(_.Slot,{name:e,bubblesVirtually:o,fillProps:n},(e=>{if(!u.Children.toArray(e).length)return null;const n=[];u.Children.forEach(e,(({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)}));const o=u.Children.map(e,(e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e));return(0,l.createElement)(t,{...a},o)}))};var se=le;const ie=({__unstableExplicitMenuItem:e,__unstableTarget:t,...n})=>(0,l.createElement)(_.MenuItem,{...n});function ce({scope:e,target:t,__unstableExplicitMenuItem:n,...o}){return(0,l.createElement)(oe,{as:o=>(0,l.createElement)(se,{__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:ie,name:`${e}/plugin-more-menu`,...o}),role:"menuitemcheckbox",selectedIcon:D,name:t,scope:e,...o})}function de({scope:e,...t}){return(0,l.createElement)(_.Fill,{name:`PinnedItems/${e}`,...t})}de.Slot=function({scope:e,className:t,...n}){return(0,l.createElement)(_.Slot,{name:`PinnedItems/${e}`,...n},(e=>e?.length>0&&(0,l.createElement)("div",{className:N()(t,"interface-pinned-items")},e)))};var ue=de;function me({scope:e,children:t,className:n,id:o}){return(0,l.createElement)(_.Fill,{name:`ComplementaryArea/${e}`},(0,l.createElement)("div",{id:o,className:n},t))}const pe=ne((function({children:e,className:t,closeLabel:n=(0,f.__)("Close plugin"),identifier:o,header:a,headerClassName:r,icon:s,isPinnable:i=!0,panelClassName:c,scope:d,name:p,smallScreenTitle:g,title:h,toggleShortcut:b,isActiveByDefault:E,showIconLabels:v=!1}){const{isLoading:y,isActive:w,isPinned:S,activeArea:k,isSmall:P,isLarge:C}=(0,m.useSelect)((e=>{const{getActiveComplementaryArea:t,isComplementaryAreaLoading:n,isItemPinned:a}=e(te),r=t(d);return{isLoading:n(d),isActive:r===o,isPinned:a(d,o),activeArea:r,isSmall:e(F.store).isViewportMatch("< medium"),isLarge:e(F.store).isViewportMatch("large")}}),[o,d]);!function(e,t,n,o,a){const r=(0,u.useRef)(!1),l=(0,u.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:i}=(0,m.useDispatch)(te);(0,u.useEffect)((()=>{o&&a&&!r.current?(i(e),l.current=!0):l.current&&!a&&r.current?(l.current=!1,s(e,t)):l.current&&n&&n!==t&&(l.current=!1),a!==r.current&&(r.current=a)}),[o,a,e,t,n,i,s])}(d,o,k,w,P);const{enableComplementaryArea:T,disableComplementaryArea:x,pinItem:B,unpinItem:M}=(0,m.useDispatch)(te);return(0,u.useEffect)((()=>{E&&void 0===k&&!P?T(d,o):void 0===k&&P&&x(d,o)}),[k,E,d,o,P,T,x]),(0,l.createElement)(l.Fragment,null,i&&(0,l.createElement)(ue,{scope:d},S&&(0,l.createElement)(oe,{scope:d,identifier:o,isPressed:w&&(!v||C),"aria-expanded":w,"aria-disabled":y,label:h,icon:v?D:s,showTooltip:!v,variant:v?"tertiary":void 0})),p&&i&&(0,l.createElement)(ce,{target:p,scope:d,icon:s},h),w&&(0,l.createElement)(me,{className:N()("interface-complementary-area",t),scope:d,id:o.replace("/",":")},(0,l.createElement)(ae,{className:r,closeLabel:n,onClose:()=>x(d),smallScreenTitle:g,toggleButtonProps:{label:n,shortcut:b,scope:d,identifier:o}},a||(0,l.createElement)(l.Fragment,null,(0,l.createElement)("strong",null,h),i&&(0,l.createElement)(_.Button,{className:"interface-complementary-area__pin-unpin-item",icon:S?L:V,label:S?(0,f.__)("Unpin from toolbar"):(0,f.__)("Pin to toolbar"),onClick:()=>(S?M:B)(d,o),isPressed:S,"aria-expanded":S}))),(0,l.createElement)(_.Panel,{className:c},e)))}));pe.Slot=function({scope:e,...t}){return(0,l.createElement)(_.Slot,{name:`ComplementaryArea/${e}`,...t})};var ge=pe,he=({isActive:e})=>((0,u.useEffect)((()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}}),[]),(0,u.useEffect)((()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")})),[e]),null);function be({children:e,className:t,ariaLabel:n,as:o="div",...a}){return(0,l.createElement)(o,{className:N()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...a},e)}const _e={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}};var Ee=(0,u.forwardRef)((function({isDistractionFree:e,footer:t,header:n,editorNotices:o,sidebar:a,secondarySidebar:r,notices:s,content:i,actions:c,labels:d,className:m,enableRegionNavigation:p=!0,shortcuts:g},h){const b=(0,_.__unstableUseNavigateRegions)(g);!function(e){(0,u.useEffect)((()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}}),[e])}("interface-interface-skeleton__html-container");const E={
/* translators: accessibility text for the top bar landmark region. */
header:(0,f.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:(0,f.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:(0,f.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:(0,f.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:(0,f.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:(0,f.__)("Footer"),...d};return(0,l.createElement)("div",{...p?b:{},ref:(0,v.useMergeRefs)([h,p?b.ref:void 0]),className:N()(m,"interface-interface-skeleton",b.className,!!t&&"has-footer")},(0,l.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,l.createElement)(be,{as:_.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":E.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:_e,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,l.createElement)("div",{className:"interface-interface-skeleton__header"},o),(0,l.createElement)("div",{className:"interface-interface-skeleton__body"},!!r&&(0,l.createElement)(be,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:E.secondarySidebar},r),!!s&&(0,l.createElement)("div",{className:"interface-interface-skeleton__notices"},s),(0,l.createElement)(be,{className:"interface-interface-skeleton__content",ariaLabel:E.body},i),!!a&&(0,l.createElement)(be,{className:"interface-interface-skeleton__sidebar",ariaLabel:E.sidebar},a),!!c&&(0,l.createElement)(be,{className:"interface-interface-skeleton__actions",ariaLabel:E.actions},c))),!!t&&(0,l.createElement)(be,{className:"interface-interface-skeleton__footer",ariaLabel:E.footer},t))})),fe=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ve({as:e=_.DropdownMenu,className:t,label:
/* translators: button label text should, if possible, be under 16 characters. */
n=(0,f.__)("Options"),popoverProps:o,toggleProps:a,children:r}){return(0,l.createElement)(e,{className:N()("interface-more-menu-dropdown",t),icon:fe,label:n,popoverProps:{placement:"bottom-end",...o,className:N()("interface-more-menu-dropdown__content",o?.className)},toggleProps:{tooltipPosition:"bottom",...a}},(e=>r(e)))}function ye({closeModal:e,children:t}){return(0,l.createElement)(_.Modal,{className:"interface-preferences-modal",title:(0,f.__)("Preferences"),onRequestClose:e},t)}var we=(0,u.forwardRef)((function({icon:e,size:t=24,...n},o){return(0,u.cloneElement)(e,{width:t,height:t,...n,ref:o})})),Se=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),ke=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));const Pe="preferences-menu";function Ce({sections:e}){const t=(0,v.useViewportMatch)("medium"),[n,o]=(0,u.useState)(Pe),{tabs:a,sectionsContentMap:r}=(0,u.useMemo)((()=>{let t={tabs:[],sectionsContentMap:{}};return e.length&&(t=e.reduce(((e,{name:t,tabLabel:n,content:o})=>(e.tabs.push({name:t,title:n}),e.sectionsContentMap[t]=o,e)),{tabs:[],sectionsContentMap:{}})),t}),[e]),s=(0,u.useCallback)((e=>r[e.name]||null),[r]);let i;return i=t?(0,l.createElement)(_.TabPanel,{className:"interface-preferences__tabs",tabs:a,initialTabName:n!==Pe?n:void 0,onSelect:o,orientation:"vertical"},s):(0,l.createElement)(_.__experimentalNavigatorProvider,{initialPath:"/",className:"interface-preferences__provider"},(0,l.createElement)(_.__experimentalNavigatorScreen,{path:"/"},(0,l.createElement)(_.Card,{isBorderless:!0,size:"small"},(0,l.createElement)(_.CardBody,null,(0,l.createElement)(_.__experimentalItemGroup,null,a.map((e=>(0,l.createElement)(_.__experimentalNavigatorButton,{key:e.name,path:e.name,as:_.__experimentalItem,isAction:!0},(0,l.createElement)(_.__experimentalHStack,{justify:"space-between"},(0,l.createElement)(_.FlexItem,null,(0,l.createElement)(_.__experimentalTruncate,null,e.title)),(0,l.createElement)(_.FlexItem,null,(0,l.createElement)(we,{icon:(0,f.isRTL)()?Se:ke})))))))))),e.length&&e.map((e=>(0,l.createElement)(_.__experimentalNavigatorScreen,{key:`${e.name}-menu`,path:e.name},(0,l.createElement)(_.Card,{isBorderless:!0,size:"large"},(0,l.createElement)(_.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6"},(0,l.createElement)(_.__experimentalNavigatorBackButton,{icon:(0,f.isRTL)()?ke:Se,"aria-label":(0,f.__)("Navigate to the previous view")}),(0,l.createElement)(_.__experimentalText,{size:"16"},e.tabLabel)),(0,l.createElement)(_.CardBody,null,e.content)))))),i}var Te=({description:e,title:t,children:n})=>(0,l.createElement)("fieldset",{className:"interface-preferences-modal__section"},(0,l.createElement)("legend",{className:"interface-preferences-modal__section-legend"},(0,l.createElement)("h2",{className:"interface-preferences-modal__section-title"},t),e&&(0,l.createElement)("p",{className:"interface-preferences-modal__section-description"},e)),n),xe=function({help:e,label:t,isChecked:n,onChange:o,children:a}){return(0,l.createElement)("div",{className:"interface-preferences-modal__option"},(0,l.createElement)(_.ToggleControl,{__nextHasNoMarginBottom:!0,help:e,label:t,checked:n,onChange:o}),a)},Be=window.wp.keyboardShortcuts;const Me=[{keyCombination:{modifier:"primary",character:"b"},description:(0,f.__)("Make the selected text bold.")},{keyCombination:{modifier:"primary",character:"i"},description:(0,f.__)("Make the selected text italic.")},{keyCombination:{modifier:"primary",character:"k"},description:(0,f.__)("Convert the selected text into a link.")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,f.__)("Remove a link.")},{keyCombination:{character:"[["},description:(0,f.__)("Insert a link to a post or page.")},{keyCombination:{modifier:"primary",character:"u"},description:(0,f.__)("Underline the selected text.")},{keyCombination:{modifier:"access",character:"d"},description:(0,f.__)("Strikethrough the selected text.")},{keyCombination:{modifier:"access",character:"x"},description:(0,f.__)("Make the selected text inline code.")},{keyCombination:{modifier:"access",character:"0"},description:(0,f.__)("Convert the current heading to a paragraph.")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,f.__)("Convert the current paragraph or heading to a heading of level 1 to 6.")}];function Ie({keyCombination:e,forceAriaLabel:t}){const n=e.modifier?I.displayShortcutList[e.modifier](e.character):e.character,o=e.modifier?I.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,l.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||o},(Array.isArray(n)?n:[n]).map(((e,t)=>"+"===e?(0,l.createElement)(u.Fragment,{key:t},e):(0,l.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help-modal__shortcut-key"},e))))}var Ae=function({description:e,keyCombination:t,aliases:n=[],ariaLabel:o}){return(0,l.createElement)(u.Fragment,null,(0,l.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-description"},e),(0,l.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-term"},(0,l.createElement)(Ie,{keyCombination:t,forceAriaLabel:o}),n.map(((e,t)=>(0,l.createElement)(Ie,{keyCombination:e,forceAriaLabel:o,key:t})))))},Ne=function({name:e}){const{keyCombination:t,description:n,aliases:o}=(0,m.useSelect)((t=>{const{getShortcutKeyCombination:n,getShortcutDescription:o,getShortcutAliases:a}=t(Be.store);return{keyCombination:n(e),aliases:a(e),description:o(e)}}),[e]);return t?(0,l.createElement)(Ae,{keyCombination:t,description:n,aliases:o}):null};const De="edit-post/keyboard-shortcut-help",Le=({shortcuts:e})=>(0,l.createElement)("ul",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map(((e,t)=>(0,l.createElement)("li",{className:"edit-post-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,l.createElement)(Ne,{name:e}):(0,l.createElement)(Ae,{...e}))))),Ve=({title:e,shortcuts:t,className:n})=>(0,l.createElement)("section",{className:N()("edit-post-keyboard-shortcut-help-modal__section",n)},!!e&&(0,l.createElement)("h2",{className:"edit-post-keyboard-shortcut-help-modal__section-title"},e),(0,l.createElement)(Le,{shortcuts:t})),Fe=({title:e,categoryName:t,additionalShortcuts:n=[]})=>{const o=(0,m.useSelect)((e=>e(Be.store).getCategoryShortcuts(t)),[t]);return(0,l.createElement)(Ve,{title:e,shortcuts:o.concat(n)})};var Oe=(0,v.compose)([(0,m.withSelect)((e=>({isModalActive:e(te).isModalActive(De)}))),(0,m.withDispatch)(((e,{isModalActive:t})=>{const{openModal:n,closeModal:o}=e(te);return{toggleModal:()=>t?o():n(De)}}))])((function({isModalActive:e,toggleModal:t}){return(0,Be.useShortcut)("core/edit-post/keyboard-shortcuts",t),e?(0,l.createElement)(_.Modal,{className:"edit-post-keyboard-shortcut-help-modal",title:(0,f.__)("Keyboard shortcuts"),closeButtonLabel:(0,f.__)("Close"),onRequestClose:t},(0,l.createElement)(Ve,{className:"edit-post-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-post/keyboard-shortcuts"]}),(0,l.createElement)(Fe,{title:(0,f.__)("Global shortcuts"),categoryName:"global"}),(0,l.createElement)(Fe,{title:(0,f.__)("Selection shortcuts"),categoryName:"selection"}),(0,l.createElement)(Fe,{title:(0,f.__)("Block shortcuts"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,f.__)("Change the block type after adding a new paragraph."),
/* translators: The forward-slash character. e.g. '/'. */
ariaLabel:(0,f.__)("Forward-slash")}]}),(0,l.createElement)(Ve,{title:(0,f.__)("Text formatting"),shortcuts:Me})):null})),Re=(0,m.withDispatch)((e=>{const{openModal:t}=e(te);return{openModal:t}}))((function({openModal:e}){return(0,l.createElement)(_.MenuItem,{onClick:()=>{e(De)},shortcut:I.displayShortcut.access("h")},(0,f.__)("Keyboard shortcuts"))}));const{Fill:He,Slot:Ge}=(0,_.createSlotFill)("ToolsMoreMenuGroup");He.Slot=({fillProps:e})=>(0,l.createElement)(Ge,{fillProps:e},(e=>e.length>0&&(0,l.createElement)(_.MenuGroup,{label:(0,f.__)("Tools")},e)));var ze=He;function Ue(e=[],t){const n=[...e];for(const e of t){const t=n.findIndex((t=>t.id===e.id));-1!==t?n[t]=e:n.push(e)}return n}const $e=(0,m.combineReducers)({isSaving:function(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(e={},t){if("SET_META_BOXES_PER_LOCATIONS"===t.type){const n={...e};for(const[e,o]of Object.entries(t.metaBoxesPerLocation))n[e]=Ue(n[e],o);return n}return e},initialized:function(e=!1,t){return"META_BOXES_INITIALIZED"===t.type||e}});var We=(0,m.combineReducers)({metaBoxes:$e,publishSidebarActive:function(e=!1,t){switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e},removedPanels:function(e=[],t){return"REMOVE_PANEL"!==t.type||e.includes(t.panelName)?e:[...e,t.panelName]},deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},isEditingTemplate:function(e=!1,t){return"SET_IS_EDITING_TEMPLATE"===t.type?t.value:e}}),qe=window.wp.apiFetch,Ze=n.n(qe),je=window.wp.a11y;const Ke=e=>({dispatch:t,registry:n})=>{n.select(g.store).get("core/edit-post","distractionFree")&&t.toggleDistractionFree(),n.dispatch(te).enableComplementaryArea(ln.name,e)},Ye=()=>({registry:e})=>e.dispatch(te).disableComplementaryArea(ln.name),Qe=e=>({registry:t})=>(d()("select( 'core/edit-post' ).openModal( name )",{since:"6.3",alternative:"select( 'core/interface').openModal( name )"}),t.dispatch(te).openModal(e)),Xe=()=>({registry:e})=>(d()("select( 'core/edit-post' ).closeModal()",{since:"6.3",alternative:"select( 'core/interface').closeModal()"}),e.dispatch(te).closeModal());function Je(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function et(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function tt(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}const nt=e=>({registry:t})=>{var n;const o=null!==(n=t.select(g.store).get("core/edit-post","inactivePanels"))&&void 0!==n?n:[];let a;a=o?.includes(e)?o.filter((t=>t!==e)):[...o,e],t.dispatch(g.store).set("core/edit-post","inactivePanels",a)},ot=e=>({registry:t})=>{var n;const o=null!==(n=t.select(g.store).get("core/edit-post","openPanels"))&&void 0!==n?n:[];let a;a=o?.includes(e)?o.filter((t=>t!==e)):[...o,e],t.dispatch(g.store).set("core/edit-post","openPanels",a)};function at(e){return{type:"REMOVE_PANEL",panelName:e}}const rt=e=>({registry:t})=>t.dispatch(g.store).toggle("core/edit-post",e),lt=e=>({dispatch:t,registry:n})=>{n.dispatch(g.store).set("core/edit-post","editorMode",e),"visual"!==e&&n.dispatch(E.store).clearSelectedBlock(),"text"===e&&n.select(g.store).get("core/edit-post","distractionFree")&&t.toggleDistractionFree();const o="visual"===e?(0,f.__)("Visual editor selected"):(0,f.__)("Code editor selected");(0,je.speak)(o,"assertive")},st=e=>({registry:t})=>{const n=t.select(te).isItemPinned("core/edit-post",e);t.dispatch(te)[n?"unpinItem":"pinItem"]("core/edit-post",e)},it=(e,t)=>({registry:n})=>{var o;if(!e)return;const a=null!==(o=n.select(g.store).get("core/edit-post","preferredStyleVariations"))&&void 0!==o?o:{};if(t)n.dispatch(g.store).set("core/edit-post","preferredStyleVariations",{...a,[e]:t});else{const t={...a};delete t[e],n.dispatch(g.store).set("core/edit-post","preferredStyleVariations",t)}},ct=e=>({registry:t})=>{var n;const o=(null!==(n=t.select(g.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[]).filter((t=>!(Array.isArray(e)?e:[e]).includes(t)));t.dispatch(g.store).set("core/edit-post","hiddenBlockTypes",o)},dt=e=>({registry:t})=>{var n;const o=null!==(n=t.select(g.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==n?n:[],a=new Set([...o,...Array.isArray(e)?e:[e]]);t.dispatch(g.store).set("core/edit-post","hiddenBlockTypes",[...a])};function ut(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const mt=()=>async({registry:e,select:t,dispatch:n})=>{n({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();const o=e.select(k.store).getCurrentPost(),a=[!!o.comment_status&&["comment_status",o.comment_status],!!o.ping_status&&["ping_status",o.ping_status],!!o.sticky&&["sticky",o.sticky],!!o.author&&["post_author",o.author]].filter(Boolean),r=[new window.FormData(document.querySelector(".metabox-base-form")),...t.getActiveMetaBoxLocations().map((e=>new window.FormData((e=>document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-${e}`)||document.querySelector("#metaboxes .metabox-location-"+e))(e))))].reduce(((e,t)=>{for(const[n,o]of t)e.append(n,o);return e}),new window.FormData);a.forEach((([e,t])=>r.append(e,t)));try{await Ze()({url:window._wpMetaBoxUrl,method:"POST",body:r,parse:!1}),n.metaBoxUpdatesSuccess()}catch{n.metaBoxUpdatesFailure()}};function pt(){return{type:"META_BOX_UPDATES_SUCCESS"}}function gt(){return{type:"META_BOX_UPDATES_FAILURE"}}function ht(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function bt(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}const _t=e=>({dispatch:t,registry:n})=>{n.select(g.store).get("core/edit-post","distractionFree")&&e&&t.toggleDistractionFree(),t({type:"SET_IS_LIST_VIEW_OPENED",isOpen:e})};function Et(e){return{type:"SET_IS_EDITING_TEMPLATE",value:e}}const ft=(e=!1)=>({registry:t,select:n,dispatch:o})=>{if(o(Et(!0)),!n.isFeatureActive("welcomeGuideTemplate")){const n=e?(0,f.__)("Custom template created. You're in template mode now."):(0,f.__)("Editing template. Changes made here affect all posts and pages that use the template.");t.dispatch(B.store).createSuccessNotice(n,{type:"snackbar"})}},vt=e=>async({registry:t})=>{const n=await t.dispatch(S.store).saveEntityRecord("postType","wp_template",e),o=t.select(k.store).getCurrentPost();t.dispatch(S.store).editEntityRecord("postType",o.type,o.id,{template:n.slug})};let yt=!1;const wt=()=>({registry:e,select:t,dispatch:n})=>{if(!e.select(k.store).__unstableIsEditorReady())return;if(yt)return;const o=e.select(k.store).getCurrentPostType();window.postboxes.page!==o&&window.postboxes.add_postbox_toggles(o),yt=!0,(0,p.addFilter)("editor.__unstableSavePost","core/edit-post/save-metaboxes",((e,o)=>e.then((()=>{if(!o.isAutosave&&t.hasMetaBoxes())return n.requestMetaBoxUpdates()})))),n({type:"META_BOXES_INITIALIZED"})},St=()=>({dispatch:e,registry:t})=>{const n=t.select(g.store).get("core/edit-post","distractionFree");n||t.batch((()=>{t.dispatch(g.store).set("core/edit-post","fixedToolbar",!0),e.setIsInserterOpened(!1),e.setIsListViewOpened(!1),e.closeGeneralSidebar()})),t.batch((()=>{t.dispatch(g.store).set("core/edit-post","distractionFree",!n),t.dispatch(B.store).createInfoNotice(n?(0,f.__)("Distraction free off."):(0,f.__)("Distraction free on."),{id:"core/edit-post/distraction-free-mode/notice",type:"snackbar"})}))};var kt={};function Pt(e){return[e]}function Ct(e,t,n){var o;if(e.length!==t.length)return!1;for(o=n;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}function Tt(e,t){var n,o=t||Pt;function a(){n=new WeakMap}function r(){var t,a,r,l,s,i=arguments.length;for(l=new Array(i),r=0;r<i;r++)l[r]=arguments[r];for(t=function(e){var t,o,a,r,l,s=n,i=!0;for(t=0;t<e.length;t++){if(!(l=o=e[t])||"object"!=typeof l){i=!1;break}s.has(o)?s=s.get(o):(a=new WeakMap,s.set(o,a),s=a)}return s.has(kt)||((r=function(){var e={clear:function(){e.head=null}};return e}()).isUniqueByDependants=i,s.set(kt,r)),s.get(kt)}(s=o.apply(null,l)),t.isUniqueByDependants||(t.lastDependants&&!Ct(s,t.lastDependants,0)&&t.clear(),t.lastDependants=s),a=t.head;a;){if(Ct(a.args,l,1))return a!==t.head&&(a.prev.next=a.next,a.next&&(a.next.prev=a.prev),a.next=t.head,a.prev=null,t.head.prev=a,t.head=a),a.val;a=a.next}return a={val:e.apply(null,l)},l[0]=null,a.args=l,t.head&&(t.head.prev=a,a.next=t.head),t.head=a,a.val}return r.getDependants=o,r.clear=a,a(),r}const xt=[],Bt={},Mt={rootClientId:void 0,insertionIndex:void 0,filterValue:void 0},It=(0,m.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(g.store).get("core/edit-post","editorMode"))&&void 0!==t?t:"visual"})),At=(0,m.createRegistrySelector)((e=>()=>{const t=e(te).getActiveComplementaryArea("core/edit-post");return["edit-post/document","edit-post/block"].includes(t)})),Nt=(0,m.createRegistrySelector)((e=>()=>{const t=e(te).getActiveComplementaryArea("core/edit-post");return!!t&&!["edit-post/document","edit-post/block"].includes(t)})),Dt=(0,m.createRegistrySelector)((e=>()=>e(te).getActiveComplementaryArea("core/edit-post"))),Lt=(0,m.createRegistrySelector)((e=>()=>{d()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});return{...["hiddenBlockTypes","editorMode","preferredStyleVariations"].reduce(((t,n)=>({...t,[n]:e(g.store).get("core/edit-post",n)})),{}),panels:function(e,t){var n;const o=e?.reduce(((e,t)=>({...e,[t]:{enabled:!1}})),{}),a=t?.reduce(((e,t)=>{const n=e?.[t];return{...e,[t]:{...n,opened:!0}}}),null!=o?o:{});return null!==(n=null!=a?a:o)&&void 0!==n?n:Bt}(e(g.store).get("core/edit-post","inactivePanels"),e(g.store).get("core/edit-post","openPanels"))}}));function Vt(e,t,n){d()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});const o=Lt(e)[t];return void 0===o?n:o}const Ft=(0,m.createRegistrySelector)((e=>()=>{var t;return null!==(t=e(g.store).get("core/edit-post","hiddenBlockTypes"))&&void 0!==t?t:xt}));function Ot(e){return e.publishSidebarActive}function Rt(e,t){return e.removedPanels.includes(t)}const Ht=(0,m.createRegistrySelector)((e=>(t,n)=>{const o=e(g.store).get("core/edit-post","inactivePanels");return!Rt(t,n)&&!o?.includes(n)})),Gt=(0,m.createRegistrySelector)((e=>(t,n)=>{const o=e(g.store).get("core/edit-post","openPanels");return!!o?.includes(n)})),zt=(0,m.createRegistrySelector)((e=>(t,n)=>(d()("select( 'core/edit-post' ).isModalActive",{since:"6.3",alternative:"select( 'core/interface' ).isModalActive"}),!!e(te).isModalActive(n)))),Ut=(0,m.createRegistrySelector)((e=>(t,n)=>!!e(g.store).get("core/edit-post",n))),$t=(0,m.createRegistrySelector)((e=>(t,n)=>e(te).isItemPinned("core/edit-post",n))),Wt=Tt((e=>Object.keys(e.metaBoxes.locations).filter((t=>Zt(e,t)))),(e=>[e.metaBoxes.locations]));function qt(e,t){return Zt(e,t)&&jt(e,t)?.some((({id:t})=>Ht(e,`meta-box-${t}`)))}function Zt(e,t){const n=jt(e,t);return!!n&&0!==n.length}function jt(e,t){return e.metaBoxes.locations[t]}const Kt=Tt((e=>Object.values(e.metaBoxes.locations).flat()),(e=>[e.metaBoxes.locations]));function Yt(e){return Wt(e).length>0}function Qt(e){return e.metaBoxes.isSaving}function Xt(e){return e.deviceType}function Jt(e){return!!e.blockInserterPanel}function en(e){return"boolean"==typeof e.blockInserterPanel?Mt:e.blockInserterPanel}function tn(e){return e.listViewPanel}function nn(e){return e.isEditingTemplate}function on(e){return e.metaBoxes.initialized}const an=(0,m.createRegistrySelector)((e=>()=>{const t=e(k.store).getEditedPostAttribute("template");if(t){const n=e(S.store).getEntityRecords("postType","wp_template",{per_page:-1})?.find((e=>e.slug===t));return n?e(S.store).getEditedEntityRecord("postType","wp_template",n.id):n}const n=e(k.store).getCurrentPost();return n.link?e(S.store).__experimentalGetTemplateForLink(n.link):null})),rn="core/edit-post",ln=(0,m.createReduxStore)(rn,{reducer:We,actions:a,selectors:r});function sn(){const e=(0,m.useSelect)((e=>e(ln).isEditingTemplate()),[]);return(0,l.createElement)(g.PreferenceToggleMenuItem,{scope:"core/edit-post",name:e?"welcomeGuideTemplate":"welcomeGuide",label:(0,f.__)("Welcome Guide")})}function cn(){const e=(0,m.useSelect)((e=>{const{canUser:t}=e(S.store),{getEditorSettings:n}=e(k.store),o=n().__unstableIsBlockBasedTheme,a=(0,x.addQueryArgs)("edit.php",{post_type:"wp_block"}),r=(0,x.addQueryArgs)("site-editor.php",{path:"/patterns"});return t("read","templates")&&o?r:a}),[]);return(0,l.createElement)(_.MenuItem,{role:"menuitem",href:e},(0,f.__)("Manage patterns"))}(0,m.register)(ln),(0,T.registerPlugin)("edit-post",{render(){return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ze,null,(({onClose:e})=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(cn,null),(0,l.createElement)(Re,{onSelect:e}),(0,l.createElement)(sn,null),(0,l.createElement)(M,null),(0,l.createElement)(_.MenuItem,{role:"menuitem",icon:C,href:(0,f.__)("https://wordpress.org/documentation/article/wordpress-block-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,f.__)("Help"),(0,l.createElement)(_.VisuallyHidden,{as:"span"},/* translators: accessibility text */
(0,f.__)("(opens in a new tab)")))))))}});var dn=window.wp.commands,un=window.wp.coreCommands;function mn(){const e=(0,m.useSelect)((e=>e(k.store).getEditorSettings().richEditingEnabled),[]),{switchEditorMode:t}=(0,m.useDispatch)(ln),{isWelcomeGuideVisible:n}=(0,m.useSelect)((e=>{const{isFeatureActive:t}=e(ln);return{isWelcomeGuideVisible:t("welcomeGuide")}}),[]),o=(0,u.useRef)();return(0,u.useEffect)((()=>{n||o?.current?.focus()}),[n]),(0,l.createElement)("div",{className:"edit-post-text-editor"},e&&(0,l.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,l.createElement)("h2",null,(0,f.__)("Editing code")),(0,l.createElement)(_.Button,{variant:"tertiary",onClick:()=>t("visual"),shortcut:I.displayShortcut.secondary("m")},(0,f.__)("Exit code editor"))),(0,l.createElement)("div",{className:"edit-post-text-editor__body"},(0,l.createElement)(k.PostTitleRaw,{ref:o}),(0,l.createElement)(k.PostTextEditor,null)))}var pn=window.wp.privateApis;const{lock:gn,unlock:hn}=(0,pn.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my theme or plugin will inevitably break in the next version of WordPress.","@wordpress/edit-post"),{LayoutStyle:bn,useLayoutClasses:En,useLayoutStyles:fn,ExperimentalBlockCanvas:vn}=hn(E.privateApis);function yn(e){for(let t=0;t<e.length;t++){if("core/post-content"===e[t].name)return e[t].attributes;if(e[t].innerBlocks.length){const n=yn(e[t].innerBlocks);if(n)return n}}}function wn(e){for(let t=0;t<e.length;t++)if("core/post-content"===e[t].name)return!0;return!1}function Sn({styles:e}){const{deviceType:t,isWelcomeGuideVisible:n,isTemplateMode:o,postContentAttributes:a,editedPostTemplate:r={},wrapperBlockName:i,wrapperUniqueId:c,isBlockBasedTheme:d,hasV3BlocksOnly:p}=(0,m.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n,getEditedPostTemplate:o,__experimentalGetPreviewDeviceType:a}=e(ln),{getCurrentPostId:r,getCurrentPostType:l,getEditorSettings:i}=e(k.store),{getBlockTypes:c}=e(s.store),d=n(),u=l();let m;"wp_block"===u?m="core/block":d||(m="core/post-content");const p=i(),g=p.supportsTemplateMode,h=e(S.store).getPostType(u),b=e(S.store).canUser("create","templates");return{deviceType:a(),isWelcomeGuideVisible:t("welcomeGuide"),isTemplateMode:d,postContentAttributes:i().postContentAttributes,editedPostTemplate:h?.viewable&&g&&b?o():void 0,wrapperBlockName:m,wrapperUniqueId:r(),isBlockBasedTheme:p.__unstableIsBlockBasedTheme,hasV3BlocksOnly:c().every((e=>e.apiVersion>=3))}}),[]),{isCleanNewPost:g}=(0,m.useSelect)(k.store),h=(0,m.useSelect)((e=>e(ln).hasMetaBoxes()),[]),{hasRootPaddingAwareAlignments:b,isFocusMode:f,themeHasDisabledLayoutStyles:y,themeSupportsLayout:w}=(0,m.useSelect)((e=>{const t=e(E.store).getSettings();return{themeHasDisabledLayoutStyles:t.disableLayoutStyles,themeSupportsLayout:t.supportsLayout,isFocusMode:t.focusMode,hasRootPaddingAwareAlignments:t.__experimentalFeatures?.useRootPaddingAwareAlignments}}),[]),P={height:"100%",width:"100%",marginLeft:"auto",marginRight:"auto",display:"flex",flexFlow:"column",background:"white"},C={...P,borderRadius:"2px 2px 0 0",border:"1px solid #ddd",borderBottom:0},T=(0,E.__experimentalUseResizeCanvas)(t,o),[x]=(0,E.useSettings)("layout"),B="is-"+t.toLowerCase()+"-preview";let M,I=o?C:P;T&&(I=T),h||T||o||(M="40vh");const A=(0,u.useRef)(),D=(0,v.useMergeRefs)([A,(0,E.__unstableUseTypewriter)()]),L=(0,u.useMemo)((()=>o?{type:"default"}:w?{...x,type:"constrained"}:{type:"default"}),[o,w,x]),V=(0,u.useMemo)((()=>{if(!r?.content&&!r?.blocks)return a;if(r?.blocks)return yn(r?.blocks);const e="string"==typeof r?.content?r?.content:"";return yn((0,s.parse)(e))||{}}),[r?.content,r?.blocks,a]),F=(0,u.useMemo)((()=>{if(!r?.content&&!r?.blocks)return!1;if(r?.blocks)return wn(r?.blocks);const e="string"==typeof r?.content?r?.content:"";return wn((0,s.parse)(e))||!1}),[r?.content,r?.blocks]),{layout:O={},align:R=""}=V||{},H=En(V,"core/post-content"),G=N()({"is-layout-flow":!w},w&&H,R&&`align${R}`),z=fn(V,"core/post-content",".block-editor-block-list__layout.is-root-container"),U=(0,u.useMemo)((()=>O&&("constrained"===O?.type||O?.inherit||O?.contentSize||O?.wideSize)?{...x,...O,type:"constrained"}:{...x,...O,type:"default"}),[O?.type,O?.inherit,O?.contentSize,O?.wideSize,x]),$=a?U:L,W="default"!==$?.type||F?$:L,q=(0,E.__unstableUseTypingObserver)(),Z=(0,u.useRef)();(0,u.useEffect)((()=>{!n&&g()&&Z?.current?.focus()}),[n,g]),e=(0,u.useMemo)((()=>[...e,{css:".edit-post-visual-editor__post-title-wrapper{margin-top:4rem}"+(M?`body{padding-bottom:${M}}`:"")}]),[e]);const j=(p||d)&&!h||o||"Tablet"===t||"Mobile"===t;return(0,l.createElement)(E.BlockTools,{__unstableContentRef:A,className:N()("edit-post-visual-editor",{"is-template-mode":o,"has-inline-canvas":!j})},(0,l.createElement)(_.__unstableMotion.div,{className:"edit-post-visual-editor__content-area",animate:{padding:o?"48px 48px 0":0}},(0,l.createElement)(_.__unstableMotion.div,{animate:I,initial:P,className:B},(0,l.createElement)(vn,{shouldIframe:j,contentRef:D,styles:e,height:"100%"},w&&!y&&!o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(bn,{selector:".edit-post-visual-editor__post-title-wrapper",layout:L}),(0,l.createElement)(bn,{selector:".block-editor-block-list__layout.is-root-container",layout:W}),R&&(0,l.createElement)(bn,{css:".is-root-container.alignwide { max-width: var(--wp--style--global--wide-size); margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--wp--style--global--wide-size);}\n\t\t.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}\n\t\t.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}"}),z&&(0,l.createElement)(bn,{layout:U,css:z})),!o&&(0,l.createElement)("div",{className:N()("edit-post-visual-editor__post-title-wrapper",{"is-focus-mode":f,"has-global-padding":b}),contentEditable:!1,ref:q},(0,l.createElement)(k.PostTitle,{ref:Z})),(0,l.createElement)(E.__experimentalRecursionProvider,{blockName:i,uniqueId:c},(0,l.createElement)(E.BlockList,{className:o?"wp-site-blocks":`${G} wp-block-post-content`,layout:$,dropZoneElement:j?A.current?.parentNode:A.current}))))))}var kn=function(){const{getEditorMode:e,isEditorSidebarOpened:t,isListViewOpened:n}=(0,m.useSelect)(ln),o=(0,m.useSelect)((e=>{const{richEditingEnabled:t,codeEditingEnabled:n}=e(k.store).getEditorSettings();return!t||!n}),[]),{switchEditorMode:a,openGeneralSidebar:r,closeGeneralSidebar:l,toggleFeature:i,setIsListViewOpened:c,toggleDistractionFree:d}=(0,m.useDispatch)(ln),{registerShortcut:p}=(0,m.useDispatch)(Be.store),{replaceBlocks:g}=(0,m.useDispatch)(E.store),{getBlockName:h,getSelectedBlockClientId:b,getBlockAttributes:_,getBlockSelectionStart:v}=(0,m.useSelect)(E.store),y=(e,t)=>{e.preventDefault();const n=0===t?"core/paragraph":"core/heading",o=b();if(null===o)return;const a=h(o);if("core/paragraph"!==a&&"core/heading"!==a)return;const r=_(o),l="core/paragraph"===a?"align":"textAlign",i="core/paragraph"===n?"align":"textAlign";g(o,(0,s.createBlock)(n,{level:t,content:r.content,[i]:r[l]}))};return(0,u.useEffect)((()=>{p({name:"core/edit-post/toggle-mode",category:"global",description:(0,f.__)("Switch between visual editor and code editor."),keyCombination:{modifier:"secondary",character:"m"}}),p({name:"core/edit-post/toggle-distraction-free",category:"global",description:(0,f.__)("Toggle distraction free mode."),keyCombination:{modifier:"primaryShift",character:"\\"}}),p({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,f.__)("Toggle fullscreen mode."),keyCombination:{modifier:"secondary",character:"f"}}),p({name:"core/edit-post/toggle-list-view",category:"global",description:(0,f.__)("Open the block list view."),keyCombination:{modifier:"access",character:"o"}}),p({name:"core/edit-post/toggle-sidebar",category:"global",description:(0,f.__)("Show or hide the Settings sidebar."),keyCombination:{modifier:"primaryShift",character:","}}),p({name:"core/edit-post/next-region",category:"global",description:(0,f.__)("Navigate to the next part of the editor."),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),p({name:"core/edit-post/previous-region",category:"global",description:(0,f.__)("Navigate to the previous part of the editor."),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),p({name:"core/edit-post/keyboard-shortcuts",category:"main",description:(0,f.__)("Display these keyboard shortcuts."),keyCombination:{modifier:"access",character:"h"}}),p({name:"core/edit-post/transform-heading-to-paragraph",category:"block-library",description:(0,f.__)("Transform heading to paragraph."),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach((e=>{p({name:`core/edit-post/transform-paragraph-to-heading-${e}`,category:"block-library",description:(0,f.__)("Transform paragraph to heading."),keyCombination:{modifier:"access",character:`${e}`}})}))}),[]),(0,Be.useShortcut)("core/edit-post/toggle-mode",(()=>{a("visual"===e()?"text":"visual")}),{isDisabled:o}),(0,Be.useShortcut)("core/edit-post/toggle-fullscreen",(()=>{i("fullscreenMode")})),(0,Be.useShortcut)("core/edit-post/toggle-distraction-free",(()=>{d()})),(0,Be.useShortcut)("core/edit-post/toggle-sidebar",(e=>{if(e.preventDefault(),t())l();else{const e=v()?"edit-post/block":"edit-post/document";r(e)}})),(0,Be.useShortcut)("core/edit-post/toggle-list-view",(e=>{n()||(e.preventDefault(),c(!0))})),(0,Be.useShortcut)("core/edit-post/transform-heading-to-paragraph",(e=>y(e,0))),[1,2,3,4,5,6].forEach((e=>{(0,Be.useShortcut)(`core/edit-post/transform-paragraph-to-heading-${e}`,(t=>y(t,e)))})),null};function Pn({willEnable:e}){const[t,n]=(0,u.useState)(!1);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,f.__)("A page reload is required for this change. Make sure your content is saved before reloading.")),(0,l.createElement)(_.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:t,disabled:t,onClick:()=>{n(!0),function(){const e=document.getElementById("toggle-custom-fields-form");e.querySelector('[name="_wp_http_referer"]').setAttribute("value",(0,x.getPathAndQueryString)(window.location.href)),e.submit()}()}},e?(0,f.__)("Show & Reload Page"):(0,f.__)("Hide & Reload Page")))}var Cn=(0,m.withSelect)((e=>({areCustomFieldsEnabled:!!e(k.store).getEditorSettings().enableCustomFields})))((function({label:e,areCustomFieldsEnabled:t}){const[n,o]=(0,u.useState)(t);return(0,l.createElement)(xe,{label:e,isChecked:n,onChange:o},n!==t&&(0,l.createElement)(Pn,{willEnable:n}))})),Tn=(0,v.compose)((0,m.withSelect)(((e,{panelName:t})=>{const{isEditorPanelEnabled:n,isEditorPanelRemoved:o}=e(ln);return{isRemoved:o(t),isChecked:n(t)}})),(0,v.ifCondition)((({isRemoved:e})=>!e)),(0,m.withDispatch)(((e,{panelName:t})=>({onChange:()=>e(ln).toggleEditorPanelEnabled(t)}))))(xe);const{Fill:xn,Slot:Bn}=(0,_.createSlotFill)("EnablePluginDocumentSettingPanelOption"),Mn=({label:e,panelName:t})=>(0,l.createElement)(xn,null,(0,l.createElement)(Tn,{label:e,panelName:t}));Mn.Slot=Bn;var In=Mn,An=(0,v.compose)((0,m.withSelect)((e=>({isChecked:e(k.store).isPublishSidebarEnabled()}))),(0,m.withDispatch)((e=>{const{enablePublishSidebar:t,disablePublishSidebar:n}=e(k.store);return{onChange:e=>e?t():n()}})),(0,F.ifViewportMatches)("medium"))(xe),Nn=(0,v.compose)((0,m.withSelect)(((e,{featureName:t})=>{const{isFeatureActive:n}=e(ln);return{isChecked:n(t)}})),(0,m.withDispatch)(((e,{featureName:t,onToggle:n=(()=>{})})=>({onChange:()=>{n(),e(ln).toggleFeature(t)}}))))(xe),Dn=(0,m.withSelect)((e=>{const{getEditorSettings:t}=e(k.store),{getAllMetaBoxes:n}=e(ln);return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:n()}}))((function({areCustomFieldsRegistered:e,metaBoxes:t,...n}){const o=t.filter((({id:e})=>"postcustom"!==e));return e||0!==o.length?(0,l.createElement)(Te,{...n},e&&(0,l.createElement)(Cn,{label:(0,f.__)("Custom fields")}),o.map((({id:e,title:t})=>(0,l.createElement)(Tn,{key:e,label:t,panelName:`meta-box-${e}`})))):null})),Ln=function({blockTypes:e,value:t,onItemChange:n}){return(0,l.createElement)("ul",{className:"edit-post-block-manager__checklist"},e.map((e=>(0,l.createElement)("li",{key:e.name,className:"edit-post-block-manager__checklist-item"},(0,l.createElement)(_.CheckboxControl,{__nextHasNoMarginBottom:!0,label:e.title,checked:t.includes(e.name),onChange:(...t)=>n(e.name,...t)}),(0,l.createElement)(E.BlockIcon,{icon:e.icon})))))},Vn=function e({title:t,blockTypes:n}){const o=(0,v.useInstanceId)(e),{defaultAllowedBlockTypes:a,hiddenBlockTypes:r}=(0,m.useSelect)((e=>{const{getEditorSettings:t}=e(k.store),{getHiddenBlockTypes:n}=e(ln);return{defaultAllowedBlockTypes:t().defaultAllowedBlockTypes,hiddenBlockTypes:n()}}),[]),s=(0,u.useMemo)((()=>!0===a?n:n.filter((({name:e})=>a?.includes(e)))),[a,n]),{showBlockTypes:i,hideBlockTypes:c}=(0,m.useDispatch)(ln),d=(0,u.useCallback)(((e,t)=>{t?i(e):c(e)}),[]),p=(0,u.useCallback)((e=>{const t=n.map((({name:e})=>e));e?i(t):c(t)}),[n]);if(!s.length)return null;const g=s.map((({name:e})=>e)).filter((e=>!r.includes(e))),h="edit-post-block-manager__category-title-"+o,b=g.length===s.length,E=!b&&g.length>0;return(0,l.createElement)("div",{role:"group","aria-labelledby":h,className:"edit-post-block-manager__category"},(0,l.createElement)(_.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:b,onChange:p,className:"edit-post-block-manager__category-title",indeterminate:E,label:(0,l.createElement)("span",{id:h},t)}),(0,l.createElement)(Ln,{blockTypes:s,value:g,onItemChange:d}))},Fn=(0,v.compose)([(0,m.withSelect)((e=>{const{getBlockTypes:t,getCategories:n,hasBlockSupport:o,isMatchingSearchTerm:a}=e(s.store),{getHiddenBlockTypes:r}=e(ln),l=t(),i=r().filter((e=>l.some((t=>t.name===e)))),c=Array.isArray(i)&&i.length;return{blockTypes:l,categories:n(),hasBlockSupport:o,isMatchingSearchTerm:a,numberOfHiddenBlocks:c}})),(0,m.withDispatch)((e=>{const{showBlockTypes:t}=e(ln);return{enableAllBlockTypes:e=>{const n=e.map((({name:e})=>e));t(n)}}}))])((function({blockTypes:e,categories:t,hasBlockSupport:n,isMatchingSearchTerm:o,numberOfHiddenBlocks:a,enableAllBlockTypes:r}){const s=(0,v.useDebounce)(je.speak,500),[i,c]=(0,u.useState)("");return e=e.filter((e=>n(e,"inserter",!0)&&(!i||o(e,i))&&(!e.parent||e.parent.includes("core/post-content")))),(0,u.useEffect)((()=>{if(!i)return;const t=e.length,n=(0,f.sprintf)(/* translators: %d: number of results. */
(0,f._n)("%d result found.","%d results found.",t),t);s(n)}),[e.length,i,s]),(0,l.createElement)("div",{className:"edit-post-block-manager__content"},!!a&&(0,l.createElement)("div",{className:"edit-post-block-manager__disabled-blocks-count"},(0,f.sprintf)(/* translators: %d: number of blocks. */
(0,f._n)("%d block is hidden.","%d blocks are hidden.",a),a),(0,l.createElement)(_.Button,{variant:"link",onClick:()=>r(e)},(0,f.__)("Reset"))),(0,l.createElement)(_.SearchControl,{__nextHasNoMarginBottom:!0,label:(0,f.__)("Search for a block"),placeholder:(0,f.__)("Search for a block"),value:i,onChange:e=>c(e),className:"edit-post-block-manager__search"}),(0,l.createElement)("div",{tabIndex:"0",role:"region","aria-label":(0,f.__)("Available block types"),className:"edit-post-block-manager__results"},0===e.length&&(0,l.createElement)("p",{className:"edit-post-block-manager__no-results"},(0,f.__)("No blocks found.")),t.map((t=>(0,l.createElement)(Vn,{key:t.slug,title:t.title,blockTypes:e.filter((e=>e.category===t.slug))}))),(0,l.createElement)(Vn,{title:(0,f.__)("Uncategorized"),blockTypes:e.filter((({category:e})=>!e))})))}));const On="edit-post/preferences";function Rn(){const e=(0,v.useViewportMatch)("medium"),{closeModal:t}=(0,m.useDispatch)(te),[n,o]=(0,m.useSelect)((t=>{const{getEditorSettings:n}=t(k.store),{getEditorMode:o,isFeatureActive:a}=t(ln),r=t(te).isModalActive(On),l=o(),s=n().richEditingEnabled,i=a("distractionFree");return[r,!i&&e&&s&&"visual"===l,i]}),[e]),{closeGeneralSidebar:a,setIsListViewOpened:r,setIsInserterOpened:s}=(0,m.useDispatch)(ln),{set:i}=(0,m.useDispatch)(g.store),c=()=>{i("core/edit-post","fixedToolbar",!0),s(!1),r(!1),a()},d=(0,u.useMemo)((()=>[{name:"general",tabLabel:(0,f.__)("General"),content:(0,l.createElement)(l.Fragment,null,e&&(0,l.createElement)(Te,{title:(0,f.__)("Publishing"),description:(0,f.__)("Change options related to publishing.")},(0,l.createElement)(An,{help:(0,f.__)("Review settings, such as visibility and tags."),label:(0,f.__)("Include pre-publish checklist")})),(0,l.createElement)(Te,{title:(0,f.__)("Appearance"),description:(0,f.__)("Customize options related to the block editor interface and editing flow.")},(0,l.createElement)(Nn,{featureName:"distractionFree",onToggle:c,help:(0,f.__)("Reduce visual distractions by hiding the toolbar and other elements to focus on writing."),label:(0,f.__)("Distraction free")}),(0,l.createElement)(Nn,{featureName:"focusMode",help:(0,f.__)("Highlights the current block and fades other content."),label:(0,f.__)("Spotlight mode")}),(0,l.createElement)(Nn,{featureName:"showIconLabels",label:(0,f.__)("Show button text labels"),help:(0,f.__)("Show text instead of icons on buttons.")}),(0,l.createElement)(Nn,{featureName:"showListViewByDefault",help:(0,f.__)("Opens the block list view sidebar by default."),label:(0,f.__)("Always open list view")}),(0,l.createElement)(Nn,{featureName:"themeStyles",help:(0,f.__)("Make the editor look like your theme."),label:(0,f.__)("Use theme styles")}),o&&(0,l.createElement)(Nn,{featureName:"showBlockBreadcrumbs",help:(0,f.__)("Shows block breadcrumbs at the bottom of the editor."),label:(0,f.__)("Display block breadcrumbs")})))},{name:"blocks",tabLabel:(0,f.__)("Blocks"),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Te,{title:(0,f.__)("Block interactions"),description:(0,f.__)("Customize how you interact with blocks in the block library and editing canvas.")},(0,l.createElement)(Nn,{featureName:"mostUsedBlocks",help:(0,f.__)("Places the most frequent blocks in the block library."),label:(0,f.__)("Show most used blocks")}),(0,l.createElement)(Nn,{featureName:"keepCaretInsideBlock",help:(0,f.__)("Aids screen readers by stopping text caret from leaving blocks."),label:(0,f.__)("Contain text cursor inside block")})),(0,l.createElement)(Te,{title:(0,f.__)("Visible blocks"),description:(0,f.__)("Disable blocks that you don't want to appear in the inserter. They can always be toggled back on later.")},(0,l.createElement)(Fn,null)))},{name:"panels",tabLabel:(0,f.__)("Panels"),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Te,{title:(0,f.__)("Document settings"),description:(0,f.__)("Choose what displays in the panel.")},(0,l.createElement)(In.Slot,null),(0,l.createElement)(k.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,l.createElement)(Tn,{label:t.labels.menu_name,panelName:`taxonomy-panel-${t.slug}`})}),(0,l.createElement)(k.PostFeaturedImageCheck,null,(0,l.createElement)(Tn,{label:(0,f.__)("Featured image"),panelName:"featured-image"})),(0,l.createElement)(k.PostExcerptCheck,null,(0,l.createElement)(Tn,{label:(0,f.__)("Excerpt"),panelName:"post-excerpt"})),(0,l.createElement)(k.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,l.createElement)(Tn,{label:(0,f.__)("Discussion"),panelName:"discussion-panel"})),(0,l.createElement)(k.PageAttributesCheck,null,(0,l.createElement)(Tn,{label:(0,f.__)("Page attributes"),panelName:"page-attributes"}))),(0,l.createElement)(Dn,{title:(0,f.__)("Additional"),description:(0,f.__)("Add extra areas to the editor.")}))}]),[e,o]);return n?(0,l.createElement)(ye,{closeModal:t},(0,l.createElement)(Ce,{sections:d})):null}class Hn extends u.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){const{postId:t,postStatus:n,postType:o,isSavingPost:a}=this.props,{historyId:r}=this.state;"trash"!==n||a?t===e.postId&&t===r||"auto-draft"===n||!t||this.setBrowserURL(t):this.setTrashURL(t,o)}setTrashURL(e,t){window.location.href=function(e,t){return(0,x.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}(e,t)}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,function(e){return(0,x.addQueryArgs)("post.php",{post:e,action:"edit"})}(e)),this.setState((()=>({historyId:e})))}render(){return null}}var Gn=(0,m.withSelect)((e=>{const{getCurrentPost:t,isSavingPost:n}=e(k.store),o=t();let{id:a,status:r,type:l}=o;return["wp_template","wp_template_part"].includes(l)&&(a=o.wp_id),{postId:a,postStatus:r,postType:l,isSavingPost:n()}}))(Hn),zn=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M6.6 6L5.4 7l4.5 5-4.5 5 1.1 1 5.5-6-5.4-6zm6 0l-1.1 1 4.5 5-4.5 5 1.1 1 5.5-6-5.5-6z"})),Un=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M11.6 7l-1.1-1L5 12l5.5 6 1.1-1L7 12l4.6-5zm6 0l-1.1-1-5.5 6 5.5 6 1.1-1-4.6-5 4.6-5z"})),$n=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,l.createElement)(P.Path,{d:"M20 10c0-5.51-4.49-10-10-10C4.48 0 0 4.49 0 10c0 5.52 4.48 10 10 10 5.51 0 10-4.48 10-10zM7.78 15.37L4.37 6.22c.55-.02 1.17-.08 1.17-.08.5-.06.44-1.13-.06-1.11 0 0-1.45.11-2.37.11-.18 0-.37 0-.58-.01C4.12 2.69 6.87 1.11 10 1.11c2.33 0 4.45.87 6.05 2.34-.68-.11-1.65.39-1.65 1.58 0 .74.45 1.36.9 2.1.35.61.55 1.36.55 2.46 0 1.49-1.4 5-1.4 5l-3.03-8.37c.54-.02.82-.17.82-.17.5-.05.44-1.25-.06-1.22 0 0-1.44.12-2.38.12-.87 0-2.33-.12-2.33-.12-.5-.03-.56 1.2-.06 1.22l.92.08 1.26 3.41zM17.41 10c.24-.64.74-1.87.43-4.25.7 1.29 1.05 2.71 1.05 4.25 0 3.29-1.73 6.24-4.4 7.78.97-2.59 1.94-5.2 2.92-7.78zM6.1 18.09C3.12 16.65 1.11 13.53 1.11 10c0-1.3.23-2.48.72-3.59C3.25 10.3 4.67 14.2 6.1 18.09zm4.03-6.63l2.58 6.98c-.86.29-1.76.45-2.71.45-.79 0-1.57-.11-2.29-.33.81-2.38 1.62-4.74 2.42-7.1z"})),Wn=function({showTooltip:e,icon:t,href:n}){var o;const{isActive:a,isRequestingSiteIcon:r,postType:s,siteIconUrl:i}=(0,m.useSelect)((e=>{const{getCurrentPostType:t}=e(k.store),{isFeatureActive:n}=e(ln),{getEntityRecord:o,getPostType:a,isResolving:r}=e(S.store),l=o("root","__unstableBase",void 0)||{};return{isActive:n("fullscreenMode"),isRequestingSiteIcon:r("getEntityRecord",["root","__unstableBase",void 0]),postType:a(t()),siteIconUrl:l.site_icon_url}}),[]),c=(0,v.useReducedMotion)();if(!a||!s)return null;let d=(0,l.createElement)(_.Icon,{size:"36px",icon:$n});i&&(d=(0,l.createElement)(_.__unstableMotion.img,{variants:!c&&{expand:{scale:1.25,transition:{type:"tween",duration:"0.3"}}},alt:(0,f.__)("Site Icon"),className:"edit-post-fullscreen-mode-close_site-icon",src:i})),r&&(d=null),t&&(d=(0,l.createElement)(_.Icon,{size:"36px",icon:t}));const u=N()({"edit-post-fullscreen-mode-close":!0,"has-icon":i});return(0,l.createElement)(_.__unstableMotion.div,{whileHover:"expand"},(0,l.createElement)(_.Button,{className:u,href:null!=n?n:(0,x.addQueryArgs)("edit.php",{post_type:s.slug}),label:null!==(o=s?.labels?.view_items)&&void 0!==o?o:(0,f.__)("Back"),showTooltip:e},d))},qn=(0,l.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(P.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),Zn=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));const{useShouldContextualToolbarShow:jn}=hn(E.privateApis),Kn=e=>{e.preventDefault()};var Yn=function({hasFixedToolbar:e,setListViewToggleElement:t}){const n=(0,u.useRef)(),{setIsInserterOpened:o,setIsListViewOpened:a}=(0,m.useDispatch)(ln),{isInserterEnabled:r,isInserterOpened:s,isTextModeEnabled:i,showIconLabels:c,isListViewOpen:d,listViewShortcut:p}=(0,m.useSelect)((e=>{const{hasInserterItems:t,getBlockRootClientId:n,getBlockSelectionEnd:o}=e(E.store),{getEditorSettings:a}=e(k.store),{getEditorMode:r,isFeatureActive:l,isListViewOpened:s}=e(ln),{getShortcutRepresentation:i}=e(Be.store);return{isInserterEnabled:"visual"===r()&&a().richEditingEnabled&&t(n(o())),isInserterOpened:e(ln).isInserterOpened(),isTextModeEnabled:"text"===r(),showIconLabels:l("showIconLabels"),isListViewOpen:s(),listViewShortcut:i("core/edit-post/toggle-list-view")}}),[]),g=(0,v.useViewportMatch)("medium"),h=(0,v.useViewportMatch)("wide"),{shouldShowContextualToolbar:b,canFocusHiddenToolbar:y,fixedToolbarCanBeFocused:w}=jn(),S=b||y||w,P=(0,f.__)("Document tools"),C=(0,u.useCallback)((()=>a(!d)),[a,d]),T=(0,l.createElement)(l.Fragment,null,(0,l.createElement)(_.ToolbarItem,{as:_.Button,className:"edit-post-header-toolbar__document-overview-toggle",icon:qn,disabled:i,isPressed:d
/* translators: button label text should, if possible, be under 16 characters. */,label:(0,f.__)("Document Overview"),onClick:C,shortcut:p,showTooltip:!c,variant:c?"tertiary":void 0,"aria-expanded":d,ref:t})),x=(0,u.useCallback)((()=>{s?(n.current.focus(),o(!1)):o(!0)}),[s,o]),B=(0,f._x)("Toggle block inserter","Generic label for block inserter button"),M=s?(0,f.__)("Close"):(0,f.__)("Add");return(0,l.createElement)(E.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":P,shouldUseKeyboardFocusShortcut:!S,variant:"unstyled"},(0,l.createElement)("div",{className:"edit-post-header-toolbar__left"},(0,l.createElement)(_.ToolbarItem,{ref:n,as:_.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:s,onMouseDown:Kn,onClick:x,disabled:!r,icon:Zn,label:c?M:B,showTooltip:!c,"aria-expanded":s}),(h||!c)&&(0,l.createElement)(l.Fragment,null,g&&!e&&(0,l.createElement)(_.ToolbarItem,{as:E.ToolSelector,showTooltip:!c,variant:c?"tertiary":void 0,disabled:i}),(0,l.createElement)(_.ToolbarItem,{as:k.EditorHistoryUndo,showTooltip:!c,variant:c?"tertiary":void 0}),(0,l.createElement)(_.ToolbarItem,{as:k.EditorHistoryRedo,showTooltip:!c,variant:c?"tertiary":void 0}),T)))};const Qn=[{value:"visual",label:(0,f.__)("Visual editor")},{value:"text",label:(0,f.__)("Code editor")}];var Xn=function(){const{shortcut:e,isRichEditingEnabled:t,isCodeEditingEnabled:n,isEditingTemplate:o,mode:a}=(0,m.useSelect)((e=>({shortcut:e(Be.store).getShortcutRepresentation("core/edit-post/toggle-mode"),isRichEditingEnabled:e(k.store).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:e(k.store).getEditorSettings().codeEditingEnabled,isEditingTemplate:e(ln).isEditingTemplate(),mode:e(ln).getEditorMode()})),[]),{switchEditorMode:r}=(0,m.useDispatch)(ln);if(o)return null;let s=a;t||"visual"!==a||(s="text"),n||"text"!==a||(s="visual");const i=Qn.map((o=>(n||"text"!==o.value||(o={...o,disabled:!0}),t||"visual"!==o.value||(o={...o,disabled:!0,info:(0,f.__)("You can enable the visual editor in your profile settings.")}),o.value===s||o.disabled?o:{...o,shortcut:e})));return(0,l.createElement)(_.MenuGroup,{label:(0,f.__)("Editor")},(0,l.createElement)(_.MenuItemsChoice,{choices:i,value:s,onSelect:r}))};function Jn(){const{openModal:e}=(0,m.useDispatch)(te);return(0,l.createElement)(_.MenuItem,{onClick:()=>{e(On)}},(0,f.__)("Preferences"))}var eo=function(){const e=(0,m.useRegistry)(),t=(0,m.useSelect)((e=>e(E.store).getSettings().isDistractionFree),[]),{setIsInserterOpened:n,setIsListViewOpened:o,closeGeneralSidebar:a}=(0,m.useDispatch)(ln),{set:r}=(0,m.useDispatch)(g.store);return(0,v.useViewportMatch)("medium")?(0,l.createElement)(_.MenuGroup,{label:(0,f._x)("View","noun")},(0,l.createElement)(g.PreferenceToggleMenuItem,{scope:"core/edit-post",disabled:t,name:"fixedToolbar",label:(0,f.__)("Top toolbar"),info:(0,f.__)("Access all block and document tools in a single place"),messageActivated:(0,f.__)("Top toolbar activated"),messageDeactivated:(0,f.__)("Top toolbar deactivated")}),(0,l.createElement)(g.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"focusMode",label:(0,f.__)("Spotlight mode"),info:(0,f.__)("Focus on one block at a time"),messageActivated:(0,f.__)("Spotlight mode activated"),messageDeactivated:(0,f.__)("Spotlight mode deactivated")}),(0,l.createElement)(g.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,f.__)("Fullscreen mode"),info:(0,f.__)("Show and hide admin UI"),messageActivated:(0,f.__)("Fullscreen mode activated"),messageDeactivated:(0,f.__)("Fullscreen mode deactivated"),shortcut:I.displayShortcut.secondary("f")}),(0,l.createElement)(g.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"distractionFree",onToggle:()=>{e.batch((()=>{r("core/edit-post","fixedToolbar",!0),n(!1),o(!1),a()}))},label:(0,f.__)("Distraction free"),info:(0,f.__)("Write with calmness"),messageActivated:(0,f.__)("Distraction free mode activated"),messageDeactivated:(0,f.__)("Distraction free mode deactivated"),shortcut:I.displayShortcut.primaryShift("\\")})):null},to=({showIconLabels:e})=>{const t=(0,v.useViewportMatch)("large");return(0,l.createElement)(ve,{toggleProps:{showTooltip:!e,...e&&{variant:"tertiary"}}},(({onClose:n})=>(0,l.createElement)(l.Fragment,null,e&&!t&&(0,l.createElement)(ue.Slot,{className:e&&"show-icon-labels",scope:"core/edit-post"}),(0,l.createElement)(eo,null),(0,l.createElement)(Xn,null),(0,l.createElement)(se.Slot,{name:"core/edit-post/plugin-more-menu",label:(0,f.__)("Plugins"),as:_.MenuGroup,fillProps:{onClick:n}}),(0,l.createElement)(ze.Slot,{fillProps:{onClose:n}}),(0,l.createElement)(_.MenuGroup,null,(0,l.createElement)(Jn,null)))))},no=(0,v.compose)((0,m.withSelect)((e=>{var t;return{hasPublishAction:null!==(t=e(k.store).getCurrentPost()?._links?.["wp:action-publish"])&&void 0!==t&&t,isBeingScheduled:e(k.store).isEditedPostBeingScheduled(),isPending:e(k.store).isCurrentPostPending(),isPublished:e(k.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(k.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(ln).isPublishSidebarOpened(),isScheduled:e(k.store).isCurrentPostScheduled()}})),(0,m.withDispatch)((e=>{const{togglePublishSidebar:t}=e(ln);return{togglePublishSidebar:t}})))((function({forceIsDirty:e,hasPublishAction:t,isBeingScheduled:n,isPending:o,isPublished:a,isPublishSidebarEnabled:r,isPublishSidebarOpened:s,isScheduled:i,togglePublishSidebar:c,setEntitiesSavedStatesCallback:d}){const u="toggle",m="button",p=(0,v.useViewportMatch)("medium","<");let g;return g=a||i&&n||o&&!t&&!p?m:p||r?u:m,(0,l.createElement)(k.PostPublishButton,{forceIsDirty:e,isOpen:s,isToggle:g===u,onToggle:c,setEntitiesSavedStatesCallback:d})}));function oo(){const{hasActiveMetaboxes:e,isPostSaveable:t,isViewable:n,deviceType:o,showIconLabels:a}=(0,m.useSelect)((e=>{var t;const{getEditedPostAttribute:n}=e(k.store),{getPostType:o}=e(S.store),a=o(n("type"));return{hasActiveMetaboxes:e(ln).hasMetaBoxes(),isPostSaveable:e(k.store).isEditedPostSaveable(),isViewable:null!==(t=a?.viewable)&&void 0!==t&&t,deviceType:e(ln).__experimentalGetPreviewDeviceType(),showIconLabels:e(ln).isFeatureActive("showIconLabels")}}),[]),{__experimentalSetPreviewDeviceType:r}=(0,m.useDispatch)(ln);return(0,l.createElement)(E.__experimentalPreviewOptions,{isEnabled:t,className:"edit-post-post-preview-dropdown",deviceType:o,setDeviceType:r,label:(0,f.__)("Preview"),showIconLabels:a},(({onClose:t})=>n&&(0,l.createElement)(_.MenuGroup,null,(0,l.createElement)("div",{className:"edit-post-header-preview__grouping-external"},(0,l.createElement)(k.PostPreviewButton,{className:"edit-post-header-preview__button-external",role:"menuitem",forceIsAutosaveable:e,textContent:(0,l.createElement)(l.Fragment,null,(0,f.__)("Preview in new tab"),(0,l.createElement)(_.Icon,{icon:C})),onPreview:t})))))}function ao(){const{permalink:e,isPublished:t,label:n,showIconLabels:o}=(0,m.useSelect)((e=>{const t=e(k.store).getCurrentPostType(),n=e(S.store).getPostType(t);return{permalink:e(k.store).getPermalink(),isPublished:e(k.store).isCurrentPostPublished(),label:n?.labels.view_item,showIconLabels:e(ln).isFeatureActive("showIconLabels")}}),[]);return t&&e?(0,l.createElement)(_.Button,{icon:C,label:n||(0,f.__)("View post"),href:e,target:"_blank",showTooltip:!o}):null}const ro="__experimentalMainDashboardButton",{Fill:lo,Slot:so}=(0,_.createSlotFill)(ro),io=lo;io.Slot=({children:e})=>{const t=(0,_.__experimentalUseSlotFills)(ro);return Boolean(t&&t.length)?(0,l.createElement)(so,{bubblesVirtually:!0}):e};var co=io,uo=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})),mo=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})),po=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),go=function(){const{template:e}=(0,m.useSelect)((e=>{const{getEditedPostTemplate:t}=e(ln);return{template:t()}}),[]),{clearSelectedBlock:t}=(0,m.useDispatch)(E.store),{setIsEditingTemplate:n}=(0,m.useDispatch)(ln),{open:o}=(0,m.useDispatch)(dn.store);if(!e)return null;let a=(0,f.__)("Default");return e?.title?a=e.title:e&&(a=e.slug),(0,l.createElement)("div",{className:"edit-post-document-actions"},(0,l.createElement)(_.Button,{className:"edit-post-document-actions__back",onClick:()=>{t(),n(!1)},icon:(0,f.isRTL)()?uo:mo},(0,f.__)("Back")),(0,l.createElement)(_.Button,{className:"edit-post-document-actions__command",onClick:()=>o()},(0,l.createElement)(_.__experimentalHStack,{className:"edit-post-document-actions__title",spacing:1,justify:"center"},(0,l.createElement)(E.BlockIcon,{icon:po}),(0,l.createElement)(_.__experimentalText,{size:"body",as:"h1"},(0,l.createElement)(_.VisuallyHidden,{as:"span"},(0,f.__)("Editing template: ")),a)),(0,l.createElement)("span",{className:"edit-post-document-actions__shortcut"},I.displayShortcut.primary("k"))))};const{BlockContextualToolbar:ho}=hn(E.privateApis),bo={hidden:{y:"-50px"},distractionFreeInactive:{y:0},hover:{y:0,transition:{type:"tween",delay:.2}}},_o={hidden:{x:"-100%"},distractionFreeInactive:{x:0},hover:{x:0,transition:{type:"tween",delay:.2}}};var Eo=function({setEntitiesSavedStatesCallback:e,setListViewToggleElement:t}){const n=(0,v.useViewportMatch)("large"),o=(0,v.useViewportMatch)("medium"),a=(0,u.useRef)(),{blockSelectionStart:r,hasActiveMetaboxes:s,hasFixedToolbar:i,isEditingTemplate:c,isPublishSidebarOpened:d,showIconLabels:p}=(0,m.useSelect)((e=>{const{get:t}=e(g.store);return{blockSelectionStart:e(E.store).getBlockSelectionStart(),hasActiveMetaboxes:e(ln).hasMetaBoxes(),isEditingTemplate:e(ln).isEditingTemplate(),isPublishSidebarOpened:e(ln).isPublishSidebarOpened(),hasFixedToolbar:t("core/edit-post","fixedToolbar"),showIconLabels:e(ln).isFeatureActive("showIconLabels")}}),[]),[h,b]=(0,u.useState)(!0),y=!!r;return(0,u.useEffect)((()=>{r&&b(!1)}),[r]),(0,l.createElement)("div",{className:"edit-post-header"},(0,l.createElement)(co.Slot,null,(0,l.createElement)(_.__unstableMotion.div,{variants:_o,transition:{type:"tween",delay:.8}},(0,l.createElement)(Wn,{showTooltip:!0}))),(0,l.createElement)(_.__unstableMotion.div,{variants:bo,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,l.createElement)(Yn,{hasFixedToolbar:i,setListViewToggleElement:t}),i&&o&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:N()("selected-block-tools-wrapper",{"is-collapsed":h})},(0,l.createElement)(ho,{isFixed:!0})),(0,l.createElement)(_.Popover.Slot,{ref:a,name:"block-toolbar"}),c&&y&&(0,l.createElement)(_.Button,{className:"edit-post-header__block-tools-toggle",icon:h?zn:Un,onClick:()=>{b((e=>!e))},label:h?(0,f.__)("Show block tools"):(0,f.__)("Hide block tools")})),(0,l.createElement)("div",{className:N()("edit-post-header__center",{"is-collapsed":!h&&o&&c})},c&&(0,l.createElement)(go,null))),(0,l.createElement)(_.__unstableMotion.div,{variants:bo,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},!d&&(0,l.createElement)(k.PostSavedState,{forceIsDirty:s,showIconLabels:p}),(0,l.createElement)(oo,null),(0,l.createElement)(k.PostPreviewButton,{forceIsAutosaveable:s}),(0,l.createElement)(ao,null),(0,l.createElement)(no,{forceIsDirty:s,setEntitiesSavedStatesCallback:e}),(n||!p)&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ue.Slot,{scope:"core/edit-post"}),(0,l.createElement)(to,{showIconLabels:p})),p&&!n&&(0,l.createElement)(to,{showIconLabels:p})))},fo=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function vo(){const{insertionPoint:e,showMostUsedBlocks:t}=(0,m.useSelect)((e=>{const{isFeatureActive:t,__experimentalGetInsertionPoint:n}=e(ln);return{insertionPoint:n(),showMostUsedBlocks:t("mostUsedBlocks")}}),[]),{setIsInserterOpened:n}=(0,m.useDispatch)(ln),o=(0,v.useViewportMatch)("medium","<"),a=o?"div":_.VisuallyHidden,[r,s]=(0,v.__experimentalUseDialog)({onClose:()=>n(!1),focusOnMount:null}),i=(0,u.useRef)();return(0,u.useEffect)((()=>{i.current.focusSearch()}),[]),(0,l.createElement)("div",{ref:r,...s,className:"edit-post-editor__inserter-panel"},(0,l.createElement)(a,{className:"edit-post-editor__inserter-panel-header"},(0,l.createElement)(_.Button,{icon:fo,label:(0,f.__)("Close block inserter"),onClick:()=>n(!1)})),(0,l.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,l.createElement)(E.__experimentalLibrary,{showMostUsedBlocks:t,showInserterHelpPanel:!0,shouldFocusBlock:o,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue,ref:i})))}var yo=window.wp.dom;function wo(){return(0,l.createElement)(_.SVG,{width:"138",height:"148",viewBox:"0 0 138 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(_.Rect,{width:"138",height:"148",rx:"4",fill:"#F0F6FC"}),(0,l.createElement)(_.Line,{x1:"44",y1:"28",x2:"24",y2:"28",stroke:"#DDDDDD"}),(0,l.createElement)(_.Rect,{x:"48",y:"16",width:"27",height:"23",rx:"4",fill:"#DDDDDD"}),(0,l.createElement)(_.Path,{d:"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z",fill:"black"}),(0,l.createElement)(_.Line,{x1:"55",y1:"59",x2:"24",y2:"59",stroke:"#DDDDDD"}),(0,l.createElement)(_.Rect,{x:"59",y:"47",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,l.createElement)(_.Path,{d:"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z",fill:"black"}),(0,l.createElement)(_.Line,{x1:"80",y1:"90",x2:"24",y2:"90",stroke:"#DDDDDD"}),(0,l.createElement)(_.Rect,{x:"84",y:"78",width:"30",height:"23",rx:"4",fill:"#F0B849"}),(0,l.createElement)(_.Path,{d:"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z",fill:"black"}),(0,l.createElement)(_.Line,{x1:"66",y1:"121",x2:"24",y2:"121",stroke:"#DDDDDD"}),(0,l.createElement)(_.Rect,{x:"70",y:"109",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,l.createElement)(_.Path,{d:"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z",fill:"black"}))}function So(){const{headingCount:e}=(0,m.useSelect)((e=>{const{getGlobalBlockCount:t}=e(E.store);return{headingCount:t("core/heading")}}),[]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("div",{className:"edit-post-editor__list-view-overview"},(0,l.createElement)("div",null,(0,l.createElement)(_.__experimentalText,null,(0,f.__)("Characters:")),(0,l.createElement)(_.__experimentalText,null,(0,l.createElement)(k.CharacterCount,null))),(0,l.createElement)("div",null,(0,l.createElement)(_.__experimentalText,null,(0,f.__)("Words:")),(0,l.createElement)(k.WordCount,null)),(0,l.createElement)("div",null,(0,l.createElement)(_.__experimentalText,null,(0,f.__)("Time to read:")),(0,l.createElement)(k.TimeToRead,null))),e>0?(0,l.createElement)(k.DocumentOutline,null):(0,l.createElement)("div",{className:"edit-post-editor__list-view-empty-headings"},(0,l.createElement)(wo,null),(0,l.createElement)("p",null,(0,f.__)("Navigate the structure of your document and address issues like empty or incorrect heading levels."))))}function ko({listViewToggleElement:e}){const{setIsListViewOpened:t}=(0,m.useDispatch)(ln),n=(0,v.useFocusOnMount)("firstElement"),o=(0,u.useCallback)((()=>{t(!1),e?.focus()}),[e,t]),a=(0,u.useCallback)((e=>{e.keyCode!==I.ESCAPE||e.defaultPrevented||(e.preventDefault(),o())}),[o]),[r,s]=(0,u.useState)(null),[i,c]=(0,u.useState)("list-view"),d=(0,u.useRef)(),p=(0,u.useRef)(),g=(0,u.useRef)(),h=(0,v.useMergeRefs)([n,g,s]),b=(0,u.useCallback)((()=>{d.current.contains(d.current.ownerDocument.activeElement)?o():function(e){const t=yo.focus.tabbable.find(p.current)[0];if("list-view"===e){const e=yo.focus.tabbable.find(g.current)[0];(d.current.contains(e)?e:t).focus()}else t.focus()}(i)}),[o,i]);return(0,Be.useShortcut)("core/edit-post/toggle-list-view",b),(0,l.createElement)("div",{className:"edit-post-editor__document-overview-panel",onKeyDown:a,ref:d},(0,l.createElement)(_.Button,{className:"edit-post-editor__document-overview-panel__close-button",icon:O,label:(0,f.__)("Close"),onClick:o}),(0,l.createElement)(_.TabPanel,{className:"edit-post-editor__document-overview-panel__tab-panel",ref:p,onSelect:e=>c(e),selectOnMove:!1,tabs:[{name:"list-view",title:(0,f._x)("List View","Post overview"),className:"edit-post-sidebar__panel-tab"},{name:"outline",title:(0,f._x)("Outline","Post overview"),className:"edit-post-sidebar__panel-tab"}]},(e=>(0,l.createElement)("div",{className:"edit-post-editor__list-view-container",ref:h},"list-view"===e.name?(0,l.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,l.createElement)(E.__experimentalListView,{dropZoneElement:r})):(0,l.createElement)(So,null)))))}var Po=(0,l.createElement)(P.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),Co=(0,l.createElement)(P.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),To=({sidebarName:e})=>{const{openGeneralSidebar:t}=(0,m.useDispatch)(ln),n=()=>t("edit-post/document"),{documentLabel:o,isTemplateMode:a}=(0,m.useSelect)((e=>({
// translators: Default label for the Document sidebar tab, not selected.
documentLabel:e(k.store).getPostTypeLabel()||(0,f._x)("Document","noun"),isTemplateMode:e(ln).isEditingTemplate()})),[]),[r,s]="edit-post/document"===e?
// translators: ARIA label for the Document sidebar tab, selected. %s: Document label.
[(0,f.sprintf)((0,f.__)("%s (selected)"),o),"is-active"]:[o,""],[i,c]="edit-post/block"===e?
// translators: ARIA label for the Block Settings Sidebar tab, selected.
[(0,f.__)("Block (selected)"),"is-active"]:
// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[(0,f.__)("Block"),""],[d,u]="edit-post/document"===e?[(0,f.__)("Template (selected)"),"is-active"]:[(0,f.__)("Template"),""];return(0,l.createElement)("ul",null,!a&&(0,l.createElement)("li",null,(0,l.createElement)(_.Button,{onClick:n,className:`edit-post-sidebar__panel-tab ${s}`,"aria-label":r,"data-label":o},o)),a&&(0,l.createElement)("li",null,(0,l.createElement)(_.Button,{onClick:n,className:`edit-post-sidebar__panel-tab ${u}`,"aria-label":d,"data-label":(0,f.__)("Template")},(0,f.__)("Template"))),(0,l.createElement)("li",null,(0,l.createElement)(_.Button,{onClick:()=>t("edit-post/block"),className:`edit-post-sidebar__panel-tab ${c}`,"aria-label":i,"data-label":(0,f.__)("Block")},
// translators: Text label for the Block Settings Sidebar tab.
(0,f.__)("Block"))))};const{PostPanelRow:xo}=hn(k.privateApis);function Bo({isOpen:e,onClick:t}){const n=(0,k.usePostVisibilityLabel)();return(0,l.createElement)(_.Button,{className:"edit-post-post-visibility__toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,f.sprintf)((0,f.__)("Select visibility: %s"),n),onClick:t},n)}var Mo=function(){const[e,t]=(0,u.useState)(null),n=(0,u.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,l.createElement)(k.PostVisibilityCheck,{render:({canEdit:e})=>(0,l.createElement)(xo,{label:(0,f.__)("Visibility"),ref:t},!e&&(0,l.createElement)("span",null,(0,l.createElement)(k.PostVisibilityLabel,null)),e&&(0,l.createElement)(_.Dropdown,{contentClassName:"edit-post-post-visibility__dialog",popoverProps:n,focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,l.createElement)(Bo,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,l.createElement)(k.PostVisibility,{onClose:e})}))})};function Io(){return(0,l.createElement)(k.PostTrashCheck,null,(0,l.createElement)(k.PostTrash,null))}const{PostPanelRow:Ao}=hn(k.privateApis);var No=function(){return(0,l.createElement)(k.PostStickyCheck,null,(0,l.createElement)(Ao,null,(0,l.createElement)(k.PostSticky,null)))},Do=function(){return(0,l.createElement)(k.PostSlugCheck,null,(0,l.createElement)(_.PanelRow,{className:"edit-post-post-slug"},(0,l.createElement)(k.PostSlug,null)))},Lo=function(){return(0,l.createElement)(k.PostFormatCheck,null,(0,l.createElement)(_.PanelRow,{className:"edit-post-post-format"},(0,l.createElement)(k.PostFormat,null)))};const{PostPanelRow:Vo}=hn(k.privateApis);var Fo=function(){return(0,l.createElement)(k.PostPendingStatusCheck,null,(0,l.createElement)(Vo,null,(0,l.createElement)(k.PostPendingStatus,null)))};const{Fill:Oo,Slot:Ro}=(0,_.createSlotFill)("PluginPostStatusInfo"),Ho=({children:e,className:t})=>(0,l.createElement)(Oo,null,(0,l.createElement)(_.PanelRow,{className:t},e));Ho.Slot=Ro;var Go=Ho,zo=(0,l.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(P.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"}));const Uo=(0,f.__)("Custom Template");function $o({onClose:e}){const t=(0,m.useSelect)((e=>e(k.store).getEditorSettings().defaultBlockTemplate),[]),{__unstableCreateTemplate:n,__unstableSwitchToTemplateMode:o}=(0,m.useDispatch)(ln),[a,r]=(0,u.useState)(""),[i,c]=(0,u.useState)(!1),d=()=>{r(""),e()};return(0,l.createElement)(_.Modal,{title:(0,f.__)("Create custom template"),onRequestClose:d,className:"edit-post-post-template__create-modal"},(0,l.createElement)("form",{className:"edit-post-post-template__create-form",onSubmit:async e=>{if(e.preventDefault(),i)return;c(!0);const r=null!=t?t:(0,s.serialize)([(0,s.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,s.createBlock)("core/site-title"),(0,s.createBlock)("core/site-tagline")]),(0,s.createBlock)("core/separator"),(0,s.createBlock)("core/group",{tagName:"main"},[(0,s.createBlock)("core/group",{layout:{inherit:!0}},[(0,s.createBlock)("core/post-title")]),(0,s.createBlock)("core/post-content",{layout:{inherit:!0}})])]);await n({slug:(0,x.cleanForSlug)(a||Uo),content:r,title:a||Uo}),c(!1),d(),o(!0)}},(0,l.createElement)(_.__experimentalVStack,{spacing:"3"},(0,l.createElement)(_.TextControl,{__nextHasNoMarginBottom:!0,label:(0,f.__)("Name"),value:a,onChange:r,placeholder:Uo,disabled:i,help:(0,f.__)('Describe the template, e.g. "Post with sidebar". A custom template can be manually applied to any post or page.')}),(0,l.createElement)(_.__experimentalHStack,{justify:"right"},(0,l.createElement)(_.Button,{variant:"tertiary",onClick:d},(0,f.__)("Cancel")),(0,l.createElement)(_.Button,{variant:"primary",type:"submit",isBusy:i,"aria-disabled":i},(0,f.__)("Create"))))))}function Wo({onClose:e}){var t,n;const{isPostsPage:o,availableTemplates:a,fetchedTemplates:r,selectedTemplateSlug:s,canCreate:i,canEdit:c}=(0,m.useSelect)((e=>{const{canUser:t,getEntityRecord:n,getEntityRecords:o}=e(S.store),a=e(k.store).getEditorSettings(),r=t("read","settings")?n("root","site"):void 0,l=e(k.store).getCurrentPostId()===r?.page_for_posts,s=t("create","templates");return{isPostsPage:l,availableTemplates:a.availableTemplates,fetchedTemplates:s?o("postType","wp_template",{post_type:e(k.store).getCurrentPostType(),per_page:-1}):void 0,selectedTemplateSlug:e(k.store).getEditedPostAttribute("template"),canCreate:s&&!l&&a.supportsTemplateMode,canEdit:s&&a.supportsTemplateMode&&!!e(ln).getEditedPostTemplate()}}),[]),d=(0,u.useMemo)((()=>Object.entries({...a,...Object.fromEntries((null!=r?r:[]).map((({slug:e,title:t})=>[e,t.rendered])))}).map((([e,t])=>({value:e,label:t})))),[a,r]),p=null!==(t=d.find((e=>e.value===s)))&&void 0!==t?t:d.find((e=>!e.value)),{editPost:g}=(0,m.useDispatch)(k.store),{__unstableSwitchToTemplateMode:h}=(0,m.useDispatch)(ln),[b,v]=(0,u.useState)(!1);return(0,l.createElement)("div",{className:"edit-post-post-template__form"},(0,l.createElement)(E.__experimentalInspectorPopoverHeader,{title:(0,f.__)("Template"),help:(0,f.__)("Templates define the way content is displayed when viewing your site."),actions:i?[{icon:zo,label:(0,f.__)("Add template"),onClick:()=>v(!0)}]:[],onClose:e}),o?(0,l.createElement)(_.Notice,{className:"edit-post-post-template__notice",status:"warning",isDismissible:!1},(0,f.__)("The posts page template cannot be changed.")):(0,l.createElement)(_.SelectControl,{__nextHasNoMarginBottom:!0,hideLabelFromVision:!0,label:(0,f.__)("Template"),value:null!==(n=p?.value)&&void 0!==n?n:"",options:d,onChange:e=>g({template:e||""})}),c&&(0,l.createElement)("p",null,(0,l.createElement)(_.Button,{variant:"link",onClick:()=>h()},(0,f.__)("Edit template"))),b&&(0,l.createElement)($o,{onClose:()=>v(!1)}))}const{PostPanelRow:qo}=hn(k.privateApis);function Zo(){const[e,t]=(0,u.useState)(null),n=(0,u.useMemo)((()=>({anchor:e,placement:"bottom-end"})),[e]);return(0,m.useSelect)((e=>{var t;const n=e(k.store).getCurrentPostType(),o=e(S.store).getPostType(n);if(!o?.viewable)return!1;const a=e(k.store).getEditorSettings();return!!(a.availableTemplates&&Object.keys(a.availableTemplates).length>0)||!!a.supportsTemplateMode&&(null!==(t=e(S.store).canUser("create","templates"))&&void 0!==t&&t)}),[])?(0,l.createElement)(qo,{label:(0,f.__)("Template"),ref:t},(0,l.createElement)(_.Dropdown,{popoverProps:n,contentClassName:"edit-post-post-template__dialog",focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,l.createElement)(jo,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,l.createElement)(Wo,{onClose:e})})):null}function jo({isOpen:e,onClick:t}){const n=(0,m.useSelect)((e=>{const t=e(k.store).getEditedPostAttribute("template"),{supportsTemplateMode:n,availableTemplates:o}=e(k.store).getEditorSettings();if(!n&&o[t])return o[t];const a=e(S.store).canUser("create","templates")&&e(ln).getEditedPostTemplate();return a?.title||a?.slug||o?.[t]}),[]);return(0,l.createElement)(_.Button,{className:"edit-post-post-template__toggle",variant:"tertiary","aria-expanded":e,"aria-label":n?(0,f.sprintf)(
// translators: %s: Name of the currently selected template.
(0,f.__)("Select template: %s"),n):(0,f.__)("Select template"),onClick:t},null!=n?n:(0,f.__)("Default template"))}const Ko="post-status";function Yo(){const{isOpened:e,isRemoved:t}=(0,m.useSelect)((e=>{const{isEditorPanelRemoved:t,isEditorPanelOpened:n}=e(ln);return{isRemoved:t(Ko),isOpened:n(Ko)}}),[]),{toggleEditorPanelOpened:n}=(0,m.useDispatch)(ln);return t?null:(0,l.createElement)(_.PanelBody,{className:"edit-post-post-status",title:(0,f.__)("Summary"),opened:e,onToggle:()=>n(Ko)},(0,l.createElement)(Go.Slot,null,(e=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Mo,null),(0,l.createElement)(k.PostSchedulePanel,null),(0,l.createElement)(Zo,null),(0,l.createElement)(k.PostURLPanel,null),(0,l.createElement)(k.PostSyncStatus,null),(0,l.createElement)(No,null),(0,l.createElement)(Fo,null),(0,l.createElement)(Lo,null),(0,l.createElement)(Do,null),(0,l.createElement)(k.PostAuthorPanel,null),e,(0,l.createElement)(_.__experimentalHStack,{style:{marginTop:"16px"},spacing:4,wrap:!0},(0,l.createElement)(k.PostSwitchToDraftButton,null),(0,l.createElement)(Io,null))))))}var Qo=function(){return(0,l.createElement)(k.PostLastRevisionCheck,null,(0,l.createElement)(_.PanelBody,{className:"edit-post-last-revision__panel"},(0,l.createElement)(k.PostLastRevision,null)))},Xo=function({taxonomy:e,children:t}){const n=e?.slug,o=n?`taxonomy-panel-${n}`:"",{isEnabled:a,isOpened:r}=(0,m.useSelect)((e=>{const{isEditorPanelEnabled:t,isEditorPanelOpened:a}=e(ln);return{isEnabled:!!n&&t(o),isOpened:!!n&&a(o)}}),[o,n]),{toggleEditorPanelOpened:s}=(0,m.useDispatch)(ln);if(!a)return null;const i=e?.labels?.menu_name;return i?(0,l.createElement)(_.PanelBody,{title:i,opened:r,onToggle:()=>s(o)},t):null},Jo=function(){return(0,l.createElement)(k.PostTaxonomiesCheck,null,(0,l.createElement)(k.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,l.createElement)(Xo,{taxonomy:t},e)}))};const ea="featured-image",ta=(0,m.withSelect)((e=>{const{getEditedPostAttribute:t}=e(k.store),{getPostType:n}=e(S.store),{isEditorPanelEnabled:o,isEditorPanelOpened:a}=e(ln);return{postType:n(t("type")),isEnabled:o(ea),isOpened:a(ea)}})),na=(0,m.withDispatch)((e=>{const{toggleEditorPanelOpened:t}=e(ln);return{onTogglePanel:(...e)=>t(ea,...e)}}));var oa=(0,v.compose)(ta,na)((function({isEnabled:e,isOpened:t,postType:n,onTogglePanel:o}){var a;return e?(0,l.createElement)(k.PostFeaturedImageCheck,null,(0,l.createElement)(_.PanelBody,{title:null!==(a=n?.labels?.featured_image)&&void 0!==a?a:(0,f.__)("Featured image"),opened:t,onToggle:o},(0,l.createElement)(k.PostFeaturedImage,null))):null}));const{Fill:aa,Slot:ra}=(0,_.createSlotFill)("PluginPostExcerpt"),la=({children:e,className:t})=>(0,l.createElement)(aa,null,(0,l.createElement)(_.PanelRow,{className:t},e));la.Slot=ra;var sa=la;const ia="post-excerpt";function ca(){const{isOpened:e,isEnabled:t}=(0,m.useSelect)((e=>{const{isEditorPanelOpened:t,isEditorPanelEnabled:n}=e(ln);return{isOpened:t(ia),isEnabled:n(ia)}}),[]),{toggleEditorPanelOpened:n}=(0,m.useDispatch)(ln);return t?(0,l.createElement)(k.PostExcerptCheck,null,(0,l.createElement)(_.PanelBody,{title:(0,f.__)("Excerpt"),opened:e,onToggle:()=>n(ia)},(0,l.createElement)(sa.Slot,null,(e=>(0,l.createElement)(l.Fragment,null,(0,l.createElement)(k.PostExcerpt,null),e))))):null}const da="discussion-panel";var ua=function(){const{isEnabled:e,isOpened:t}=(0,m.useSelect)((e=>{const{isEditorPanelEnabled:t,isEditorPanelOpened:n}=e(ln);return{isEnabled:t(da),isOpened:n(da)}}),[]),{toggleEditorPanelOpened:n}=(0,m.useDispatch)(ln);return e?(0,l.createElement)(k.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,l.createElement)(_.PanelBody,{title:(0,f.__)("Discussion"),opened:t,onToggle:()=>n(da)},(0,l.createElement)(k.PostTypeSupportCheck,{supportKeys:"comments"},(0,l.createElement)(_.PanelRow,null,(0,l.createElement)(k.PostComments,null))),(0,l.createElement)(k.PostTypeSupportCheck,{supportKeys:"trackbacks"},(0,l.createElement)(_.PanelRow,null,(0,l.createElement)(k.PostPingbacks,null))))):null};const ma="page-attributes";var pa=function(){var e;const{isEnabled:t,isOpened:n,postType:o}=(0,m.useSelect)((e=>{const{getEditedPostAttribute:t}=e(k.store),{isEditorPanelEnabled:n,isEditorPanelOpened:o}=e(ln),{getPostType:a}=e(S.store);return{isEnabled:n(ma),isOpened:o(ma),postType:a(t("type"))}}),[]),{toggleEditorPanelOpened:a}=(0,m.useDispatch)(ln);return t&&o?(0,l.createElement)(k.PageAttributesCheck,null,(0,l.createElement)(_.PanelBody,{title:null!==(e=o?.labels?.attributes)&&void 0!==e?e:(0,f.__)("Page attributes"),opened:n,onToggle:(...e)=>a(ma,...e)},(0,l.createElement)(k.PageAttributesParent,null),(0,l.createElement)(_.PanelRow,null,(0,l.createElement)(k.PageAttributesOrder,null)))):null},ga=function({location:e}){const t=(0,u.useRef)(null),n=(0,u.useRef)(null);(0,u.useEffect)((()=>(n.current=document.querySelector(".metabox-location-"+e),n.current&&t.current.appendChild(n.current),()=>{n.current&&document.querySelector("#metaboxes").appendChild(n.current)})),[e]);const o=(0,m.useSelect)((e=>e(ln).isSavingMetaBoxes()),[]),a=N()("edit-post-meta-boxes-area",`is-${e}`,{"is-loading":o});return(0,l.createElement)("div",{className:a},o&&(0,l.createElement)(_.Spinner,null),(0,l.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,l.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class ha extends u.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){const{id:e,isVisible:t}=this.props,n=document.getElementById(e);n&&(t?n.classList.remove("is-hidden"):n.classList.add("is-hidden"))}render(){return null}}var ba=(0,m.withSelect)(((e,{id:t})=>({isVisible:e(ln).isEditorPanelEnabled(`meta-box-${t}`)})))(ha);function _a({location:e}){const t=(0,m.useRegistry)(),{metaBoxes:n,areMetaBoxesInitialized:o,isEditorReady:a}=(0,m.useSelect)((t=>{const{__unstableIsEditorReady:n}=t(k.store),{getMetaBoxesPerLocation:o,areMetaBoxesInitialized:a}=t(ln);return{metaBoxes:o(e),areMetaBoxesInitialized:a(),isEditorReady:n()}}),[e]);return(0,u.useEffect)((()=>{a&&!o&&t.dispatch(ln).initializeMetaBoxes()}),[a,o]),o?(0,l.createElement)(l.Fragment,null,(null!=n?n:[]).map((({id:e})=>(0,l.createElement)(ba,{key:e,id:e}))),(0,l.createElement)(ga,{location:e})):null}window.wp.warning;const{Fill:Ea,Slot:fa}=(0,_.createSlotFill)("PluginDocumentSettingPanel"),va=({name:e,className:t,title:n,icon:o,children:a})=>{const{name:r}=(0,T.usePluginContext)(),s=`${r}/${e}`,{opened:i,isEnabled:c}=(0,m.useSelect)((e=>{const{isEditorPanelOpened:t,isEditorPanelEnabled:n}=e(ln);return{opened:t(s),isEnabled:n(s)}}),[s]),{toggleEditorPanelOpened:d}=(0,m.useDispatch)(ln);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(In,{label:n,panelName:s}),(0,l.createElement)(Ea,null,c&&(0,l.createElement)(_.PanelBody,{className:t,title:n,icon:o,opened:i,onToggle:()=>d(s)},a)))};va.Slot=fa;var ya=va;function wa({className:e,...t}){const{postTitle:n,shortcut:o,showIconLabels:a}=(0,m.useSelect)((e=>({postTitle:e(k.store).getEditedPostAttribute("title"),shortcut:e(Be.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),showIconLabels:e(ln).isFeatureActive("showIconLabels")})),[]);return(0,l.createElement)(ge,{panelClassName:e,className:"edit-post-sidebar",smallScreenTitle:n||(0,f.__)("(no title)"),scope:"core/edit-post",toggleShortcut:o,showIconLabels:a,...t})}var Sa=function(){const e=(0,m.useSelect)((e=>{const{getEditedPostTemplate:t}=e(ln);return t()}),[]);return e?(0,l.createElement)(_.PanelBody,null,(0,l.createElement)(_.Flex,{align:"flex-start",gap:"3"},(0,l.createElement)(_.FlexItem,null,(0,l.createElement)(we,{icon:po})),(0,l.createElement)(_.FlexBlock,null,(0,l.createElement)("h2",{className:"edit-post-template-summary__title"},e?.title||e?.slug),(0,l.createElement)("p",null,e?.description)))):null};const ka=u.Platform.select({web:!0,native:!1});var Pa=()=>{const{sidebarName:e,keyboardShortcut:t,isTemplateMode:n}=(0,m.useSelect)((e=>{let t=e(te).getActiveComplementaryArea(ln.name);return["edit-post/document","edit-post/block"].includes(t)||(e(E.store).getBlockSelectionStart()&&(t="edit-post/block"),t="edit-post/document"),{sidebarName:t,keyboardShortcut:e(Be.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),isTemplateMode:e(ln).isEditingTemplate()}}),[]);return(0,l.createElement)(wa,{identifier:e,header:(0,l.createElement)(To,{sidebarName:e}),closeLabel:(0,f.__)("Close Settings"),headerClassName:"edit-post-sidebar__panel-tabs"
/* translators: button label text should, if possible, be under 16 characters. */,title:(0,f.__)("Settings"),toggleShortcut:t,icon:(0,f.isRTL)()?Po:Co,isActiveByDefault:ka},!n&&"edit-post/document"===e&&(0,l.createElement)(l.Fragment,null,(0,l.createElement)(Yo,null),(0,l.createElement)(ya.Slot,null),(0,l.createElement)(Qo,null),(0,l.createElement)(Jo,null),(0,l.createElement)(oa,null),(0,l.createElement)(ca,null),(0,l.createElement)(ua,null),(0,l.createElement)(pa,null),(0,l.createElement)(_a,{location:"side"})),n&&"edit-post/document"===e&&(0,l.createElement)(Sa,null),"edit-post/block"===e&&(0,l.createElement)(E.BlockInspector,null))};function Ca({nonAnimatedSrc:e,animatedSrc:t}){return(0,l.createElement)("picture",{className:"edit-post-welcome-guide__image"},(0,l.createElement)("source",{srcSet:e,media:"(prefers-reduced-motion: reduce)"}),(0,l.createElement)("img",{src:t,width:"312",height:"240",alt:""}))}function Ta(){const{toggleFeature:e}=(0,m.useDispatch)(ln);return(0,l.createElement)(_.Guide,{className:"edit-post-welcome-guide",contentLabel:(0,f.__)("Welcome to the block editor"),finishButtonText:(0,f.__)("Get started"),onFinish:()=>e("welcomeGuide"),pages:[{image:(0,l.createElement)(Ca,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-canvas.gif"}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,f.__)("Welcome to the block editor")),(0,l.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,f.__)("In the WordPress editor, each paragraph, image, or video is presented as a distinct block of content.")))},{image:(0,l.createElement)(Ca,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-editor.gif"}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,f.__)("Make each block your own")),(0,l.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,f.__)("Each block comes with its own set of controls for changing things like color, width, and alignment. These will show and hide automatically when you have a block selected.")))},{image:(0,l.createElement)(Ca,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-library.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-library.gif"}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,f.__)("Get to know the block library")),(0,l.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,u.createInterpolateElement)((0,f.__)("All of the blocks available to you live in the block library. Youll find it wherever you see the <InserterIconImage /> icon."),{InserterIconImage:(0,l.createElement)("img",{alt:(0,f.__)("inserter"),src:"data:image/svg+xml,%3Csvg width='18' height='18' viewBox='0 0 18 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='18' height='18' rx='2' fill='%231E1E1E'/%3E%3Cpath d='M9.22727 4V14M4 8.77273H14' stroke='white' stroke-width='1.5'/%3E%3C/svg%3E%0A"})})))},{image:(0,l.createElement)(Ca,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-documentation.gif"}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,f.__)("Learn how to use the block editor")),(0,l.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,f.__)("New to the block editor? Want to learn more about using it? "),(0,l.createElement)(_.ExternalLink,{href:(0,f.__)("https://wordpress.org/documentation/article/wordpress-block-editor/")},(0,f.__)("Here's a detailed guide."))))}]})}function xa(){const{toggleFeature:e}=(0,m.useDispatch)(ln);return(0,l.createElement)(_.Guide,{className:"edit-template-welcome-guide",contentLabel:(0,f.__)("Welcome to the template editor"),finishButtonText:(0,f.__)("Get started"),onFinish:()=>e("welcomeGuideTemplate"),pages:[{image:(0,l.createElement)(Ca,{nonAnimatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.svg",animatedSrc:"https://s.w.org/images/block-editor/welcome-template-editor.gif"}),content:(0,l.createElement)(l.Fragment,null,(0,l.createElement)("h1",{className:"edit-post-welcome-guide__heading"},(0,f.__)("Welcome to the template editor")),(0,l.createElement)("p",{className:"edit-post-welcome-guide__text"},(0,f.__)("Templates help define the layout of the site. You can customize all aspects of your posts and pages using blocks and patterns in this editor.")))}]})}function Ba(){const{isActive:e,isTemplateMode:t}=(0,m.useSelect)((e=>{const{isFeatureActive:t,isEditingTemplate:n}=e(ln),o=n();return{isActive:t(o?"welcomeGuideTemplate":"welcomeGuide"),isTemplateMode:o}}),[]);return e?t?(0,l.createElement)(xa,null):(0,l.createElement)(Ta,null):null}const{Fill:Ma,Slot:Ia}=(0,_.createSlotFill)("PluginPostPublishPanel"),Aa=({children:e,className:t,title:n,initialOpen:o=!1,icon:a})=>{const{icon:r}=(0,T.usePluginContext)();return(0,l.createElement)(Ma,null,(0,l.createElement)(_.PanelBody,{className:t,initialOpen:o||!n,title:n,icon:null!=a?a:r},e))};Aa.Slot=Ia;var Na=Aa;const{Fill:Da,Slot:La}=(0,_.createSlotFill)("PluginPrePublishPanel"),Va=({children:e,className:t,title:n,initialOpen:o=!1,icon:a})=>{const{icon:r}=(0,T.usePluginContext)();return(0,l.createElement)(Da,null,(0,l.createElement)(_.PanelBody,{className:t,initialOpen:o||!n,title:n,icon:null!=a?a:r},e))};Va.Slot=La;var Fa=Va;const{Fill:Oa,Slot:Ra}=(0,_.createSlotFill)("ActionsPanel");function Ha({setEntitiesSavedStatesCallback:e,closeEntitiesSavedStates:t,isEntitiesSavedStatesOpen:n}){const{closePublishSidebar:o,togglePublishSidebar:a}=(0,m.useDispatch)(ln),{publishSidebarOpened:r,hasActiveMetaboxes:s,hasNonPostEntityChanges:i}=(0,m.useSelect)((e=>({publishSidebarOpened:e(ln).isPublishSidebarOpened(),hasActiveMetaboxes:e(ln).hasMetaBoxes(),hasNonPostEntityChanges:e(k.store).hasNonPostEntityChanges()})),[]),c=(0,u.useCallback)((()=>e(!0)),[]);let d;return d=r?(0,l.createElement)(k.PostPublishPanel,{onClose:o,forceIsDirty:s,PrePublishExtension:Fa.Slot,PostPublishExtension:Na.Slot}):i?(0,l.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,l.createElement)(_.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:c,"aria-expanded":!1},(0,f.__)("Open save panel"))):(0,l.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,l.createElement)(_.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:a,"aria-expanded":!1},(0,f.__)("Open publish panel"))),(0,l.createElement)(l.Fragment,null,n&&(0,l.createElement)(k.EntitiesSavedStates,{close:t}),(0,l.createElement)(Ra,{bubblesVirtually:!0}),!n&&d)}function Ga({blockPatterns:e,onChoosePattern:t}){const n=(0,v.useAsyncList)(e),{resetEditorBlocks:o}=(0,m.useDispatch)(k.store);return(0,l.createElement)(E.__experimentalBlockPatternsList,{blockPatterns:e,shownPatterns:n,onClickPattern:(e,n)=>{o(n),t()}})}function za({onClose:e}){const t=function(){const{blockPatternsWithPostContentBlockType:e,postType:t}=(0,m.useSelect)((e=>{const{getPatternsByBlockTypes:t}=e(E.store),{getCurrentPostType:n}=e(k.store);return{blockPatternsWithPostContentBlockType:t("core/post-content"),postType:n()}}),[]);return(0,u.useMemo)((()=>e.filter((e=>"page"===t&&!e.postTypes||Array.isArray(e.postTypes)&&e.postTypes.includes(t)))),[t,e])}();return t.length>0?(0,l.createElement)(_.Modal,{className:"edit-post-start-page-options__modal",title:(0,f.__)("Choose a pattern"),isFullScreen:!0,onRequestClose:e},(0,l.createElement)("div",{className:"edit-post-start-page-options__modal-content"},(0,l.createElement)(Ga,{blockPatterns:t,onChoosePattern:e}))):null}function Ua(){const[e,t]=(0,u.useState)(!1),n=(0,m.useSelect)((e=>{const{isCleanNewPost:t}=e(k.store),{isEditingTemplate:n,isFeatureActive:o}=e(ln);return!n()&&!o("welcomeGuide")&&t()}),[]);return!n||e?null:(0,l.createElement)(za,{onClose:()=>t(!0)})}var $a=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),Wa=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),qa=(0,l.createElement)(P.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,l.createElement)(P.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})),Za=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"m16 15.5h-8v-1.5h8zm-7.5-2.5h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm-9-3h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2zm3 0h-2v-2h2z"}),(0,l.createElement)(P.Path,{d:"m18.5 6.5h-13a.5.5 0 0 0 -.5.5v9.5a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-9.5a.5.5 0 0 0 -.5-.5zm-13-1.5h13a2 2 0 0 1 2 2v9.5a2 2 0 0 1 -2 2h-13a2 2 0 0 1 -2-2v-9.5a2 2 0 0 1 2-2z"})),ja=(0,l.createElement)(P.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,l.createElement)(P.Path,{d:"M11.1 15.8H20v-1.5h-8.9v1.5zm0-8.6v1.5H20V7.2h-8.9zM6 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-7c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));const{useCommands:Ka}=hn(un.privateApis),{useCommandContext:Ya}=hn(dn.privateApis),{getLayoutStyles:Qa}=hn(E.privateApis),Xa={
/* translators: accessibility text for the editor top bar landmark region. */
header:(0,f.__)("Editor top bar"),
/* translators: accessibility text for the editor content landmark region. */
body:(0,f.__)("Editor content"),
/* translators: accessibility text for the editor settings landmark region. */
sidebar:(0,f.__)("Editor settings"),
/* translators: accessibility text for the editor publish landmark region. */
actions:(0,f.__)("Editor publish"),
/* translators: accessibility text for the editor footer landmark region. */
footer:(0,f.__)("Editor footer")};var Ja=function(){Ka(),function(){const{openGeneralSidebar:e,closeGeneralSidebar:t,switchEditorMode:n,setIsListViewOpened:o,toggleDistractionFree:a}=(0,m.useDispatch)(ln),{openModal:r}=(0,m.useDispatch)(te),{editorMode:l,activeSidebar:s,isListViewOpen:i,isPublishSidebarEnabled:c,showBlockBreadcrumbs:d,isDistractionFree:u}=(0,m.useSelect)((e=>{const{getEditorMode:t,isListViewOpened:n,isFeatureActive:o}=e(ln);return{activeSidebar:e(te).getActiveComplementaryArea(ln.name),editorMode:t(),isListViewOpen:n(),isPublishSidebarEnabled:e(k.store).isPublishSidebarEnabled(),showBlockBreadcrumbs:o("showBlockBreadcrumbs"),isDistractionFree:e(g.store).get(ln.name,"distractionFree")}}),[]),{toggle:p}=(0,m.useDispatch)(g.store),{createInfoNotice:h}=(0,m.useDispatch)(B.store),{__unstableSaveForPreview:b}=(0,m.useDispatch)(k.store),{getCurrentPostId:_}=(0,m.useSelect)(k.store);(0,dn.useCommand)({name:"core/open-settings-sidebar",label:(0,f.__)("Toggle settings sidebar"),icon:(0,f.isRTL)()?Po:Co,callback:({close:n})=>{n(),"edit-post/document"===s?t():e("edit-post/document")}}),(0,dn.useCommand)({name:"core/open-block-inspector",label:(0,f.__)("Toggle block inspector"),icon:$a,callback:({close:n})=>{n(),"edit-post/block"===s?t():e("edit-post/block")}}),(0,dn.useCommand)({name:"core/toggle-distraction-free",label:(0,f.__)("Toggle distraction free"),callback:({close:e})=>{a(),e()}}),(0,dn.useCommand)({name:"core/toggle-spotlight-mode",label:(0,f.__)("Toggle spotlight mode"),callback:({close:e})=>{p("core/edit-post","focusMode"),e()}}),(0,dn.useCommand)({name:"core/toggle-fullscreen-mode",label:(0,f.__)("Toggle fullscreen mode"),icon:Wa,callback:({close:e})=>{p("core/edit-post","fullscreenMode"),e()}}),(0,dn.useCommand)({name:"core/toggle-list-view",label:(0,f.__)("Toggle list view"),icon:qn,callback:({close:e})=>{o(!i),e()}}),(0,dn.useCommand)({name:"core/toggle-top-toolbar",label:(0,f.__)("Toggle top toolbar"),callback:({close:e})=>{p("core/edit-post","fixedToolbar"),u&&a(),e()}}),(0,dn.useCommand)({name:"core/toggle-code-editor",label:(0,f.__)("Toggle code editor"),icon:qa,callback:({close:e})=>{n("visual"===l?"text":"visual"),e()}}),(0,dn.useCommand)({name:"core/open-preferences",label:(0,f.__)("Editor preferences"),callback:()=>{r(On)}}),(0,dn.useCommand)({name:"core/open-shortcut-help",label:(0,f.__)("Keyboard shortcuts"),icon:Za,callback:()=>{r(De)}}),(0,dn.useCommand)({name:"core/toggle-breadcrumbs",label:d?(0,f.__)("Hide block breadcrumbs"):(0,f.__)("Show block breadcrumbs"),callback:({close:e})=>{p("core/edit-post","showBlockBreadcrumbs"),e(),h(d?(0,f.__)("Breadcrumbs hidden."):(0,f.__)("Breadcrumbs visible."),{id:"core/edit-post/toggle-breadcrumbs/notice",type:"snackbar"})}}),(0,dn.useCommand)({name:"core/toggle-publish-sidebar",label:c?(0,f.__)("Disable pre-publish checklist"):(0,f.__)("Enable pre-publish checklist"),icon:ja,callback:({close:e})=>{e(),p("core/edit-post","isPublishSidebarEnabled"),h(c?(0,f.__)("Pre-publish checklist off."):(0,f.__)("Pre-publish checklist on."),{id:"core/edit-post/publish-sidebar/notice",type:"snackbar"})}}),(0,dn.useCommand)({name:"core/preview-link",label:(0,f.__)("Preview in a new tab"),icon:C,callback:async({close:e})=>{e();const t=_(),n=await b();window.open(n,`wp-preview-${t}`)}})}(),(0,E.useBlockCommands)();const e=(0,v.useViewportMatch)("medium","<"),t=(0,v.useViewportMatch)("huge",">="),n=(0,v.useViewportMatch)("large"),{openGeneralSidebar:o,closeGeneralSidebar:a,setIsInserterOpened:r}=(0,m.useDispatch)(ln),{createErrorNotice:s}=(0,m.useDispatch)(B.store),{mode:i,isFullscreenActive:c,isRichEditingEnabled:d,sidebarIsOpened:p,hasActiveMetaboxes:h,hasFixedToolbar:b,previousShortcut:y,nextShortcut:w,hasBlockSelected:S,isInserterOpened:P,isListViewOpened:x,showIconLabels:M,isDistractionFree:I,showBlockBreadcrumbs:A,isTemplateMode:D,documentLabel:L}=(0,m.useSelect)((e=>{const{getEditorSettings:t,getPostTypeLabel:n}=e(k.store),o=t(),a=n();return{isTemplateMode:e(ln).isEditingTemplate(),hasFixedToolbar:e(ln).isFeatureActive("fixedToolbar"),sidebarIsOpened:!(!e(te).getActiveComplementaryArea(ln.name)&&!e(ln).isPublishSidebarOpened()),isFullscreenActive:e(ln).isFeatureActive("fullscreenMode"),isInserterOpened:e(ln).isInserterOpened(),isListViewOpened:e(ln).isListViewOpened(),mode:e(ln).getEditorMode(),isRichEditingEnabled:o.richEditingEnabled,hasActiveMetaboxes:e(ln).hasMetaBoxes(),previousShortcut:e(Be.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(Be.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:e(ln).isFeatureActive("showIconLabels"),isDistractionFree:e(ln).isFeatureActive("distractionFree"),showBlockBreadcrumbs:e(ln).isFeatureActive("showBlockBreadcrumbs"),
// translators: Default label for the Document in the Block Breadcrumb.
documentLabel:a||(0,f._x)("Document","noun"),hasBlockSelected:e(E.store).getBlockSelectionStart()}}),[]);Ya(S?"block-selection-edit":"post-editor-edit");const V=function(){const{hasThemeStyleSupport:e,editorSettings:t}=(0,m.useSelect)((e=>({hasThemeStyleSupport:e(ln).isFeatureActive("themeStyles"),editorSettings:e(k.store).getEditorSettings()})),[]);return(0,u.useMemo)((()=>{var n,o;const a=null!==(n=t.styles?.filter((e=>e.__unstableType&&"theme"!==e.__unstableType)))&&void 0!==n?n:[],r=[...t.defaultEditorStyles,...a],l=e&&a.length!==(null!==(o=t.styles?.length)&&void 0!==o?o:0);return t.disableLayoutStyles||l||r.push({css:Qa({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})}),l?t.styles:r}),[t.defaultEditorStyles,t.disableLayoutStyles,t.styles,e])}();(0,u.useEffect)((()=>{p&&!t&&r(!1)}),[p,t]),(0,u.useEffect)((()=>{P&&!t&&a()}),[P,t]);const[F,O]=(0,u.useState)(!1),[R,H]=(0,u.useState)(null),G=(0,u.useCallback)((e=>{"function"==typeof F&&F(e),O(!1)}),[F]);M?document.body.classList.add("show-icon-labels"):document.body.classList.remove("show-icon-labels");const z=N()("edit-post-layout","is-mode-"+i,{"is-sidebar-opened":p,"has-fixed-toolbar":b,"has-metaboxes":h,"is-distraction-free":I&&n,"is-entity-save-view-open":!!F}),U=x?(0,f.__)("Document Overview"):(0,f.__)("Block Library");return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(he,{isActive:c}),(0,l.createElement)(Gn,null),(0,l.createElement)(k.UnsavedChangesWarning,null),(0,l.createElement)(k.AutosaveMonitor,null),(0,l.createElement)(k.LocalAutosaveMonitor,null),(0,l.createElement)(kn,null),(0,l.createElement)(k.EditorKeyboardShortcutsRegister,null),(0,l.createElement)(k.EditorKeyboardShortcuts,null),(0,l.createElement)(Ee,{isDistractionFree:I&&n,className:z,labels:{...Xa,secondarySidebar:U},header:(0,l.createElement)(Eo,{setEntitiesSavedStatesCallback:O,setListViewToggleElement:H}),editorNotices:(0,l.createElement)(k.EditorNotices,null),secondarySidebar:"visual"===i&&P?(0,l.createElement)(vo,null):"visual"===i&&x?(0,l.createElement)(ko,{listViewToggleElement:R}):null,sidebar:(!e||p)&&(0,l.createElement)(l.Fragment,null,!e&&!p&&(0,l.createElement)("div",{className:"edit-post-layout__toggle-sidebar-panel"},(0,l.createElement)(_.Button,{variant:"secondary",className:"edit-post-layout__toggle-sidebar-panel-button",onClick:()=>o(S?"edit-post/block":"edit-post/document"),"aria-expanded":!1},S?(0,f.__)("Open block settings"):(0,f.__)("Open document settings"))),(0,l.createElement)(ge.Slot,{scope:"core/edit-post"})),notices:(0,l.createElement)(k.EditorSnackbars,null),content:(0,l.createElement)(l.Fragment,null,!I&&(0,l.createElement)(k.EditorNotices,null),("text"===i||!d)&&(0,l.createElement)(mn,null),d&&"visual"===i&&(0,l.createElement)(Sn,{styles:V}),!I&&!D&&(0,l.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,l.createElement)(_a,{location:"normal"}),(0,l.createElement)(_a,{location:"advanced"})),e&&p&&(0,l.createElement)(_.ScrollLock,null)),footer:!I&&!e&&A&&d&&"visual"===i&&(0,l.createElement)("div",{className:"edit-post-layout__footer"},(0,l.createElement)(E.BlockBreadcrumb,{rootLabelText:L})),actions:(0,l.createElement)(Ha,{closeEntitiesSavedStates:G,isEntitiesSavedStatesOpen:F,setEntitiesSavedStatesCallback:O}),shortcuts:{previous:y,next:w}}),(0,l.createElement)(Rn,null),(0,l.createElement)(Oe,null),(0,l.createElement)(Ba,null),(0,l.createElement)(k.PostSyncStatusModal,null),(0,l.createElement)(Ua,null),(0,l.createElement)(T.PluginArea,{onError:function(e){s((0,f.sprintf)(/* translators: %s: plugin name */
(0,f.__)('The "%s" plugin has encountered an error and cannot be rendered.'),e))}}),(0,l.createElement)(Pa,null))};function er({postId:e}){return(e=>{const{hasBlockSelection:t,isEditorSidebarOpened:n}=(0,m.useSelect)((e=>({hasBlockSelection:!!e(E.store).getBlockSelectionStart(),isEditorSidebarOpened:e(rn).isEditorSidebarOpened()})),[e]),{openGeneralSidebar:o}=(0,m.useDispatch)(rn);(0,u.useEffect)((()=>{n&&o(t?"edit-post/block":"edit-post/document")}),[t,n])})(e),(e=>{const{newPermalink:t}=(0,m.useSelect)((e=>({newPermalink:e(k.store).getCurrentPost().link})),[e]),n=(0,u.useRef)();(0,u.useEffect)((()=>{n.current=document.querySelector("#wp-admin-bar-preview a")||document.querySelector("#wp-admin-bar-view a")}),[e]),(0,u.useEffect)((()=>{t&&n.current&&n.current.setAttribute("href",t)}),[t])})(e),null}const{ExperimentalEditorProvider:tr}=hn(k.privateApis);var nr=function({postId:e,postType:t,settings:n,initialEdits:o,...a}){const{hasFixedToolbar:r,focusMode:i,isDistractionFree:c,hasInlineToolbar:d,post:p,preferredStyleVariations:h,hiddenBlockTypes:b,blockTypes:E,keepCaretInsideBlock:f,isTemplateMode:v,template:y}=(0,m.useSelect)((n=>{var o;const{isFeatureActive:a,isEditingTemplate:r,getEditedPostTemplate:l,getHiddenBlockTypes:i}=n(ln),{getEntityRecord:c,getPostType:d,getEntityRecords:u,canUser:m}=n(S.store),{getEditorSettings:p}=n(k.store),{getBlockTypes:h}=n(s.store);let b;if(["wp_template","wp_template_part"].includes(t)){const n=u("postType",t,{wp_id:e});b=n?.[0]}else b=c("postType",t,e);const _=p().supportsTemplateMode,E=null!==(o=d(t)?.viewable)&&void 0!==o&&o,f=m("create","templates");return{hasFixedToolbar:a("fixedToolbar"),focusMode:a("focusMode"),isDistractionFree:a("distractionFree"),hasInlineToolbar:a("inlineToolbar"),preferredStyleVariations:n(g.store).get("core/edit-post","preferredStyleVariations"),hiddenBlockTypes:i(),blockTypes:h(),keepCaretInsideBlock:a("keepCaretInsideBlock"),isTemplateMode:r(),template:_&&E&&f?l():null,post:b}}),[t,e]),{updatePreferredStyleVariations:w,setIsInserterOpened:P}=(0,m.useDispatch)(ln),C=(0,u.useMemo)((()=>{const e={...n,__experimentalPreferredStyleVariations:{value:h,onChange:w},hasFixedToolbar:r,focusMode:i,isDistractionFree:c,hasInlineToolbar:d,__experimentalSetIsInserterOpened:P,keepCaretInsideBlock:f,defaultAllowedBlockTypes:n.allowedBlockTypes};if(b.length>0){const t=!0===n.allowedBlockTypes?E.map((({name:e})=>e)):n.allowedBlockTypes||[];e.allowedBlockTypes=t.filter((e=>!b.includes(e)))}return e}),[n,r,d,i,c,b,E,h,P,w,f]);return p?(0,l.createElement)(_.SlotFillProvider,null,(0,l.createElement)(tr,{settings:C,post:p,initialEdits:o,useSubRegistry:!1,__unstableTemplate:v?y:void 0,...a},(0,l.createElement)(k.ErrorBoundary,null,(0,l.createElement)(dn.CommandMenu,null),(0,l.createElement)(er,{postId:e}),(0,l.createElement)(Ja,null)),(0,l.createElement)(k.PostLockedModal,null))):null},or=({allowedBlocks:e,icon:t,label:n,onClick:o,small:a,role:r})=>(0,l.createElement)(E.BlockSettingsMenuControls,null,(({selectedBlocks:s,onClose:i})=>((e,t)=>{return!Array.isArray(t)||(n=t,0===e.filter((e=>!n.includes(e))).length);var n})(s,e)?(0,l.createElement)(_.MenuItem,{onClick:(0,v.compose)(o,i),icon:t,label:a?n:void 0,role:r},!a&&n):null)),ar=(0,v.compose)((0,T.withPluginContext)(((e,t)=>{var n;return{as:null!==(n=t.as)&&void 0!==n?n:_.MenuItem,icon:t.icon||e.icon,name:"core/edit-post/plugin-more-menu"}})))(se);function rr(e){return(0,l.createElement)(ce,{__unstableExplicitMenuItem:!0,scope:"core/edit-post",...e})}function lr(e,t,n,o,a){const r=document.getElementById(e),c=(0,u.createRoot)(r);return(0,m.dispatch)(g.store).setDefaults("core/edit-post",{editorMode:"visual",fixedToolbar:!1,fullscreenMode:!0,hiddenBlockTypes:[],inactivePanels:[],isPublishSidebarEnabled:!0,openPanels:["post-status"],preferredStyleVariations:{},showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,themeStyles:!0,welcomeGuide:!0,welcomeGuideTemplate:!0}),(0,m.dispatch)(s.store).reapplyBlockTypeFilters(),(0,m.select)(ln).isFeatureActive("showListViewByDefault")&&!(0,m.select)(ln).isFeatureActive("distractionFree")&&(0,m.dispatch)(ln).setIsListViewOpened(!0),(0,i.registerCoreBlocks)(),(0,h.registerLegacyWidgetBlock)({inserter:!1}),(0,h.registerWidgetGroupBlock)({inserter:!1}),(0,i.__experimentalRegisterExperimentalCoreBlocks)({enableFSEBlocks:o.__unstableEnableFullSiteEditingBlocks}),(0,p.addFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter",((e,t)=>!(!(0,m.select)(ln).isEditingTemplate()&&"core/template-part"===t.name)&&e)),(0,p.addFilter)("blockEditor.__unstableCanInsertBlockType","removePostContentFromInserter",((e,t,n,{getBlockParentsByBlockName:o})=>(0,m.select)(ln).isEditingTemplate()||"core/post-content"!==t.name?e:o(n,"core/query").length>0)),"Standards"!=("CSS1Compat"===document.compatMode?"Standards":"Quirks")&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone")&&window.addEventListener("scroll",(e=>{const t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(window.scrollY>100&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0]&&window.scrollTo(0,0))})),window.addEventListener("dragover",(e=>e.preventDefault()),!1),window.addEventListener("drop",(e=>e.preventDefault()),!1),c.render((0,l.createElement)(nr,{settings:o,postId:n,postType:t,initialEdits:a})),c}function sr(){d()("wp.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}}(),(window.wp=window.wp||{}).editPost=o}();
//# sourceMappingURL=index.min.js.map