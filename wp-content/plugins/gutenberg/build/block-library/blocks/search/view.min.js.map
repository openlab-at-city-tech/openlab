{"version":3,"file":"./build/block-library/blocks/search/view.min.js","mappings":"AAAAA,OAAOC,iBAAkB,oBAAoB,KAC5C,MAAMC,EAAc,sCAEpBC,MAAMC,KACLC,SAASC,uBACR,4CAEAC,SAAWC,IACZ,MAAMC,EAAcD,EAAME,cAAe,2BACnCC,EAAeH,EAAME,cAAe,4BACpCE,EAAcJ,EAAME,cAAe,2BACnCG,EAAYF,EAAaG,aAAc,cACvCC,EAAKN,EAAYK,aAAc,MAE/BE,EAAsBC,GACtBA,GACJR,EAAYS,gBAAiB,eAC7BT,EAAYS,gBAAiB,YAC7BP,EAAaO,gBAAiB,iBAC9BP,EAAaO,gBAAiB,iBAC9BP,EAAaQ,aAAc,OAAQ,UACnCR,EAAaQ,aAAc,aAAc,iBAElCX,EAAMY,UAAUC,OAAQnB,KAGhCS,EAAaO,gBAAiB,QAC9BT,EAAYU,aAAc,cAAe,QACzCV,EAAYU,aAAc,WAAY,MACtCR,EAAaQ,aAAc,gBAAiB,SAC5CR,EAAaQ,aAAc,gBAAiBJ,GAC5CJ,EAAaQ,aAAc,aAAcN,GAClCL,EAAMY,UAAUE,IAAKpB,IAGvBqB,EAAoBC,GAClBA,EAAEC,OAAOC,QAAS,oBAIV,WAAVF,EAAEG,KACNhB,EAAaiB,QACNZ,GAAmB,SAF3B,EAHQA,GAAmB,GAStBa,EAAsBL,IACtBhB,EAAMY,UAAUU,SAAU5B,KAC9BsB,EAAEO,iBACFtB,EAAYmB,QACZZ,GAAmB,GACnB,EAGFL,EAAaO,gBAAiB,QAC9BT,EAAYR,iBAAkB,WAAauB,IAC1CD,EAAiBC,EAAjB,IAEDb,EAAaV,iBAAkB,QAAS4B,GACxClB,EAAaV,iBAAkB,WAAauB,IAC3CD,EAAiBC,EAAjB,IAEIZ,GACJA,EAAYX,iBAAkB,QAAS4B,GAExCxB,SAAS2B,KAAK/B,iBAAkB,QAASsB,EAAzC,GA9DD","sources":["webpack://wp/./packages/block-library/build-module/search/@wordpress/block-library/src/search/view.js"],"sourcesContent":["window.addEventListener( 'DOMContentLoaded', () => {\n\tconst hiddenClass = 'wp-block-search__searchfield-hidden';\n\n\tArray.from(\n\t\tdocument.getElementsByClassName(\n\t\t\t'wp-block-search__button-behavior-expand'\n\t\t)\n\t).forEach( ( block ) => {\n\t\tconst searchField = block.querySelector( '.wp-block-search__input' );\n\t\tconst searchButton = block.querySelector( '.wp-block-search__button' );\n\t\tconst searchLabel = block.querySelector( '.wp-block-search__label' );\n\t\tconst ariaLabel = searchButton.getAttribute( 'aria-label' );\n\t\tconst id = searchField.getAttribute( 'id' );\n\n\t\tconst toggleSearchField = ( showSearchField ) => {\n\t\t\tif ( showSearchField ) {\n\t\t\t\tsearchField.removeAttribute( 'aria-hidden' );\n\t\t\t\tsearchField.removeAttribute( 'tabindex' );\n\t\t\t\tsearchButton.removeAttribute( 'aria-expanded' );\n\t\t\t\tsearchButton.removeAttribute( 'aria-controls' );\n\t\t\t\tsearchButton.setAttribute( 'type', 'submit' );\n\t\t\t\tsearchButton.setAttribute( 'aria-label', 'Submit Search' );\n\n\t\t\t\treturn block.classList.remove( hiddenClass );\n\t\t\t}\n\n\t\t\tsearchButton.removeAttribute( 'type' );\n\t\t\tsearchField.setAttribute( 'aria-hidden', 'true' );\n\t\t\tsearchField.setAttribute( 'tabindex', '-1' );\n\t\t\tsearchButton.setAttribute( 'aria-expanded', 'false' );\n\t\t\tsearchButton.setAttribute( 'aria-controls', id );\n\t\t\tsearchButton.setAttribute( 'aria-label', ariaLabel );\n\t\t\treturn block.classList.add( hiddenClass );\n\t\t};\n\n\t\tconst hideSearchField = ( e ) => {\n\t\t\tif ( ! e.target.closest( '.wp-block-search' ) ) {\n\t\t\t\treturn toggleSearchField( false );\n\t\t\t}\n\n\t\t\tif ( e.key === 'Escape' ) {\n\t\t\t\tsearchButton.focus();\n\t\t\t\treturn toggleSearchField( false );\n\t\t\t}\n\t\t};\n\n\t\tconst handleButtonClick = ( e ) => {\n\t\t\tif ( block.classList.contains( hiddenClass ) ) {\n\t\t\t\te.preventDefault();\n\t\t\t\tsearchField.focus();\n\t\t\t\ttoggleSearchField( true );\n\t\t\t}\n\t\t};\n\n\t\tsearchButton.removeAttribute( 'type' );\n\t\tsearchField.addEventListener( 'keydown', ( e ) => {\n\t\t\thideSearchField( e );\n\t\t} );\n\t\tsearchButton.addEventListener( 'click', handleButtonClick );\n\t\tsearchButton.addEventListener( 'keydown', ( e ) => {\n\t\t\thideSearchField( e );\n\t\t} );\n\t\tif ( searchLabel ) {\n\t\t\tsearchLabel.addEventListener( 'click', handleButtonClick );\n\t\t}\n\t\tdocument.body.addEventListener( 'click', hideSearchField );\n\t} );\n} );\n"],"names":["window","addEventListener","hiddenClass","Array","from","document","getElementsByClassName","forEach","block","searchField","querySelector","searchButton","searchLabel","ariaLabel","getAttribute","id","toggleSearchField","showSearchField","removeAttribute","setAttribute","classList","remove","add","hideSearchField","e","target","closest","key","focus","handleButtonClick","contains","preventDefault","body"],"sourceRoot":""}