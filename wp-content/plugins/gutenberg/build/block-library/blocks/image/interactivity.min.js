"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[9],{9:(e,t,o)=>{var i=o(744);const n=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'];(0,i.h)({actions:{core:{image:{showLightbox:({context:e,event:t})=>{e.core.image.initialized=!0,e.core.image.lastFocusedElement=window.document.activeElement,e.core.image.scrollDelta=0;const o=document.createElement("img");o.onload=function(){e.core.image.lightboxEnabled=!0,"zoom"===e.core.image.lightboxAnimation&&function(e,t,o){let i=e.naturalWidth,n=e.naturalHeight;const a=t.core.image.figureRef.clientWidth;let l=0;a>480?l=40:a>1920&&(l=80);const c=t.core.image.figureRef.clientHeight-80,r=Math.abs(Math.min(a-i,0)),s=Math.abs(Math.min(c-n,0));(r>0||s>0)&&(r>=s||c>=a?(i=a-2*l,n=e.naturalHeight*(i/e.naturalWidth)):(n=c,i=e.naturalWidth*(n/e.naturalHeight)));const{x:g,y:m}=o.target.nextElementSibling.getBoundingClientRect(),d=o.target.nextElementSibling.offsetWidth/i,h=o.target.nextElementSibling.offsetHeight/n;let b=0;b=i>=a?l:(a-i)/2;let u=0;u=n>=c?40:(c-n)/2+40;const f=document.documentElement;f.style.setProperty("--lightbox-scale-width",d),f.style.setProperty("--lightbox-scale-height",h),f.style.setProperty("--lightbox-image-max-width",i+"px"),f.style.setProperty("--lightbox-image-max-height",n+"px"),f.style.setProperty("--lightbox-initial-left-position",g+"px"),f.style.setProperty("--lightbox-initial-top-position",m+"px"),f.style.setProperty("--lightbox-target-left-position",b+"px"),f.style.setProperty("--lightbox-target-top-position",u+"px")}(o,e,t),document.documentElement.classList.add("has-lightbox-open")},o.setAttribute("src",e.core.image.imageSrc)},hideLightbox:async({context:e,event:t})=>{if(e.core.image.hideAnimationEnabled=!0,e.core.image.lightboxEnabled){if("fade"===e.core.image.lightboxAnimation){if(e.core.image.scrollDelta+=t.deltaY,"mousewheel"===t.type&&Math.abs(window.scrollY-e.core.image.scrollDelta)<10)return}else if("zoom"===e.core.image.lightboxAnimation){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft;window.onscroll=function(){window.scrollTo(t,e)},setTimeout((function(){window.onscroll=function(){}}),400)}document.documentElement.classList.remove("has-lightbox-open"),e.core.image.lightboxEnabled=!1,e.core.image.lastFocusedElement.focus()}},handleKeydown:({context:e,actions:t,event:o})=>{e.core.image.lightboxEnabled&&("Tab"!==o.key&&9!==o.keyCode||(o.shiftKey&&window.document.activeElement===e.core.image.firstFocusableElement?(o.preventDefault(),e.core.image.lastFocusableElement.focus()):o.shiftKey||window.document.activeElement!==e.core.image.lastFocusableElement||(o.preventDefault(),e.core.image.firstFocusableElement.focus())),"Escape"!==o.key&&27!==o.keyCode||t.core.image.hideLightbox({context:e,event:o}))}}}},selectors:{core:{image:{roleAttribute:({context:e})=>e.core.image.lightboxEnabled?"dialog":"",imageSrc:({context:e})=>e.core.image.initialized?e.core.image.imageSrc:""}}},effects:{core:{image:{initLightbox:async({context:e,ref:t})=>{if(e.core.image.figureRef=t.querySelector("figure"),e.core.image.imageRef=t.querySelector("img"),e.core.image.lightboxEnabled){const o=t.querySelectorAll(n);e.core.image.firstFocusableElement=o[0],e.core.image.lastFocusableElement=o[o.length-1],t.querySelector(".close-button").focus()}}}}}})}},e=>{e.O(0,[666],(()=>(9,e(e.s=9)))),e.O()}]);
//# sourceMappingURL=interactivity.min.js.map