/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.settings=tribe.settings||{},tribe.settings.fields=tribe.settings.fields||{},tribe.settings.fields.image={},function($,obj){"use strict";var $document=$(document);obj.frame=!1,obj.selectors={imageFieldContainer:".tribe-field-image",addImgLink:".tec-admin__settings-image-field-btn-add",removeImgLink:".tec-admin__settings-image-field-btn-remove",imgContainer:".tec-admin__settings-image-field-image-container",imgIdInput:".tec-admin__settings-image-field-input"},obj.hideElements=function($fieldParent){const imageIsSet=""!==$fieldParent.find(obj.selectors.imgIdInput).val();$fieldParent.find(obj.selectors.addImgLink).toggleClass("hidden",imageIsSet),$fieldParent.find(obj.selectors.removeImgLink).toggleClass("hidden",!imageIsSet),$fieldParent.find(obj.selectors.imgContainer).toggleClass("hidden",!imageIsSet)},obj.onImageSelect=function($fieldParent){const attachment=obj.frame.state().get("selection").first().toJSON(),$imgContainer=$fieldParent.find(obj.selectors.imgContainer);$imgContainer.find("img").length>0?$imgContainer.find("img").attr("src",attachment.url):$imgContainer.html('<img src="'+attachment.url+'" />'),$fieldParent.find(obj.selectors.imgIdInput).val(attachment.url),obj.hideElements($fieldParent)},obj.addImage=function(e){e.preventDefault();const $fieldParent=$(e.target).closest(obj.selectors.imageFieldContainer);obj.frame||(obj.frame=wp.media({title:$fieldParent.data("select-image-text"),button:{text:$fieldParent.data("use-image-text")},multiple:!1})),obj.frame.open(),obj.frame.off("select").on("select",(function(){obj.onImageSelect($fieldParent)}))},obj.removeImage=function(e){e.preventDefault();const $fieldParent=$(e.target).closest(obj.selectors.imageFieldContainer);$fieldParent.find(obj.selectors.imgIdInput).val(""),$fieldParent.find(obj.selectors.imgContainer).html(""),obj.hideElements($fieldParent)},obj.bindEvents=function(){$document.on("click",obj.selectors.addImgLink,obj.addImage),$document.on("click",obj.selectors.removeImgLink,obj.removeImage)},obj.init=function(){$(obj.selectors.imageFieldContainer).each((function(x,elm){obj.hideElements($(elm))})),obj.bindEvents()},$(obj.init)}(jQuery,tribe.settings.fields.image);