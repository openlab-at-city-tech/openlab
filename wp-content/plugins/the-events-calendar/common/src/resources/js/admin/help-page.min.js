/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

tribe.helpPage=tribe.helpPage||{},function($,obj){"use strict";obj.selectors={copyButton:".system-info-copy-btn",optInMsg:".tribe-sysinfo-optin-msg",autoInfoOptIn:"#tribe_auto_sysinfo_opt_in"},obj.setup=function(){obj.setupSystemInfo(),obj.setupCopyButton()},obj.setupCopyButton=function(){if("undefined"!=typeof tribe_system_info){var clipboard=new ClipboardJS(obj.selectors.copyButton),button_icon='<span class="dashicons dashicons-clipboard license-btn"></span>',button_text=tribe_system_info.clipboard_btn_text;$(".system-info-copy-btn").on("click",(function(e){e.preventDefault()})),clipboard.on("success",(function(event){event.clearSelection(),event.trigger.innerHTML=button_icon+'<span class="optin-success">'+tribe_system_info.clipboard_copied_text+"<span>",window.setTimeout((function(){event.trigger.innerHTML=button_icon+button_text}),5e3)})),clipboard.on("error",(function(event){event.trigger.innerHTML=button_icon+'<span class="optin-fail">'+tribe_system_info.clipboard_fail_text+"<span>",window.setTimeout((function(){event.trigger.innerHTML=button_icon+button_text}),5e3)}))}},obj.setupSystemInfo=function(){"undefined"!=typeof tribe_system_info&&(obj.$system_info_opt_in=$(obj.selectors.autoInfoOptIn),obj.$system_info_opt_in_msg=$(obj.selectors.optInMsg),obj.$system_info_opt_in.on("change",(function(){this.checked?obj.doAjaxRequest("generate"):obj.doAjaxRequest("remove")})))},obj.doAjaxRequest=function(generate){var request={action:"tribe_toggle_sysinfo_optin",confirm:tribe_system_info.sysinfo_optin_nonce,generate_key:generate};$.post(ajaxurl,request,(function(results){if(results.success)obj.$system_info_opt_in_msg.html("<p class='optin-success'>"+results.data+"</p>");else{var html="<p class='optin-fail'>"+tribe_system_info.sysinfo_error_message_text+"</p>";results.data&&(results.data.message?html+="<p>"+results.data.message+"</p>":results.message&&(html+="<p>"+results.message+"</p>"),results.data.code&&(html+="<p>"+tribe_system_info.sysinfo_error_code_text+" "+results.data.code+"</p>"),results.data.status&&(html+="<p>"+tribe_system_info.sysinfo_error_status_text+results.data.status+"</p>")),obj.$system_info_opt_in_msg.html(html),$(obj.selectors.autoInfoOptIn).prop("checked",!1)}}))},$(obj.setup)}(jQuery,tribe.helpPage);