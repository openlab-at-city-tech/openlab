/**
 * This JS file was auto-generated via Terser.
 *
 * Contributors should avoid editing this file, but instead edit the associated
 * non minified file file. For more information, check out our engineering docs
 * on how we handle JS minification in our engineering docs.
 *
 * @see: https://evnt.is/dev-docs-minification
 */

var tribe_logger_admin=tribe_logger_admin||{},tribe_logger_data=tribe_logger_data||{};!function($,obj){var working=!1,current_view="",current_engine="",view_changed=!1,$controls=$("#tribe-log-controls"),$options=$controls.find("select"),$spinner=$controls.find(".working"),$viewer=$("#tribe-log-viewer"),$download_link=$("a.download_log");function on_success(data){unfreeze(),Array.isArray(data.data.entries)&&($viewer.html(function to_table(data_array){var html="<table>";for(var row in data_array){for(var cell in html+="<tr>",data_array[row])html+="<td>"+data_array[row][cell]+"</td>";html+="</tr>"}return html+"</table>"}(data.data.entries)),update_download_link())}function update_download_link(){if(!(1>$download_link.length)){var url=$download_link.attr("href"),log=encodeURI(get_current_view()),matches=url.match(/&log=([a-z0-9\-]+)/i);url=Array.isArray(matches)&&2===matches.length?url.replace(matches[0],"&log="+log):url.indexOf("?")?url+"&log="+log:url+"?log="+log,$download_link.attr("href",url)}}function on_error(){unfreeze()}function unfreeze(){working=!1,$options.prop("disabled",!1),$spinner.addClass("hidden")}function get_current_view(){return $("#log-selector").find(":selected").attr("name")}function get_current_engine(){return $("#log-engine").find(":selected").attr("name")}current_view=get_current_view(),current_engine=get_current_engine(),update_download_link(),$options.on("change",(function update(){working||(!function detect_view_change(){var new_view=get_current_view(),new_engine=get_current_engine();new_view!==current_view||new_engine!==current_engine?(view_changed=!0,current_view=new_view,current_engine=new_engine):view_changed=!1}(),function freeze(){working=!0,$options.prop("disabled",!0),$spinner.removeClass("hidden")}(),function request(){var data={action:"tribe_logging_controls",check:tribe_logger_data.check,"log-level":$("#log-level").find(":selected").attr("name"),"log-engine":$("#log-engine").find(":selected").attr("name")};view_changed&&(data["log-view"]=current_view);$.ajax(ajaxurl,{method:"POST",success:on_success,error:on_error,dataType:"json",data:data})}())}))}(jQuery);