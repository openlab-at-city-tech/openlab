(function(){var t,e;t=window.jQuery,e=t(window),t.fn.stick_in_parent=function(a){var n,i,s,d,o,l,r,c,p,y,h,u;for(null==a&&(a={}),u=a.sticky_class,o=a.inner_scrolling,h=a.recalc_every,y=a.parent,c=a.offset_top,r=a.spacer,i=a.bottoming,null==c&&(c=0),null==y&&(y=void 0),null==o&&(o=!0),null==u&&(u="is_stuck"),n=t(document),null==i&&(i=!0),p=function(t){var e;return window.getComputedStyle?(t=window.getComputedStyle(t[0]),e=parseFloat(t.getPropertyValue("width"))+parseFloat(t.getPropertyValue("margin-left"))+parseFloat(t.getPropertyValue("margin-right")),"border-box"!==t.getPropertyValue("box-sizing")&&(e+=parseFloat(t.getPropertyValue("border-left-width"))+parseFloat(t.getPropertyValue("border-right-width"))+parseFloat(t.getPropertyValue("padding-left"))+parseFloat(t.getPropertyValue("padding-right"))),e):t.outerWidth(!0)},s=function(a,s,d,l,m,f,g,v){var b,w,_,k,C,x,j,T,z,D,F,P;if(!a.data("sticky_kit")){if(a.data("sticky_kit",!0),C=n.height(),j=a.parent(),null!=y&&(j=j.closest(y)),!j.length)throw"failed to find stick parent";if(b=_=!1,(F=null!=r?r&&a.closest(r):t("<div />"))&&F.css("position",a.css("position")),T=function(){var t,e,i;if(!v&&(C=n.height(),t=parseInt(j.css("border-top-width"),10),e=parseInt(j.css("padding-top"),10),s=parseInt(j.css("padding-bottom"),10),d=j.offset().top+t+e,l=j.height(),_&&(b=_=!1,null==r&&(a.insertAfter(F),F.detach()),a.css({position:"",top:"",width:"",bottom:""}).removeClass(u),i=!0),m=a.offset().top-(parseInt(a.css("margin-top"),10)||0)-c,f=a.outerHeight(!0),g=a.css("float"),F&&F.css({width:p(a),height:f,display:a.css("display"),"vertical-align":a.css("vertical-align"),float:g}),i))return P()},T(),f!==l)return k=void 0,x=c,D=h,P=function(){var t,p,y,w;if(!v&&(y=!1,null!=D&&(--D,0>=D&&(D=h,T(),y=!0)),y||n.height()===C||T(),y=e.scrollTop(),null!=k&&(p=y-k),k=y,_?(i&&(w=y+f+x>l+d,b&&!w&&(b=!1,a.css({position:"fixed",bottom:"",top:x}).trigger("sticky_kit:unbottom"))),y<m&&(_=!1,x=c,null==r&&("left"!==g&&"right"!==g||a.insertAfter(F),F.detach()),t={position:"",width:"",top:""},a.css(t).removeClass(u).trigger("sticky_kit:unstick")),o&&(t=e.height(),f+c>t&&!b&&(x-=p,x=Math.max(t-f,x),x=Math.min(c,x),_&&a.css({top:x+"px"})))):y>m&&(_=!0,t={position:"fixed",top:x},t.width="border-box"===a.css("box-sizing")?a.outerWidth()+"px":a.width()+"px",a.css(t).addClass(u),null==r&&(a.after(F),"left"!==g&&"right"!==g||F.append(a)),a.trigger("sticky_kit:stick")),_&&i&&(null==w&&(w=y+f+x>l+d),!b&&w)))return b=!0,"static"===j.css("position")&&j.css({position:"relative"}),a.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom")},z=function(){return T(),P()},w=function(){if(v=!0,e.off("touchmove",P),e.off("scroll",P),e.off("resize",z),t(document.body).off("sticky_kit:recalc",z),a.off("sticky_kit:detach",w),a.removeData("sticky_kit"),a.css({position:"",bottom:"",top:"",width:""}),j.position("position",""),_)return null==r&&("left"!==g&&"right"!==g||a.insertAfter(F),F.remove()),a.removeClass(u)},e.on("touchmove",P),e.on("scroll",P),e.on("resize",z),t(document.body).on("sticky_kit:recalc",z),a.on("sticky_kit:detach",w),setTimeout(P,0)}},d=0,l=this.length;d<l;d++)a=this[d],s(t(a));return this}}).call(this),function(t){"use strict";t(document).ready(function(){function e(){var e=t(".sydney-dashboard-container");"sydney"!=e.data("theme")&&(t("#save-templates").removeClass("saved"),t(window).on("beforeunload",function(){if(!t("#save-templates").hasClass("saved"))return window.sydney_dashboard.i18n.unsaved_changes}))}t("body");var a=t(".wp-header-end"),n=t(".sydney-dashboard-notice");a.length&&n.length&&(a.after(n),n.addClass("show"));var i=t(".sydney-dashboard-dismissable");i.length&&i.on("click",function(){i.parent().hide(),t.post(window.sydney_dashboard.ajax_url,{action:"sydney_dismissed_handler",nonce:window.sydney_dashboard.nonce,notice:i.data("notice")})});const s=t("#save-templates");s.length&&s.on("click",function(e){e.preventDefault(),t(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.saving);var a=[];t("#template-builder .template-item").each(function(){var e=t(this).data("id"),n=t(this).find('input[name="template_name"]').val(),i=t(this).find('input[name="conditions"]').val(),s=t(this).find('input[name="header"]').val(),d=t(this).find(".template-part.header").data("page-builder"),o=t(this).find('input[name="page_title"]').val(),l=t(this).find(".template-part.page_title").data("page-builder"),r=t(this).find('input[name="content"]').val(),c=t(this).find(".template-part.content").data("page-builder"),p=t(this).find('input[name="footer"]').val(),y=t(this).find(".template-part.footer").data("page-builder"),h={id:e,template_name:n,header:s,header_builder:d,page_title:o,page_title_builder:l,content:r,content_builder:c,footer:p,footer_builder:y,conditions:i};a.push(h)}),t.post(window.sydney_dashboard.ajax_url,{action:"sydney_template_builder_data",data:a,nonce:window.sydney_dashboard.nonce},function(e){e.success&&(s.html(window.sydney_dashboard.i18n.saved),t("#save-templates").addClass("saved"),setTimeout(function(){s.html(window.sydney_dashboard.i18n.save),s.blur()},2e3))})});const d=t("#add-new-template");d.length&&t("#add-new-template").on("click",function(){var a=t("#template-builder .template-item").first().clone();a.attr("data-id","sydney-template-"+Math.random().toString(36).slice(2)),a.find("h4").replaceWith('<input type="text" placeholder="Template name" name="template_name" value="">'),a.find(".template-options").show(),a.find("input").val(""),a.find(".template-part").attr("data-part-active","inactive"),a.appendTo("#template-builder"),e()}),t(document).on("click",".part-options-toggle",function(){t(this).parent().find(".part-options").fadeToggle(100),t(this).find("span").toggleClass("dashicons-ellipsis dashicons-no-alt")}),t(document).on("click",".template-part-inner .not-selected",function(){t(this).parent().parent().find(".part-options").fadeToggle(100),t(this).parent().parent().next(".part-options-toggle").find("span").toggleClass("dashicons-ellipsis dashicons-no-alt")}),t(document).on("click",".template-options .delete-template",function(a){a.preventDefault(),t(this).closest(".template-item").fadeOut(300,function(){t(this).remove()}),e()}),t("#template-builder").sortable({opacity:.6,revert:!0,animation:150,cursor:"move",cancel:".not-sortable",handle:".sort-handle"}),t(document).on("click",".template-options .duplicate-template",function(a){a.preventDefault();var n=t(this).closest(".template-item").clone();n.attr("data-id","sydney-template-"+Math.random().toString(36).slice(2)),n.insertAfter(t(this).closest(".template-item")).hide().fadeIn(300),e()}),t(document).on("click",".part-options .select-existing",function(){t(this).parent().parent().parent().find(".existing-parts-wrapper").fadeToggle(50),t(document).mouseup(function(e){var a=t(".existing-parts-wrapper");a.is(e.target)||0!==a.has(e.target).length||t(e.target).hasClass("select-existing")||a.fadeOut(50)})}),t(document).on("change",".existing-parts-select",function(){var a=t(this).closest(".template-item"),n=t(this).val(),i=t(this).parents(".template-part").data("part-type"),s=t(this).find(":selected").data("page-builder");a.find('input[name="'+i+'"]').val(n),n&&(t(this).parents(".template-part").attr("data-part-active","active"),t(this).parents(".template-part").attr("data-page-builder",s),t(this).parents(".template-part").find(".part-title").find(".selected").show().siblings().hide()),e()}),t(document).on("click",".part-options .reset",function(){var a=t(this).closest(".template-item"),n=t(this).parents(".template-part").data("part-type");a.find('input[name="'+n+'"]').val(""),t(this).parents(".template-part").attr("data-part-active","inactive"),t(this).parents(".template-part").find(".part-title").find(".not-selected").show().siblings().hide(),t(this).parent().fadeToggle(100),t(this).parents(".template-part").find(".part-options-toggle span").toggleClass("dashicons-ellipsis dashicons-no-alt"),e()}),t(document).on("click",".part-options .select-page-builder",function(){t(this).closest(".template-item");t(this).parent().parent().parent().find(".page-builder-wrapper").fadeToggle(50),t(document).mouseup(function(e){var a=t(".page-builder-wrapper");a.is(e.target)||0!==a.has(e.target).length||t(e.target).hasClass("select-page-builder")||a.fadeOut(50)})}),t(document).on("click",".page-builder-wrapper .create-new",function(){var a=t(this).closest(".template-item"),n=a.data("id"),i=t(this).parents(".template-part"),s=i.data("part-type"),d=t(".sydney-elementor-iframe-wrapper"),o=d.find(".sydney-elementor-iframe"),l=t(this).data("page-builder"),r=t(this).html();return t(this).html(r+'<i class="dashicons dashicons-update-alt page-builder-spinner" style="position:relative;top:10px;left:5px;"></i>'),t.post(window.sydney_dashboard.ajax_url,{action:"insert_template_part_callback",key:n,part_type:s,page_builder:l,nonce:window.sydney_dashboard.nonce},function(n){n.success&&(a.find('input[name="'+s+'"]').val(n.data.id),"elementor"==l?(o.attr("src",n.data.url),o.on("load",function(){d.show(),d.css("z-index","9999")}),t(document).on("click",".sydney-editor-close",function(){d.hide(),d.css("z-index","0")})):window.open(n.data.url,"_blank"),e(),i.attr("data-page-builder",l),setTimeout(function(){i.attr("data-part-active","active"),i.find(".part-title").find(".selected").show().siblings().hide(),t(".page-builder-spinner").remove()},3e3))}),!1}),t(document).on("click",".part-options .edit-part",function(){var e=t(this).parents(".template-part"),a=e.data("part-type"),n=t(this).text(),i=e.find('input[name="'+a+'"]').val(),s=t(".sydney-elementor-iframe-wrapper"),d=s.find(".sydney-elementor-iframe"),o=e.data("page-builder");t(this).html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.loading),t.post(window.sydney_dashboard.ajax_url,{action:"edit_template_part_callback",key:i,part_type:a,page_builder:o,nonce:window.sydney_dashboard.nonce},function(a){a.success&&("elementor"==o?(d.attr("src",a.data.url),d.on("load",function(){s.show(),s.css("z-index","9999")}),t(document).on("click",".sydney-editor-close",function(){s.hide(),s.css("z-index","0")})):window.open(a.data.url,"_blank")),setTimeout(function(){e.find(".edit-part").html(n)},3e3)})}),t(document).on("sydney-display-conditions-select2-initalize",function(e,a){var n=t(a),i=(n.closest(".sydney-display-conditions-control"),n.find(".sydney-display-conditions-select2-type")),s=i.find("select"),d=n.find(".sydney-display-conditions-select2-condition"),o=d.find("select"),l=n.find(".sydney-display-conditions-select2-id"),r=l.find("select");s.select2({width:"100%",minimumResultsForSearch:-1}),s.on("select2:select",function(t){i.attr("data-type",t.params.data.id)}),o.select2({width:"100%"}),o.on("select2:select",function(e){var a=t(e.params.data.element);a.data("ajax")?l.removeClass("hidden"):l.addClass("hidden"),r.val(null).trigger("change")});var c=o.find(":selected").data("ajax");c&&l.removeClass("hidden"),r.select2({width:"100%",placeholder:"",allowClear:!0,minimumInputLength:1,ajax:{url:window.sydney_dashboard.ajax_url,dataType:"json",delay:250,cache:!0,data:function(t){return{action:"sydney_templates_display_conditions_select_ajax",term:t.term,nonce:window.sydney_dashboard.nonce,source:o.val()}},processResults:function(t,e){return t.success?{results:t.data}:{}}}})}),t(document).on("click",".sydney-display-conditions-modal-toggle",function(e){e.preventDefault();var a=t(this),n=wp.template("sydney-display-conditions-template"),i=a.closest(".sydney-display-conditions-control"),s=i.find(".sydney-display-conditions-modal");if(s.data("initialized"))s.toggleClass("open");else{i.append(n(i.data("condition-settings")));var d=i.find(".sydney-display-conditions-modal-content-list-item").not(".hidden");d.length&&d.each(function(){t(document).trigger("sydney-display-conditions-select2-initalize",this)}),s=i.find(".sydney-display-conditions-modal"),s.data("initialized",!0),s.addClass("open")}}),t(document).on("click",".sydney-display-conditions-modal",function(e){e.preventDefault();var a=t(this);t(e.target).is(a)&&t(".sydney-display-conditions-modal").removeClass("open")}),t(document).on("click",".sydney-display-conditions-modal-add",function(e){e.preventDefault();var a=t(this),n=a.closest(".sydney-display-conditions-control"),i=n.find(".sydney-display-conditions-modal"),s=i.find(".sydney-display-conditions-modal-content-list"),d=i.find(".sydney-display-conditions-modal-content-list-item").first().clone(),o=a.data("condition-group");d.removeClass("hidden"),d.find(".sydney-display-conditions-select2-condition").not('[data-condition-group="'+o+'"]').remove(),s.append(d),t(document).trigger("sydney-display-conditions-select2-initalize",d)}),t(document).on("click",".sydney-display-conditions-modal-remove",function(e){e.preventDefault();var a=t(this).closest(".sydney-display-conditions-modal-content-list-item");a.remove()}),t(document).on("click",".sydney-display-conditions-modal-save",function(e){e.preventDefault();var a=[],n=t(this),i=n.closest(".sydney-display-conditions-control"),s=i.find(".sydney-display-conditions-modal"),d=i.find(".sydney-display-conditions-textarea"),o=s.find(".sydney-display-conditions-modal-content-list-item").not(".hidden");o.each(function(){var e=t(this);a.push({type:e.find('select[name="type"]').val(),condition:e.find('select[name="condition"]').val(),id:e.find('select[name="id"]').val()})}),d.val(JSON.stringify(a)).trigger("change")});const o=t(".sydney-dashboard-tabs-nav");o.length&&o.each(function(){const e=t(this).data("tab-wrapper-id");t(this).find(".sydney-dashboard-tabs-nav-link").on("click",function(a){a.preventDefault();const n=t(this).closest(".sydney-dashboard-tabs-nav").find(".sydney-dashboard-tabs-nav-link"),i=t(this).data("tab-to");n.each(function(){t(this).closest(".sydney-dashboard-tabs-nav-item").removeClass("active")}),t(this).closest(".sydney-dashboard-tabs-nav-item").addClass("active");const s=t('.sydney-dashboard-tab-content-wrapper[data-tab-wrapper-id="'+e+'"]');s.find("> .sydney-dashboard-tab-content").removeClass("active"),s.find('> .sydney-dashboard-tab-content[data-tab-content-id="'+i+'"]').addClass("active"),"home"===i&&t(document.body).trigger("sticky_kit:recalc")})});var l=t(".sydney-license-button");l.length&&l.on("click",function(e){var a=t(this);"activate"===a.data("type")?a.html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.activating):a.html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.deactivating)});var r=t(".sydney-dashboard-plugin-ajax-button");r.length&&r.on("click",function(e){e.preventDefault();var a=t(this),n=a.attr("href"),i=a.data("slug"),s=a.data("type"),d=a.data("path"),o=a.html();a.addClass("sydney-ajax-progress"),a.parent().siblings(".sydney-dashboard-hero-warning").remove(),"install"===s?a.html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.installing):"activate"===s?a.html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.activating):"deactivate"===s&&a.html('<i class="dashicons dashicons-update-alt"></i>'+window.sydney_dashboard.i18n.deactivating),t.post(window.sydney_dashboard.ajax_url,{action:"sydney_plugin",nonce:window.sydney_dashboard.nonce,slug:i,type:s,path:d},function(t){if(t.success){if(a.hasClass("sydney-ajax-success-redirect"))return setTimeout(function(){a.html(window.sydney_dashboard.i18n.redirecting),setTimeout(function(){window.location=n},1e3)},500),!1;"install"===s?a.html(window.sydney_dashboard.i18n.deactivate).removeClass("sydney-dashboard-link-info").addClass("sydney-dashboard-link-danger").removeClass("loading").data("type","deactivate"):"deactivate"===s?a.html(window.sydney_dashboard.i18n.activate).removeClass("sydney-dashboard-link-danger").addClass("sydney-dashboard-link-success").removeClass("loading").data("type","activate"):a.html(window.sydney_dashboard.i18n.deactivate).removeClass("sydney-dashboard-link-success").addClass("sydney-dashboard-link-danger").removeClass("loading").data("type","deactivate"),a.removeClass("sydney-ajax-progress")}else t.data?(a.html(o),a.parent().after('<div class="sydney-dashboard-hero-warning">'+t.data+"</div>")):(a.html(o),a.parent().after('<div class="sydney-dashboard-hero-warning">'+window.sydney_dashboard.i18n.failed_message+"</div>"))}).fail(function(t,e,n){a.html(o),a.parent().after('<div class="sydney-dashboard-hero-warning">'+window.sydney_dashboard.i18n.failed_message+"</div>")})});const c=t(".sydney-dashboard-module-activation");c.length&&c.on("click",function(e){e.preventDefault();const a=t(this),n=a.data("module-id"),i=!!a.data("module-activate"),s=i?window.sydney_dashboard.i18n.activating:window.sydney_dashboard.i18n.deactivating;a.html('<i class="dashicons dashicons-update-alt"></i>'+s).removeClass("sydney-dashboard-link-success").addClass("loading"),t.post(window.sydney_dashboard.ajax_url,{action:"sydney_module_activation_handler",nonce:window.sydney_dashboard.nonce,module:n,activate:i},function(t){t.success&&(i?(a.html(window.sydney_dashboard.i18n.deactivate).removeClass("sydney-dashboard-link-success").addClass("sydney-dashboard-link-danger").removeClass("loading").data("module-activate",!1),a.parent().find(".sydney-dashboard-customize-link").removeClass("bt-d-none"),"templates"===n&&window.location.reload()):(a.html(window.sydney_dashboard.i18n.activate).removeClass("sydney-dashboard-link-danger").addClass("sydney-dashboard-link-success").removeClass("loading").data("module-activate",!0),a.parent().find(".sydney-dashboard-customize-link").addClass("bt-d-none"),"templates"===n&&window.location.reload()))})});const p=t(".sydney-dashboard-module-activation-all");p.length&&p.on("click",function(e){e.preventDefault();const a=t(this),n=!!a.data("module-activate"),i=n?window.sydney_dashboard.i18n.activating:window.sydney_dashboard.i18n.deactivating;a.html(i).addClass("loading"),t.post(window.sydney_dashboard.ajax_url,{action:"sydney_module_activation_all_handler",nonce:window.sydney_dashboard.nonce,activate:n},function(t){t.success&&window.location.reload()})}),t(".sydney-dashboard-sticky-wrapper").stick_in_parent({offset_top:54});const y=t(".sydney-dashboard-notifications-sidebar");y.length&&(t(".sydney-dashboard-theme-notifications").on("click",function(e){e.preventDefault();const a=y.find(".sydney-dashboard-notification:first-child .sydney-dashboard-notification-date").data("raw-date");y.toggleClass("opened"),t(this).hasClass("read")||t.post(window.sydney_dashboard.ajax_url,{action:"sydney_notifications_read",latest_notification_date:a,nonce:window.sydney_dashboard.nonce},function(e){e.success&&setTimeout(function(){t(".sydney-dashboard-theme-notifications").addClass("read")},2e3)})}),t(window).on("scroll",function(){window.pageYOffset>60?y.addClass("scrolled"):y.removeClass("scrolled")}),t(".sydney-dashboard-notifications-sidebar-close").on("click",function(t){t.preventDefault(),y.addClass("closing"),setTimeout(function(){y.removeClass("opened"),y.removeClass("closing")},300)}))})}(jQuery);