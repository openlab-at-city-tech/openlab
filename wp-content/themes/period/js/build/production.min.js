function setHasTouch(){hasTouch=!0,window.removeEventListener("touchstart",setHasTouch);var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth;e>899&&enableTouchDropdown()}function enableTouchDropdown(){var a=document.getElementsByClassName("menu-item-has-children");for(i=0;i<a.length;i++)a[i].className=a[i].className+" closed",a[i].addEventListener("click",openDropdown)}function hasClass(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function openDropdown(a){hasClass(this,"closed")&&(a.preventDefault(),this.className=this.className.replace("closed",""))}!function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(){var b=a(this);if(!(b.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),f=c/e;if(!b.attr("id")){var g="fitvid"+Math.floor(999999*Math.random());b.attr("id",g)}b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*f+"%"),b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),jQuery(document).ready(function(a){function b(){if(j.hasClass("open"))j.removeClass("open"),a(this).removeClass("open"),j.css("max-height",""),a(this).children("span").text(ct_period_objectL10n.openMenu),a(this).attr("aria-expanded","false"),f(!0);else{j.addClass("open"),a(this).addClass("open");var b=k.outerHeight(!0);m.length&&(b+=m.outerHeight(!0)),j.css("max-height",b+"px"),a(this).children("span").text(ct_period_objectL10n.closeMenu),a(this).attr("aria-expanded","true"),f(!1),a("#menu-primary-container").find(".sub-menu").find("a").attr("tabindex",-1),a("#menu-primary-container").find(".sub-menu").find("button").attr("tabindex",-1)}}function c(){if(window.innerWidth<900){var b=a(this).parent();if(b.hasClass("open"))b.removeClass("open"),a(this).siblings("ul").css("max-height",0),a(this).children(".screen-reader-text").text(ct_period_objectL10n.openChildMenu),a(this).attr("aria-expanded","false"),b.children(".sub-menu").find("a").attr("tabindex",-1),b.children(".sub-menu").find("button").attr("tabindex",-1);else{b.addClass("open");var c=0;a(this).siblings("ul").find("li").each(function(){c=c+a(this).height()+1.5*a(this).height()}),a(this).siblings("ul").css("max-height",c),j.css("max-height",9999),a(this).children(".screen-reader-text").text(ct_period_objectL10n.closeChildMenu),a(this).attr("aria-expanded","true"),b.children(".sub-menu").children("li").children("a").attr("tabindex",0),b.children(".sub-menu").children("li").children("button").attr("tabindex",0)}}}function d(){if(a(this).hasClass("open"))a(this).removeClass("open"),m.removeClass("fade"),h.find(".search-field").attr("tabindex",-1),window.innerWidth<900&&h.find(".search-form").attr("style","");else if(a(this).addClass("open"),m.addClass("fade"),h.find(".search-field").attr("tabindex",0),h.find(".search-field").focus(),window.innerWidth<900){var b=.83332*window.innerWidth-35;h.find(".search-form").css("left",-b+"px")}}function e(){"object-fit"in document.body.style||a(".featured-image").each(function(){if(!a(this).parent().parent(".entry").hasClass("ratio-natural")){var b=a(this).children("img").add(a(this).children("a").children("img"));if(b.hasClass("no-object-fit"))return;b.addClass("no-object-fit"),b.outerWidth()<a(this).outerWidth()&&b.css({width:"100%","min-width":"100%","max-width":"100%",height:"auto","min-height":"100%","max-height":"none"}),b.outerHeight()<a(this).outerHeight()&&b.css({height:"100%","min-height":"100%","max-height":"100%",width:"auto","min-width":"100%","max-width":"none"})}})}function f(b){b?(a("#menu-primary-container").find("a").attr("tabindex",-1),a("#menu-primary-container").find("button").attr("tabindex",-1)):(a("#menu-primary-container").find("a").attr("tabindex",0),a("#menu-primary-container").find("button").attr("tabindex",0))}var g=a("body"),h=a("#site-header"),i=(a("#title-container"),a("#toggle-navigation")),j=a("#menu-primary-container"),k=a("#menu-primary"),l=(a("#menu-primary-items"),a(".toggle-dropdown")),m=(a("#sidebar-primary"),h.find(".social-media-icons")),n=a(".menu-item").children("a");e(),i.on("click",b),l.on("click",c),g.on("click","#search-icon",d),a(".post-content").fitVids({customSelector:'iframe[src*="dailymotion.com"], iframe[src*="slideshare.net"], iframe[src*="animoto.com"], iframe[src*="blip.tv"], iframe[src*="funnyordie.com"], iframe[src*="hulu.com"], iframe[src*="ted.com"], iframe[src*="wordpress.tv"]'}),window.innerWidth<900&&f(!0),a(window).on("resize",function(){e(),f(window.innerWidth<900?!0:!1)}),a(document.body).on("post-load",function(){e()}),n.on("focus",function(){a(this).parents("ul").addClass("focused")}),n.on("focusout",function(){a(this).parents("ul").removeClass("focused")}),0!==a("#scroll-to-top").length&&(a(window).on("scroll",function(){a(this).scrollTop()>=200?a("#scroll-to-top").addClass("visible"):a("#scroll-to-top").removeClass("visible")}),a("#scroll-to-top").click(function(){a("body,html").animate({scrollTop:0},600),a(this).blur()}))}),window.addEventListener("hashchange",function(){var a=document.getElementById(location.hash.substring(1));a&&(/^(?:a|select|input|button|textarea)$/i.test(a.tagName)||(a.tabIndex=-1),a.focus())},!1);var hasTouch;window.addEventListener("touchstart",setHasTouch,!1);